"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[6571],{11371(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>m,frontMatter:()=>t,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"laravel-form/deep-diving/requests/form-builder-request","title":"FormBuilderRequest","description":"The FormBuilderRequest class is a generic FormRequest that automatically builds validation rules and attributes from a FormBuilder or Form definition using CustomField instances. It allows you to drive validation directly from your form builder configuration instead of manually writing rules in each request.","source":"@site/packages/laravel-form/deep-diving/requests/form-builder-request.md","sourceDirName":"laravel-form/deep-diving/requests","slug":"/laravel-form/deep-diving/requests/form-builder-request","permalink":"/packages/laravel-form/deep-diving/requests/form-builder-request","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-form/deep-diving/requests/form-builder-request.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"FormBuilderRequest"},"sidebar":"packagesSidebar","previous":{"title":"Group","permalink":"/packages/laravel-form/deep-diving/groups/group"},"next":{"title":"FormTypeObjectRequest","permalink":"/packages/laravel-form/deep-diving/requests/form-type-object-request"}}');var l=i(74848),d=i(28453),s=i(28774);const t={sidebar_position:1,sidebar_label:"FormBuilderRequest"},a="FormBuilderRequest",o={},u=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"Set Form Builder",id:"set-form-builder",level:3},{value:"Include Hidden Fields",id:"include-hidden-fields",level:3},{value:"Rules",id:"rules",level:3},{value:"Attributes",id:"attributes",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"In Controller",id:"in-controller",level:3},{value:"Setting Form Builder",id:"setting-form-builder",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Form with Validation Rules",id:"form-with-validation-rules",level:3},{value:"Excluding Hidden Fields",id:"excluding-hidden-fields",level:3},{value:"When to Use FormBuilderRequest",id:"when-to-use-formbuilderrequest",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"formbuilderrequest",children:"FormBuilderRequest"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"FormBuilderRequest"})," class is a generic ",(0,l.jsx)(n.code,{children:"FormRequest"})," that automatically builds validation rules and attributes from a ",(0,l.jsx)(n.code,{children:"FormBuilder"})," or ",(0,l.jsx)(n.code,{children:"Form"})," definition using ",(0,l.jsx)(n.code,{children:"CustomField"})," instances. It allows you to drive validation directly from your form builder configuration instead of manually writing rules in each request."]}),"\n",(0,l.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"JobMetric\\Form\\Http\\Requests\\FormBuilderRequest\n"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"FormBuilderRequest"})," eliminates the need to manually write validation rules by automatically generating them from form field configurations. When a form field has validation rules defined, they are automatically included in the request validation."]}),"\n",(0,l.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"public function __construct(FormBuilder $formBuilder, bool $includeHiddenFields = true)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$formBuilder"})," (",(0,l.jsx)(n.code,{children:"FormBuilder"}),"): The form builder instance used to define the form"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$includeHiddenFields"})," (",(0,l.jsx)(n.code,{children:"bool"}),"): Whether to include hidden fields in validation (default: ",(0,l.jsx)(n.code,{children:"true"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,l.jsx)(n.h3,{id:"set-form-builder",children:"Set Form Builder"}),"\n",(0,l.jsx)(n.p,{children:"Set or update the form builder instance:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$request->setFormBuilder($formBuilder);\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$formBuilder"})," (",(0,l.jsx)(n.code,{children:"FormBuilder"}),"): The form builder instance"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Returns:"})," ",(0,l.jsx)(n.code,{children:"static"})," - Returns the request instance for method chaining"]}),"\n",(0,l.jsx)(n.h3,{id:"include-hidden-fields",children:"Include Hidden Fields"}),"\n",(0,l.jsx)(n.p,{children:"Configure whether hidden fields should be included in validation:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$request->includeHiddenFields(false);\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$include"})," (",(0,l.jsx)(n.code,{children:"bool"}),"): Whether to include hidden fields (default: ",(0,l.jsx)(n.code,{children:"true"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Returns:"})," ",(0,l.jsx)(n.code,{children:"static"})," - Returns the request instance for method chaining"]}),"\n",(0,l.jsx)(n.h3,{id:"rules",children:"Rules"}),"\n",(0,l.jsx)(n.p,{children:"Automatically generates validation rules from form field configurations:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"public function rules(): array\n{\n    // Automatically generated from form fields\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Returns:"})," ",(0,l.jsx)(n.code,{children:"array"})," - Validation rules array"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," This method is automatically called by Laravel during request validation."]}),"\n",(0,l.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,l.jsx)(n.p,{children:"Automatically generates attribute names from form field labels:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"public function attributes(): array\n{\n    // Automatically generated from form field labels\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Returns:"})," ",(0,l.jsx)(n.code,{children:"array"})," - Attribute names array"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," This method is automatically called by Laravel during request validation."]}),"\n",(0,l.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,l.jsx)(n.h3,{id:"in-controller",children:"In Controller"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Form\\FormBuilder;\nuse JobMetric\\Form\\Http\\Requests\\FormBuilderRequest;\n\nclass UserController extends Controller\n{\n    public function store(FormBuilderRequest $request)\n    {\n        // Validation is automatically handled\n        $validated = $request->validated();\n        \n        // Create user\n        User::create($validated);\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"setting-form-builder",children:"Setting Form Builder"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Form\\FormBuilder;\nuse JobMetric\\Form\\Http\\Requests\\FormBuilderRequest;\n\nclass UserController extends Controller\n{\n    public function create()\n    {\n        $formBuilder = FormBuilder::make()\n            ->action('/users')\n            ->method('POST')\n            ->tab(function ($tab) {\n                $tab->id('personal')\n                    ->label('Personal Information')\n                    ->group(function ($group) {\n                        $group->label('Basic Info')\n                            ->customField(function ($field) {\n                                $field->text()\n                                    ->name('name')\n                                    ->label('Full Name')\n                                    ->validation('required|string|max:255')\n                                    ->build();\n                            })\n                            ->customField(function ($field) {\n                                $field->email()\n                                    ->name('email')\n                                    ->label('Email')\n                                    ->validation('required|email|unique:users,email')\n                                    ->build();\n                            })\n                            ->build();\n                    })\n                    ->build();\n            });\n        \n        $request = new FormBuilderRequest($formBuilder);\n        \n        return view('users.create', [\n            'form' => $formBuilder->build(),\n            'request' => $request,\n        ]);\n    }\n    \n    public function store(FormBuilderRequest $request)\n    {\n        $validated = $request->validated();\n        User::create($validated);\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,l.jsx)(n.h3,{id:"form-with-validation-rules",children:"Form with Validation Rules"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$formBuilder = FormBuilder::make()\n    ->action('/products')\n    ->method('POST')\n    ->tab(function ($tab) {\n        $tab->id('details')\n            ->label('Product Details')\n            ->group(function ($group) {\n                $group->label('Basic Information')\n                    ->customField(function ($field) {\n                        $field->text()\n                            ->name('name')\n                            ->label('Product Name')\n                            ->validation('required|string|max:255')\n                            ->build();\n                    })\n                    ->customField(function ($field) {\n                        $field->number()\n                            ->name('price')\n                            ->label('Price')\n                            ->validation('required|numeric|min:0')\n                            ->build();\n                    })\n                    ->customField(function ($field) {\n                        $field->select()\n                            ->name('category_id')\n                            ->label('Category')\n                            ->validation('required|exists:categories,id')\n                            ->build();\n                    })\n                    ->build();\n            })\n            ->build();\n    });\n\n$request = new FormBuilderRequest($formBuilder);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"excluding-hidden-fields",children:"Excluding Hidden Fields"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$formBuilder = FormBuilder::make()\n    ->action('/orders')\n    ->method('POST')\n    ->hiddenCustomField(function ($field) {\n        $field->hidden()\n            ->name('user_id')\n            ->value(auth()->id())\n            ->build();\n    })\n    ->tab(function ($tab) {\n        $tab->id('details')\n            ->label('Order Details')\n            ->group(function ($group) {\n                $group->label('Information')\n                    ->customField(function ($field) {\n                        $field->text()\n                            ->name('notes')\n                            ->label('Notes')\n                            ->validation('nullable|string|max:1000')\n                            ->build();\n                    })\n                    ->build();\n            })\n            ->build();\n    });\n\n// Exclude hidden fields from validation\n$request = new FormBuilderRequest($formBuilder, false);\n"})}),"\n",(0,l.jsx)(n.h2,{id:"when-to-use-formbuilderrequest",children:"When to Use FormBuilderRequest"}),"\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"FormBuilderRequest"})," when you need to:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Automatic Validation"}),": Generate validation rules from form definitions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"DRY Principle"}),": Avoid duplicating validation rules in requests"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Consistency"}),": Ensure validation matches form structure"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maintainability"}),": Update validation by updating form definitions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Form-Driven Validation"}),": Keep validation logic close to form definitions"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/requests/form-type-object-request",children:"FormTypeObjectRequest"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/form-builder",children:"FormBuilder"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/form",children:"Form"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(s.A,{to:"/packages/laravel-custom-field/deep-diving/custom-field",children:"CustomField"}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453(e,n,i){i.d(n,{R:()=>s,x:()=>t});var r=i(96540);const l={},d=r.createContext(l);function s(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);