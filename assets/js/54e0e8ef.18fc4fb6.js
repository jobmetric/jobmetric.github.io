"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[6549],{28453(e,n,r){r.d(n,{R:()=>a,x:()=>i});var l=r(96540);const s={},t=l.createContext(s);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(t.Provider,{value:n},e.children)}},97840(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"laravel-translation/deep-diving/requests/multi-translation-array-request","title":"MultiTranslationArrayRequest Trait","description":"The MultiTranslationArrayRequest trait helps you build validation rules and friendly attribute labels for multi-locale translation payloads under a single input root named translation. It is designed to work with models using the HasTranslation trait and a locale provider (via Language::all()).","source":"@site/packages/laravel-translation/deep-diving/requests/multi-translation-array-request.md","sourceDirName":"laravel-translation/deep-diving/requests","slug":"/laravel-translation/deep-diving/requests/multi-translation-array-request","permalink":"/packages/laravel-translation/deep-diving/requests/multi-translation-array-request","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-translation/deep-diving/requests/multi-translation-array-request.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"MultiTranslationArrayRequest"},"sidebar":"packagesSidebar","previous":{"title":"TranslationArrayRequest","permalink":"/packages/laravel-translation/deep-diving/requests/translation-array-request"},"next":{"title":"TranslationTypeObjectRequest","permalink":"/packages/laravel-translation/deep-diving/requests/translation-type-object-request"}}');var s=r(74848),t=r(28453),a=r(28774);const i={sidebar_position:2,sidebar_label:"MultiTranslationArrayRequest"},d="MultiTranslationArrayRequest Trait",o={},c=[{value:"When to Use MultiTranslationArrayRequest",id:"when-to-use-multitranslationarrayrequest",level:2},{value:"What It Generates",id:"what-it-generates",level:2},{value:"Requirements (Conceptual)",id:"requirements-conceptual",level:2},{value:"Quick Start (Typical Usage)",id:"quick-start-typical-usage",level:2},{value:"1) Put the trait in your <strong>FormRequest</strong>",id:"1-put-the-trait-in-your-formrequest",level:3},{value:"Example: Resulting <code>rules()</code> Output",id:"example-resulting-rules-output",level:2},{value:"Wildcard Mode Example",id:"wildcard-mode-example",level:3},{value:"Example: Resulting <code>attributes()</code> Output",id:"example-resulting-attributes-output",level:2},{value:"Using a Translation Key with <code>{field}</code>",id:"using-a-translation-key-with-field",level:3},{value:"Wildcard Mode for Attributes",id:"wildcard-mode-for-attributes",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"<code>renderMultiTranslationFiled(array &amp;$rules, string $model_name, string $field_name = &#39;name&#39;, ?int $object_id = null, ?int $parent_id = -1, array $parent_where = []): void</code>",id:"rendermultitranslationfiledarray-rules-string-model_name-string-field_name--name-int-object_id--null-int-parent_id---1-array-parent_where---void",level:3},{value:"<code>renderMultiTranslationAttribute(array &amp;$params, string $model_name, ?string $trans_scope = null): void</code>",id:"rendermultitranslationattributearray-params-string-model_name-string-trans_scope--null-void",level:3},{value:"Complete Copy\u2011Paste Example",id:"complete-copypaste-example",level:2},{value:"Tips",id:"tips",level:2},{value:"Summary",id:"summary",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"multitranslationarrayrequest-trait",children:"MultiTranslationArrayRequest Trait"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"MultiTranslationArrayRequest"})," trait helps you build ",(0,s.jsx)(n.strong,{children:"validation rules"})," and ",(0,s.jsx)(n.strong,{children:"friendly attribute labels"})," for multi-locale translation payloads under a single input root named ",(0,s.jsx)(n.code,{children:"translation"}),". It is designed to work with models using the ",(0,s.jsx)(n.code,{children:"HasTranslation"})," trait and a locale provider (via ",(0,s.jsx)(n.code,{children:"Language::all()"}),")."]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-multitranslationarrayrequest",children:"When to Use MultiTranslationArrayRequest"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Use ",(0,s.jsx)(n.code,{children:"MultiTranslationArrayRequest"})," when you need:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-locale validation"}),": Validate translations for all active locales from ",(0,s.jsx)(n.code,{children:"Language::all()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic locale detection"}),": Automatically generates rules for all available locales"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Array-based structure"}),": Your translation payload uses a simple array format"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Primary field uniqueness"}),": Enforces uniqueness for a primary field across all locales"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wildcard field support"}),": Works with models that allow all fields (",(0,s.jsx)(n.code,{children:"['*']"}),") or specific fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Comprehensive validation"}),": Validates all locales at once, ensuring complete translation coverage"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example scenarios:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"E-commerce product forms requiring translations for all active languages"}),"\n",(0,s.jsx)(n.li,{children:"CMS content management with mandatory translations for all locales"}),"\n",(0,s.jsx)(n.li,{children:"Multi-language blog post creation with validation for all supported languages"}),"\n",(0,s.jsx)(n.li,{children:"Category management forms that require translations in all active locales"}),"\n",(0,s.jsx)(n.li,{children:"Content forms where all locales must be provided and validated together"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No database or tests required here."})," This document focuses on request-side validation and attribute labeling, with practical, copy\u2011pasteable examples ",(0,s.jsx)(n.strong,{children:"including expected output"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"what-it-generates",children:"What It Generates"}),"\n",(0,s.jsxs)(n.p,{children:["For each locale returned by ",(0,s.jsx)(n.code,{children:"Language::all()"}),", this trait will generate:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A container rule for ",(0,s.jsx)(n.code,{children:"translation.{locale}"})," (array)"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"primary field"})," rule with uniqueness enforcement via ",(0,s.jsx)(n.code,{children:"TranslationFieldExistRule"})]}),"\n",(0,s.jsxs)(n.li,{children:["Rules for ",(0,s.jsx)(n.strong,{children:"other allowed fields"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If the model allows all fields (",(0,s.jsx)(n.code,{children:"['*']"}),"): ",(0,s.jsx)(n.code,{children:"translation.{locale}.* => string|nullable|sometimes"})]}),"\n",(0,s.jsxs)(n.li,{children:["Otherwise: adds ",(0,s.jsx)(n.code,{children:"string|nullable|sometimes"})," for each explicit allowed field"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It can also generate human-friendly attribute labels (e.g., for error messages) for each ",(0,s.jsx)(n.code,{children:"translation.{locale}.{field}"})," key."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"requirements-conceptual",children:"Requirements (Conceptual)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A model that ",(0,s.jsxs)(n.strong,{children:["uses ",(0,s.jsx)(n.code,{children:"HasTranslation"})]}),", so the trait can query allowed fields through ",(0,s.jsx)(n.code,{children:"getTranslatableFields()"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["A language provider (e.g., ",(0,s.jsx)(n.code,{children:"Language::all()"}),") that returns locales like ",(0,s.jsx)(n.code,{children:"en"}),", ",(0,s.jsx)(n.code,{children:"fa"}),", etc."]}),"\n",(0,s.jsxs)(n.li,{children:["The rule class ",(0,s.jsx)(n.code,{children:"TranslationFieldExistRule"})," to apply uniqueness checks for the ",(0,s.jsx)(n.strong,{children:"primary"})," translated field per locale."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["The trait ",(0,s.jsx)(n.strong,{children:"does not"})," access your database here; it only builds arrays for validation and attributes."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"quick-start-typical-usage",children:"Quick Start (Typical Usage)"}),"\n",(0,s.jsxs)(n.h3,{id:"1-put-the-trait-in-your-formrequest",children:["1) Put the trait in your ",(0,s.jsx)(n.strong,{children:"FormRequest"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nnamespace App\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Http\\Requests\\MultiTranslationArrayRequest;\n\nclass StorePostRequest extends FormRequest\n{\n    use MultiTranslationArrayRequest;\n\n    public function authorize(): bool\n    {\n        return true;\n    }\n\n    public function rules(): array\n    {\n        $rules = [\n            'slug' => 'required|string',\n        ];\n\n        // Build translation rules for App\\Models\\Post\n        $this->renderMultiTranslationFiled(\n            $rules,\n            \\App\\Models\\Post::class, // model using HasTranslation\n            'title',                 // primary field to enforce uniqueness on\n            null,                    // object_id: exclude current record on update (null for create)\n            -1,                      // parent_id: leave -1 to ignore\n            []                       // parent_where: extra constraints (optional)\n        );\n\n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $attributes = [\n            'slug' => 'Slug',\n        ];\n\n        // Create readable labels. You can pass a translation key that contains \"{field}\"\n        // Example value: \"Translation ({field})\"\n        $this->renderMultiTranslationAttribute(\n            $attributes,\n            \\App\\Models\\Post::class,\n            null // or 'validation.attributes.translation_field' containing \"{field}\"\n        );\n\n        return $attributes;\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The method name is ",(0,s.jsx)(n.code,{children:"renderMultiTranslationFiled"})," (with a trailing \u201cd\u201d), keep it exactly as implemented in your trait."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"example-resulting-rules-output",children:["Example: Resulting ",(0,s.jsx)(n.code,{children:"rules()"})," Output"]}),"\n",(0,s.jsx)(n.p,{children:"Assume:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Language::all()"})," returns locales: ",(0,s.jsx)(n.code,{children:"en"}),", ",(0,s.jsx)(n.code,{children:"fa"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"App\\Models\\Post"})," uses ",(0,s.jsx)(n.code,{children:"HasTranslation"})," with ",(0,s.jsx)(n.code,{children:"protected array $translatables = ['title','summary'];"})]}),"\n",(0,s.jsxs)(n.li,{children:["You set ",(0,s.jsx)(n.code,{children:"field_name = 'title'"})," as the ",(0,s.jsx)(n.strong,{children:"primary"})," field"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Code (from ",(0,s.jsx)(n.code,{children:"rules()"}),"):"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$rules = [\n    'slug' => 'required|string',\n];\n\n$this->renderMultiTranslationFiled(\n    $rules,\n    \\App\\Models\\Post::class,\n    'title',\n    null,\n    -1,\n    []\n);\n\nreturn $rules;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Expected Output (",(0,s.jsx)(n.code,{children:"print_r($rules)"}),"):"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Array\n(\n    [slug] => required|string\n    [translation] => array\n    [translation.en] => array\n    [translation.en.title] => Array\n        (\n            [0] => string\n            [1] => JobMetric\\Translation\\Rules\\TranslationFieldExistRule Object (...)\n        )\n\n    [translation.en.summary] => string|nullable|sometimes\n    [translation.fa] => array\n    [translation.fa.title] => Array\n        (\n            [0] => string\n            [1] => JobMetric\\Translation\\Rules\\TranslationFieldExistRule Object (...)\n        )\n\n    [translation.fa.summary] => string|nullable|sometimes\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"wildcard-mode-example",children:"Wildcard Mode Example"}),"\n",(0,s.jsxs)(n.p,{children:["If the model allows all fields (",(0,s.jsx)(n.code,{children:"getTranslatableFields()"})," returns ",(0,s.jsx)(n.code,{children:"['*']"}),"), then instead of enumerating each field you will get a wildcard:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected Output (excerpt):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[translation.en.*] => string|nullable|sometimes\n[translation.fa.*] => string|nullable|sometimes\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"example-resulting-attributes-output",children:["Example: Resulting ",(0,s.jsx)(n.code,{children:"attributes()"})," Output"]}),"\n",(0,s.jsxs)(n.p,{children:["Assume the same setup as above and ",(0,s.jsx)(n.strong,{children:"no"})," translation key passed (",(0,s.jsx)(n.code,{children:"$trans_scope = null"}),")."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Code (from ",(0,s.jsx)(n.code,{children:"attributes()"}),"):"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$attributes = [\n    'slug' => 'Slug',\n];\n\n$this->renderMultiTranslationAttribute(\n    $attributes,\n    \\App\\Models\\Post::class,\n    null\n);\n\nreturn $attributes;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Expected Output (",(0,s.jsx)(n.code,{children:"print_r($attributes)"}),"):"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Array\n(\n    [slug] => Slug\n    [translation.en.title] => title\n    [translation.en.summary] => summary\n    [translation.fa.title] => title\n    [translation.fa.summary] => summary\n)\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"using-a-translation-key-with-field",children:["Using a Translation Key with ",(0,s.jsx)(n.code,{children:"{field}"})]}),"\n",(0,s.jsxs)(n.p,{children:["If you pass a key that contains ",(0,s.jsx)(n.code,{children:"{field}"}),", the token will be replaced per field. For example, if your translation key renders to ",(0,s.jsx)(n.code,{children:"Translation ({field})"}),", labels would look like:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected Output (excerpt):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[translation.en.title] => Translation (title)\n[translation.en.summary] => Translation (summary)\n...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"wildcard-mode-for-attributes",children:"Wildcard Mode for Attributes"}),"\n",(0,s.jsxs)(n.p,{children:["If the model allows all fields (",(0,s.jsx)(n.code,{children:"['*']"}),"), you will get a wildcard label per locale:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected Output (excerpt):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[translation.en.*] => translation en\n[translation.fa.*] => translation fa\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsx)(n.h3,{id:"rendermultitranslationfiledarray-rules-string-model_name-string-field_name--name-int-object_id--null-int-parent_id---1-array-parent_where---void",children:(0,s.jsx)(n.code,{children:"renderMultiTranslationFiled(array &$rules, string $model_name, string $field_name = 'name', ?int $object_id = null, ?int $parent_id = -1, array $parent_where = []): void"})}),"\n",(0,s.jsxs)(n.p,{children:["Builds validation rules for each available locale under ",(0,s.jsx)(n.code,{children:"translation.{locale}"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"&$rules"}),": The rules array (passed by reference) to be populated."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"model_name"}),": FQCN of the model that uses ",(0,s.jsx)(n.code,{children:"HasTranslation"})," (e.g., ",(0,s.jsx)(n.code,{children:"App\\Models\\Post::class"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"field_name"}),": The ",(0,s.jsx)(n.strong,{children:"primary"})," translatable field to enforce uniqueness on (default ",(0,s.jsx)(n.code,{children:"name"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"object_id"}),": Current record id to exclude during updates (use ",(0,s.jsx)(n.code,{children:"null"})," for create)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"parent_id"}),": Optional parent constraint (use ",(0,s.jsx)(n.code,{children:"-1"})," to ignore)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"parent_where"}),": Additional constraints (array) used by your uniqueness rule logic."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Result"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Adds entries like ",(0,s.jsx)(n.code,{children:"translation.en"}),", ",(0,s.jsx)(n.code,{children:"translation.en.title"}),", etc., to your ",(0,s.jsx)(n.code,{children:"$rules"})," array."]}),"\n",(0,s.jsxs)(n.li,{children:["Primary field gets the ",(0,s.jsx)(n.code,{children:"TranslationFieldExistRule"})," instance."]}),"\n",(0,s.jsxs)(n.li,{children:["Non-primary allowed fields get ",(0,s.jsx)(n.code,{children:"string|nullable|sometimes"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"rendermultitranslationattributearray-params-string-model_name-string-trans_scope--null-void",children:(0,s.jsx)(n.code,{children:"renderMultiTranslationAttribute(array &$params, string $model_name, ?string $trans_scope = null): void"})}),"\n",(0,s.jsxs)(n.p,{children:["Builds user-friendly attribute labels for each ",(0,s.jsx)(n.code,{children:"translation.{locale}.{field}"})," (or wildcard)."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"&$params"}),": The attributes array (passed by reference) to be populated."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"model_name"}),": FQCN of the model that uses ",(0,s.jsx)(n.code,{children:"HasTranslation"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"trans_scope"})," (optional): A translation key whose resulting string may include ",(0,s.jsx)(n.code,{children:"{field}"}),' which will be replaced. If omitted, raw field keys or a simple "translation ',"{locale}",'" label is used.']}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Result"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Adds readable attribute labels suitable for validation messages."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"complete-copypaste-example",children:"Complete Copy\u2011Paste Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nnamespace App\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Http\\Requests\\MultiTranslationArrayRequest;\n\nclass StorePostRequest extends FormRequest\n{\n    use MultiTranslationArrayRequest;\n\n    public function authorize(): bool\n    {\n        return true;\n    }\n\n    public function rules(): array\n    {\n        $rules = [\n            'slug' => 'required|string',\n        ];\n\n        $this->renderMultiTranslationFiled(\n            $rules,\n            \\App\\Models\\Post::class,\n            'title',\n            null,\n            -1,\n            []\n        );\n\n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $attributes = [\n            'slug' => 'Slug',\n        ];\n\n        $this->renderMultiTranslationAttribute(\n            $attributes,\n            \\App\\Models\\Post::class,\n            null\n        );\n\n        return $attributes;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected Output (rules):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Array\n(\n    [slug] => required|string\n    [translation] => array\n    [translation.en] => array\n    [translation.en.title] => Array\n        (\n            [0] => string\n            [1] => JobMetric\\Translation\\Rules\\TranslationFieldExistRule Object (...)\n        )\n\n    [translation.en.summary] => string|nullable|sometimes\n    [translation.fa] => array\n    [translation.fa.title] => Array\n        (\n            [0] => string\n            [1] => JobMetric\\Translation\\Rules\\TranslationFieldExistRule Object (...)\n        )\n\n    [translation.fa.summary] => string|nullable|sometimes\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected Output (attributes):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Array\n(\n    [slug] => Slug\n    [translation.en.title] => title\n    [translation.en.summary] => summary\n    [translation.fa.title] => title\n    [translation.fa.summary] => summary\n)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the ",(0,s.jsx)(n.strong,{children:"primary field"})," (",(0,s.jsx)(n.code,{children:"$field_name"}),") for uniqueness (e.g., ",(0,s.jsx)(n.code,{children:"title"}),", ",(0,s.jsx)(n.code,{children:"name"}),", or ",(0,s.jsx)(n.code,{children:"slug"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Pass ",(0,s.jsx)(n.code,{children:"object_id"})," when updating a record to exclude it from uniqueness checks."]}),"\n",(0,s.jsxs)(n.li,{children:["Keep ",(0,s.jsx)(n.code,{children:"parent_id"})," as ",(0,s.jsx)(n.code,{children:"-1"})," if you don't need any parent scoping."]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"renderMultiTranslationAttribute"})," to produce clean labels for validation errors per-locale and per-field."]}),"\n",(0,s.jsxs)(n.li,{children:["If your model allows ",(0,s.jsx)(n.code,{children:"['*']"}),", you receive wildcard rules and wildcard attribute labels automatically."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"MultiTranslationArrayRequest"})," makes multi-locale validation of translated fields straightforward:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Builds locale-aware rules under ",(0,s.jsx)(n.code,{children:"translation.{locale}"})]}),"\n",(0,s.jsx)(n.li,{children:"Enforces per-locale uniqueness on a primary field"}),"\n",(0,s.jsx)(n.li,{children:"Adds user-friendly attribute labels"}),"\n",(0,s.jsxs)(n.li,{children:["Respects the model\u2019s allowed fields (",(0,s.jsx)(n.code,{children:"['*']"})," or explicit list) via ",(0,s.jsx)(n.code,{children:"HasTranslation"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Copy the snippets above into your ",(0,s.jsx)(n.code,{children:"FormRequest"})," classes, and you're ready to validate multi-locale translation payloads with clear error messages and clean structure."]}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/has-translation",children:"HasTranslation"})," - Core trait for multilingual models"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-array-request",children:"TranslationArrayRequest"})," - Simpler version for single or dynamic locales"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/translation-field-exist-rule",children:"TranslationFieldExistRule"})," - Validation rule for unique translations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-type-object-request",children:"TranslationTypeObjectRequest"})," - Typeify-based validation for complex schemas"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/multi-translation-type-object-request",children:"MultiTranslationTypeObjectRequest"})," - Multi-locale Typeify validation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/resources/translation-resource",children:"TranslationResource"})," - JSON resource for API responses"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);