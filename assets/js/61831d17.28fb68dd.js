"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3384],{28453(e,n,a){a.d(n,{R:()=>c,x:()=>s});var l=a(96540);const r={},i=l.createContext(r);function c(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(i.Provider,{value:n},e.children)}},68384(e,n,a){a.r(n),a.d(n,{assets:()=>g,contentTitle:()=>t,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"laravel-language/deep-diving/support/current-language","title":"CurrentLanguage","description":"The CurrentLanguage class is a static utility that resolves the current Language model based on the active application locale. It provides configurable caching to optimize performance and reduce database queries.","source":"@site/packages/laravel-language/deep-diving/support/current-language.md","sourceDirName":"laravel-language/deep-diving/support","slug":"/laravel-language/deep-diving/support/current-language","permalink":"/packages/laravel-language/deep-diving/support/current-language","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-language/deep-diving/support/current-language.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"CurrentLanguage"},"sidebar":"packagesSidebar","previous":{"title":"LanguageResource","permalink":"/packages/laravel-language/deep-diving/language-resource"},"next":{"title":"Helper Functions","permalink":"/packages/laravel-language/deep-diving/support/helpers"}}');var r=a(74848),i=a(28453),c=a(28774);const s={sidebar_position:1,sidebar_label:"CurrentLanguage"},t="CurrentLanguage",g={},o=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"Get",id:"get",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Simple Usage",id:"simple-usage",level:3},{value:"With Null Check",id:"with-null-check",level:3},{value:"Caching Configuration",id:"caching-configuration",level:2},{value:"No Caching (0)",id:"no-caching-0",level:3},{value:"Cache Forever (null)",id:"cache-forever-null",level:3},{value:"Cache for N Minutes",id:"cache-for-n-minutes",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Example 1: Language Settings in Controller",id:"example-1-language-settings-in-controller",level:3},{value:"Example 2: API Response with Current Language",id:"example-2-api-response-with-current-language",level:3},{value:"Example 3: Calendar-Aware Date Formatting",id:"example-3-calendar-aware-date-formatting",level:3},{value:"Example 4: RTL/LTR Detection",id:"example-4-rtlltr-detection",level:3},{value:"Example 5: Language-Specific Configuration",id:"example-5-language-specific-configuration",level:3},{value:"Example 6: Blade Component",id:"example-6-blade-component",level:3},{value:"Example 7: Cache Invalidation",id:"example-7-cache-invalidation",level:3},{value:"Example 8: Conditional Logic Based on Language",id:"example-8-conditional-logic-based-on-language",level:3},{value:"Caching Strategy",id:"caching-strategy",level:2},{value:"Cache Key Format",id:"cache-key-format",level:3},{value:"Cache Store",id:"cache-store",level:3},{value:"Cache Invalidation",id:"cache-invalidation",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Without Caching",id:"without-caching",level:3},{value:"With Caching",id:"with-caching",level:3},{value:"When to Use CurrentLanguage",id:"when-to-use-currentlanguage",level:2},{value:"Primary Use Cases",id:"primary-use-cases",level:3},{value:"1. Getting Current Language Settings",id:"1-getting-current-language-settings",level:4},{value:"2. API Responses",id:"2-api-responses",level:4},{value:"3. View Data",id:"3-view-data",level:4},{value:"4. Conditional Logic",id:"4-conditional-logic",level:4},{value:"5. Calendar Operations",id:"5-calendar-operations",level:4},{value:"When NOT to Use",id:"when-not-to-use",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Check for Null",id:"1-always-check-for-null",level:3},{value:"2. Use Appropriate Cache Time",id:"2-use-appropriate-cache-time",level:3},{value:"3. Invalidate Cache on Updates",id:"3-invalidate-cache-on-updates",level:3},{value:"4. Use for Current Locale Only",id:"4-use-for-current-locale-only",level:3},{value:"Common Mistakes to Avoid",id:"common-mistakes-to-avoid",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"currentlanguage",children:"CurrentLanguage"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"CurrentLanguage"})," class is a static utility that resolves the current ",(0,r.jsx)(n.code,{children:"Language"})," model based on the active application locale. It provides configurable caching to optimize performance and reduce database queries."]}),"\n",(0,r.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"JobMetric\\Language\\Support\\CurrentLanguage\n"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CurrentLanguage"})," provides:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic Locale Detection"}),": Uses ",(0,r.jsx)(n.code,{children:"app()->getLocale()"})," to determine current locale"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurable Caching"}),": Flexible caching strategy via configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance Optimization"}),": Reduces database queries through intelligent caching"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Null Safety"}),": Returns ",(0,r.jsx)(n.code,{children:"null"})," if language not found (graceful handling)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,r.jsx)(n.h3,{id:"get",children:"Get"}),"\n",(0,r.jsx)(n.p,{children:"Get the Language model for the current app locale:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"public static function get(): ?Language\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"Language|null"})," - Language model or null if not found"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Reads current locale from ",(0,r.jsx)(n.code,{children:"app()->getLocale()"})]}),"\n",(0,r.jsxs)(n.li,{children:["Applies caching based on ",(0,r.jsx)(n.code,{children:"config('language.cache_time')"})]}),"\n",(0,r.jsxs)(n.li,{children:["Returns ",(0,r.jsx)(n.code,{children:"null"})," if language doesn't exist for current locale"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(n.h3,{id:"simple-usage",children:"Simple Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'use JobMetric\\Language\\Support\\CurrentLanguage;\n\n$language = CurrentLanguage::get();\n\nif ($language) {\n    echo $language->name; // "Persian"\n    echo $language->direction; // "rtl"\n    echo $language->calendar; // "jalali"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"with-null-check",children:"With Null Check"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$language = CurrentLanguage::get();\n\nif (!$language) {\n    // Fallback to default language\n    $language = Language::where('locale', config('app.locale'))->first();\n}\n\nreturn $language;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"caching-configuration",children:"Caching Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Caching behavior is controlled by ",(0,r.jsx)(n.code,{children:"config('language.cache_time')"}),":"]}),"\n",(0,r.jsx)(n.h3,{id:"no-caching-0",children:"No Caching (0)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// config/language.php\n'cache_time' => 0,\n\n// Behavior: Query database every time\n$language = CurrentLanguage::get(); // Always queries DB\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Case"}),": Development, debugging, or when language data changes frequently."]}),"\n",(0,r.jsx)(n.h3,{id:"cache-forever-null",children:"Cache Forever (null)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// config/language.php\n'cache_time' => null,\n\n// Behavior: Cache forever until manually cleared\n$language = CurrentLanguage::get(); // Cached forever\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Case"}),": Production environments where language data rarely changes."]}),"\n",(0,r.jsx)(n.h3,{id:"cache-for-n-minutes",children:"Cache for N Minutes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// config/language.php\n'cache_time' => 60, // Cache for 60 minutes\n\n// Behavior: Cache for specified minutes\n$language = CurrentLanguage::get(); // Cached for 60 minutes\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Case"}),": Balance between performance and data freshness."]}),"\n",(0,r.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,r.jsx)(n.h3,{id:"example-1-language-settings-in-controller",children:"Example 1: Language Settings in Controller"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/SettingsController.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\n\nclass SettingsController extends Controller\n{\n    public function index()\n    {\n        $language = CurrentLanguage::get();\n        \n        return view('settings.index', [\n            'language' => $language,\n            'direction' => $language?->direction ?? 'ltr',\n            'calendar' => $language?->calendar ?? 'gregorian',\n        ]);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-2-api-response-with-current-language",children:"Example 2: API Response with Current Language"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/Api/LanguageController.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\nuse JobMetric\\Language\\Http\\Resources\\LanguageResource;\n\nclass LanguageController extends Controller\n{\n    public function current()\n    {\n        $language = CurrentLanguage::get();\n        \n        if (!$language) {\n            return response()->json([\n                'message' => 'No language set for current locale'\n            ], 404);\n        }\n        \n        return new LanguageResource($language);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-3-calendar-aware-date-formatting",children:"Example 3: Calendar-Aware Date Formatting"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Services/DateFormatterService.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\nuse JobMetric\\MultiCalendar\\Factory\\CalendarConverterFactory;\n\nclass DateFormatterService\n{\n    public function formatDate($date, $format = 'Y-m-d')\n    {\n        $language = CurrentLanguage::get();\n        \n        if (!$language) {\n            return Carbon::parse($date)->format($format);\n        }\n        \n        // Use language's calendar for formatting\n        $calendar = $language->calendar;\n        $converter = CalendarConverterFactory::make($calendar);\n        \n        // Convert and format based on calendar\n        // ... calendar-specific formatting logic\n        \n        return $formattedDate;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-4-rtlltr-detection",children:"Example 4: RTL/LTR Detection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Http/Middleware/ApplyLanguageDirection.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\n\nclass ApplyLanguageDirection\n{\n    public function handle($request, Closure $next)\n    {\n        $language = CurrentLanguage::get();\n        \n        if ($language && $language->direction === 'rtl') {\n            view()->share('direction', 'rtl');\n            view()->share('is_rtl', true);\n        } else {\n            view()->share('direction', 'ltr');\n            view()->share('is_rtl', false);\n        }\n        \n        return $next($request);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-5-language-specific-configuration",children:"Example 5: Language-Specific Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Services/LocalizationService.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\n\nclass LocalizationService\n{\n    public function getFirstDayOfWeek(): int\n    {\n        $language = CurrentLanguage::get();\n        \n        return $language?->first_day_of_week ?? 0; // Default: Sunday\n    }\n    \n    public function getCalendarType(): string\n    {\n        $language = CurrentLanguage::get();\n        \n        return $language?->calendar ?? 'gregorian';\n    }\n    \n    public function getTimezone(): ?string\n    {\n        $language = CurrentLanguage::get();\n        \n        return $language?->timezone;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-6-blade-component",children:"Example 6: Blade Component"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'// resources/views/components/language-info.blade.php\n@php\n    $language = \\JobMetric\\Language\\Support\\CurrentLanguage::get();\n@endphp\n\n@if($language)\n    <div class="language-info" dir="{{ $language->direction }}">\n        <span class="flag">{{ $language->flag }}</span>\n        <span class="name">{{ $language->name }}</span>\n        <span class="calendar">{{ trans(\'language::base.calendar_type.\' . $language->calendar) }}</span>\n    </div>\n@endif\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-7-cache-invalidation",children:"Example 7: Cache Invalidation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/Admin/LanguageController.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\nuse Illuminate\\Support\\Facades\\Cache;\n\nclass LanguageController extends Controller\n{\n    public function update(Request $request, Language $language)\n    {\n        $language->update($request->validated());\n        \n        // Invalidate cache for this language\n        Cache::forget('language.current.' . $language->locale);\n        \n        // If this is the current language, refresh\n        if (app()->getLocale() === $language->locale) {\n            CurrentLanguage::get(); // Will refresh cache\n        }\n        \n        return redirect()->back();\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-8-conditional-logic-based-on-language",children:"Example 8: Conditional Logic Based on Language"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// app/Services/NotificationService.php\nuse JobMetric\\Language\\Support\\CurrentLanguage;\n\nclass NotificationService\n{\n    public function sendWelcomeEmail(User $user)\n    {\n        $language = CurrentLanguage::get();\n        \n        $template = match($language?->locale) {\n            'fa' => 'emails.welcome.persian',\n            'ar' => 'emails.welcome.arabic',\n            default => 'emails.welcome.english',\n        };\n        \n        Mail::to($user)->send(new WelcomeMail($template));\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"caching-strategy",children:"Caching Strategy"}),"\n",(0,r.jsx)(n.h3,{id:"cache-key-format",children:"Cache Key Format"}),"\n",(0,r.jsx)(n.p,{children:"The cache key follows this pattern:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'language.current.' . $locale\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": ",(0,r.jsx)(n.code,{children:"language.current.fa"})]}),"\n",(0,r.jsx)(n.h3,{id:"cache-store",children:"Cache Store"}),"\n",(0,r.jsxs)(n.p,{children:["Uses Laravel's default cache store (configured in ",(0,r.jsx)(n.code,{children:"config/cache.php"}),")."]}),"\n",(0,r.jsx)(n.h3,{id:"cache-invalidation",children:"Cache Invalidation"}),"\n",(0,r.jsx)(n.p,{children:"To invalidate cache manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Cache;\n\n// Invalidate specific locale\nCache::forget('language.current.fa');\n\n// Invalidate all language caches\nCache::flush(); // Use with caution!\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"without-caching",children:"Without Caching"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// config/language.php\n'cache_time' => 0,\n\n// Every call queries database\nCurrentLanguage::get(); // DB Query\nCurrentLanguage::get(); // DB Query (again)\nCurrentLanguage::get(); // DB Query (again)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Impact"}),": High database load, slower response times."]}),"\n",(0,r.jsx)(n.h3,{id:"with-caching",children:"With Caching"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// config/language.php\n'cache_time' => 60,\n\n// First call queries database\nCurrentLanguage::get(); // DB Query + Cache\n\n// Subsequent calls use cache\nCurrentLanguage::get(); // Cache Hit\nCurrentLanguage::get(); // Cache Hit\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Impact"}),": Reduced database load, faster response times."]}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-currentlanguage",children:"When to Use CurrentLanguage"}),"\n",(0,r.jsx)(n.h3,{id:"primary-use-cases",children:"Primary Use Cases"}),"\n",(0,r.jsx)(n.h4,{id:"1-getting-current-language-settings",children:"1. Getting Current Language Settings"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"}),": You need language-specific settings (direction, calendar, timezone)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why"}),": Provides easy access to current language model."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$language = CurrentLanguage::get();\n$direction = $language->direction;\n$calendar = $language->calendar;\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-api-responses",children:"2. API Responses"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"}),": Building APIs that return current language information."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why"}),": Consistent way to get current language."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return new LanguageResource(CurrentLanguage::get());\n"})}),"\n",(0,r.jsx)(n.h4,{id:"3-view-data",children:"3. View Data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"}),": Passing language data to views."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why"}),": Ensures views have access to current language settings."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"view()->share('language', CurrentLanguage::get());\n"})}),"\n",(0,r.jsx)(n.h4,{id:"4-conditional-logic",children:"4. Conditional Logic"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"}),": Implementing language-specific behavior."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why"}),": Easy way to check current language properties."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$language = CurrentLanguage::get();\nif ($language && $language->direction === 'rtl') {\n    // Apply RTL styles\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"5-calendar-operations",children:"5. Calendar Operations"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"}),": Working with calendar-specific date operations."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why"}),": Provides calendar type for date conversions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$language = CurrentLanguage::get();\n$calendar = $language?->calendar ?? 'gregorian';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"when-not-to-use",children:"When NOT to Use"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Specific Language Lookup"}),": Use ",(0,r.jsx)(n.code,{children:"Language::where('locale', $locale)->first()"})," for specific locales"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"All Languages"}),": Use ",(0,r.jsx)(n.code,{children:"Language::all()"})," for all languages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Language Management"}),": Use ",(0,r.jsx)(n.code,{children:"Language"})," facade/service for CRUD operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-always-check-for-null",children:"1. Always Check for Null"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Null check\n$language = CurrentLanguage::get();\nif ($language) {\n    // Use language\n}\n\n// \u274c Bad - No null check\n$language = CurrentLanguage::get();\n$direction = $language->direction; // May throw error\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-use-appropriate-cache-time",children:"2. Use Appropriate Cache Time"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Production cache\n'cache_time' => 60, // Cache for 1 hour\n\n// \u274c Bad - No cache in production\n'cache_time' => 0, // Queries every time\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-invalidate-cache-on-updates",children:"3. Invalidate Cache on Updates"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Invalidate cache\n$language->update($data);\nCache::forget('language.current.' . $language->locale);\n\n// \u274c Bad - Stale cache\n$language->update($data);\n// Cache not invalidated\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-use-for-current-locale-only",children:"4. Use for Current Locale Only"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Current locale\n$language = CurrentLanguage::get();\n\n// \u274c Bad - Specific locale\n$language = CurrentLanguage::get(); // Only works for current locale\n// Use Language::where('locale', 'en')->first() instead\n"})}),"\n",(0,r.jsx)(n.h2,{id:"common-mistakes-to-avoid",children:"Common Mistakes to Avoid"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Not checking for null"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong\n$language = CurrentLanguage::get();\necho $language->name; // Error if null\n\n// \u2705 Correct\n$language = CurrentLanguage::get();\nif ($language) {\n    echo $language->name;\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Using for non-current locales"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong - Only works for current locale\napp()->setLocale('en');\n$language = CurrentLanguage::get(); // Gets English\napp()->setLocale('fa');\n$language = CurrentLanguage::get(); // Gets Persian\n\n// \u2705 Correct - Use direct query for specific locale\n$language = Language::where('locale', 'en')->first();\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Not configuring cache"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong - No cache configuration\n// May cause performance issues\n\n// \u2705 Correct - Configure cache\n'cache_time' => 60,\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Not invalidating cache"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong - Cache not invalidated\n$language->update(['name' => 'New Name']);\n\n// \u2705 Correct - Invalidate cache\n$language->update(['name' => 'New Name']);\nCache::forget('language.current.' . $language->locale);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(c.A,{to:"/packages/laravel-language/deep-diving/models/language",children:"Language Model"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(c.A,{to:"/packages/laravel-language/deep-diving/support/helpers",children:"Helper Functions"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(c.A,{to:"/packages/laravel-language/deep-diving/middleware/set-language-middleware",children:"SetLanguageMiddleware"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(c.A,{to:"/packages/laravel-language/deep-diving/language-service",children:"Language Service"}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);