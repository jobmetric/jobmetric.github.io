"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[4860],{28453(e,r,n){n.d(r,{R:()=>t,x:()=>c});var s=n(96540);const i={},o=s.createContext(i);function t(e){const r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:r},e.children)}},51129(e,r,n){n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"laravel-location/deep-diving/resources/country-resource","title":"CountryResource","description":"JSON resource class for transforming Country models into structured API responses. This resource provides a consistent format for country data with conditional relation loading.","source":"@site/packages/laravel-location/deep-diving/resources/country-resource.md","sourceDirName":"laravel-location/deep-diving/resources","slug":"/laravel-location/deep-diving/resources/country-resource","permalink":"/packages/laravel-location/deep-diving/resources/country-resource","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-location/deep-diving/resources/country-resource.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"CountryResource"},"sidebar":"packagesSidebar","previous":{"title":"UpdateAddressRequest","permalink":"/packages/laravel-location/deep-diving/requests/update-address-request"},"next":{"title":"ProvinceResource","permalink":"/packages/laravel-location/deep-diving/resources/province-resource"}}');var i=n(74848),o=n(28453);const t={sidebar_position:1,sidebar_label:"CountryResource"},c="CountryResource",l={},d=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Base Properties",id:"base-properties",level:2},{value:"Conditional Properties",id:"conditional-properties",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic usage",id:"basic-usage",level:3},{value:"With relations",id:"with-relations",level:3},{value:"Response Example (simplified)",id:"response-example-simplified",level:2}];function a(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"countryresource",children:"CountryResource"})}),"\n",(0,i.jsx)(r.p,{children:"JSON resource class for transforming Country models into structured API responses. This resource provides a consistent format for country data with conditional relation loading."}),"\n",(0,i.jsx)(r.h2,{id:"namespace",children:"Namespace"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.code,{children:"JobMetric\\Location\\Http\\Resources\\CountryResource"})}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"CountryResource"})," transforms Country model instances into structured JSON responses. It includes:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Core country properties"}),"\n",(0,i.jsx)(r.li,{children:"Conditional relation loading (provinces/cities/districts)"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"base-properties",children:"Base Properties"}),"\n",(0,i.jsx)(r.p,{children:"The resource always includes these properties:"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Property"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"int"})}),(0,i.jsx)(r.td,{children:"Country ID"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"name"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{children:"Country name"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"flag"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string|null"})}),(0,i.jsx)(r.td,{children:"Flag key/filename"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"mobile_prefix"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string|null"})}),(0,i.jsx)(r.td,{children:"Calling code (may be formatted by model accessor)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"validation"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"array|null"})}),(0,i.jsx)(r.td,{children:"Mobile validation regex patterns"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"status"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bool"})}),(0,i.jsx)(r.td,{children:"Enabled/disabled"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"conditional-properties",children:"Conditional Properties"}),"\n",(0,i.jsx)(r.p,{children:"These properties are only included when their relations are loaded:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"provinces"})," \u2192 ",(0,i.jsx)(r.code,{children:"ProvinceResource::collection(...)"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"cities"})," \u2192 ",(0,i.jsx)(r.code,{children:"CityResource::collection(...)"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"districts"})," \u2192 ",(0,i.jsx)(r.code,{children:"DistrictResource::collection(...)"})]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,i.jsx)(r.h3,{id:"basic-usage",children:"Basic usage"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use JobMetric\\Location\\Http\\Resources\\CountryResource;\nuse JobMetric\\Location\\Models\\Country;\n\n$country = Country::find(1);\n\nreturn CountryResource::make($country);\n"})}),"\n",(0,i.jsx)(r.h3,{id:"with-relations",children:"With relations"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"$country = Country::with(['provinces'])->find(1);\n\nreturn CountryResource::make($country);\n"})}),"\n",(0,i.jsx)(r.h2,{id:"response-example-simplified",children:"Response Example (simplified)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "id": 1,\n  "name": "Iran",\n  "flag": "ir.svg",\n  "mobile_prefix": "+98",\n  "validation": ["/^9\\\\d{9}$/"],\n  "status": true,\n  "provinces": []\n}\n'})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);