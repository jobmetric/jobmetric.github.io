"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[6276],{28453(e,n,a){a.d(n,{R:()=>o,x:()=>l});var r=a(96540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}},87287(e,n,a){a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"laravel-location/deep-diving/services/geo-area","title":"GeoArea Service","description":"The GeoArea service manages geo areas. A geo area is a reusable grouping of multiple locations.","source":"@site/packages/laravel-location/deep-diving/services/geo-area.md","sourceDirName":"laravel-location/deep-diving/services","slug":"/laravel-location/deep-diving/services/geo-area","permalink":"/packages/laravel-location/deep-diving/services/geo-area","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-location/deep-diving/services/geo-area.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"GeoArea"},"sidebar":"packagesSidebar","previous":{"title":"Location","permalink":"/packages/laravel-location/deep-diving/services/location"},"next":{"title":"Address","permalink":"/packages/laravel-location/deep-diving/services/address"}}');var i=a(74848),s=a(28453);const o={sidebar_position:6,sidebar_label:"GeoArea"},l="GeoArea Service",t={},c=[{value:"Facade",id:"facade",level:2},{value:"Basic CRUD Operations",id:"basic-crud-operations",level:2},{value:"Store",id:"store",level:3},{value:"Show",id:"show",level:3},{value:"Update",id:"update",level:3},{value:"Destroy / Restore / Force Delete",id:"destroy--restore--force-delete",level:3},{value:"Toggle Status",id:"toggle-status",level:3},{value:"Querying",id:"querying",level:2},{value:"Related",id:"related",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"geoarea-service",children:"GeoArea Service"})}),"\n",(0,i.jsx)(n.p,{children:"The GeoArea service manages geo areas. A geo area is a reusable grouping of multiple locations."}),"\n",(0,i.jsx)(n.p,{children:"Geo areas support:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Soft delete / restore / force delete"}),"\n",(0,i.jsx)(n.li,{children:"Status toggling"}),"\n",(0,i.jsxs)(n.li,{children:["Attaching and syncing locations (via ",(0,i.jsx)(n.code,{children:"HasLocation"})," in multiple mode)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"facade",children:"Facade"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Location\\Facades\\GeoArea;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"basic-crud-operations",children:"Basic CRUD Operations"}),"\n",(0,i.jsx)(n.h3,{id:"store",children:"Store"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new geo area. ",(0,i.jsx)(n.code,{children:"translation"})," is required."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$response = GeoArea::store([\n    'translation' => [\n        'en' => [\n            'name' => 'Tehran Zone',\n            'description' => 'All supported districts in Tehran.',\n        ],\n    ],\n    'status' => true,\n    'locations' => [\n        ['country_id' => 1, 'province_id' => 10],\n        ['country_id' => 1, 'province_id' => 10, 'city_id' => 120],\n    ],\n]);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"locations"})," is optional; if present, the service will attach locations after store."]}),"\n",(0,i.jsx)(n.li,{children:"Duplicate locations in the payload are rejected by the request validation."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"show",children:"Show"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$response = GeoArea::show($geoAreaId);\n\n// With relations (typical)\n$response = GeoArea::show($geoAreaId, ['locationRelations.location']);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"update",children:"Update"}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"locations"})," is provided on update, the service will:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Detach all existing locations"}),"\n",(0,i.jsx)(n.li,{children:"Attach the provided locations"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$response = GeoArea::update($geoAreaId, [\n    'translation' => [\n        'en' => [\n            'name' => 'Tehran Zone (Updated)',\n            'description' => 'Updated coverage.',\n        ],\n    ],\n    'locations' => [\n        ['country_id' => 1, 'province_id' => 10, 'city_id' => 120, 'district_id' => 900],\n    ],\n]);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"destroy--restore--force-delete",children:"Destroy / Restore / Force Delete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$response = GeoArea::destroy($geoAreaId);\n$response = GeoArea::restore($geoAreaId);\n$response = GeoArea::forceDelete($geoAreaId);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"toggle-status",children:"Toggle Status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$response = GeoArea::toggleStatus($geoAreaId);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"querying",children:"Querying"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// List only active geo areas\n$response = GeoArea::paginate(15, ['status' => true]);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/packages/laravel-location/deep-diving/has-geo-area",children:"HasGeoArea Trait"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/packages/laravel-location/deep-diving/has-location",children:"HasLocation Trait"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);