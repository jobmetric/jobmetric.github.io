"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[8910],{28453(e,r,n){n.d(r,{R:()=>i,x:()=>l});var t=n(96540);const s={},o=t.createContext(s);function i(e){const r=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(o.Provider,{value:r},e.children)}},53492(e,r,n){n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"laravel-form/deep-diving/requests/form-type-object-request","title":"FormTypeObjectRequest","description":"The FormTypeObjectRequest trait provides helper methods to populate validation rules and attribute names based on form custom fields. It can be used in any FormRequest class that works with forms.","source":"@site/packages/laravel-form/deep-diving/requests/form-type-object-request.md","sourceDirName":"laravel-form/deep-diving/requests","slug":"/laravel-form/deep-diving/requests/form-type-object-request","permalink":"/packages/laravel-form/deep-diving/requests/form-type-object-request","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-form/deep-diving/requests/form-type-object-request.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"FormTypeObjectRequest"},"sidebar":"packagesSidebar","previous":{"title":"FormBuilderRequest","permalink":"/packages/laravel-form/deep-diving/requests/form-builder-request"},"next":{"title":"IOForm","permalink":"/packages/laravel-form/deep-diving/support/io-form"}}');var s=n(74848),o=n(28453),i=n(28774);const l={sidebar_position:2,sidebar_label:"FormTypeObjectRequest"},a="FormTypeObjectRequest",d={},u=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"Render Form Field",id:"render-form-field",level:3},{value:"Render Form Attribute",id:"render-form-attribute",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"In FormRequest",id:"in-formrequest",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Custom Request with Form Integration",id:"custom-request-with-form-integration",level:3},{value:"When to Use FormTypeObjectRequest",id:"when-to-use-formtypeobjectrequest",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"formtypeobjectrequest",children:"FormTypeObjectRequest"})}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"FormTypeObjectRequest"})," trait provides helper methods to populate validation rules and attribute names based on form custom fields. It can be used in any ",(0,s.jsx)(r.code,{children:"FormRequest"})," class that works with forms."]}),"\n",(0,s.jsx)(r.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"JobMetric\\Form\\Http\\Requests\\FormTypeObjectRequest\n"})}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"FormTypeObjectRequest"})," trait provides two methods that can be called from within your ",(0,s.jsx)(r.code,{children:"FormRequest"})," classes to automatically populate validation rules and attribute names from a form instance. This is useful when you want to use form-based validation in custom request classes."]}),"\n",(0,s.jsx)(r.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,s.jsx)(r.h3,{id:"render-form-field",children:"Render Form Field"}),"\n",(0,s.jsx)(r.p,{children:"Populate validation rules based on form custom fields:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function renderFormFiled(array &$rules, Form|null $form): void\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$rules"})," (",(0,s.jsx)(r.code,{children:"array"}),"): Reference to the rules array to be filled"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$form"})," (",(0,s.jsx)(r.code,{children:"Form|null"}),"): The form instance"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Note:"})," If ",(0,s.jsx)(r.code,{children:"$form"})," is ",(0,s.jsx)(r.code,{children:"null"}),", the method returns early without modifying rules."]}),"\n",(0,s.jsx)(r.h3,{id:"render-form-attribute",children:"Render Form Attribute"}),"\n",(0,s.jsx)(r.p,{children:"Populate attribute names based on form custom fields:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function renderFormAttribute(array &$params, Form|null $form): void\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$params"})," (",(0,s.jsx)(r.code,{children:"array"}),"): Reference to the attributes map to be filled"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$form"})," (",(0,s.jsx)(r.code,{children:"Form|null"}),"): The form instance"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Note:"})," If ",(0,s.jsx)(r.code,{children:"$form"})," is ",(0,s.jsx)(r.code,{children:"null"}),", the method returns early without modifying attributes."]}),"\n",(0,s.jsx)(r.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(r.h3,{id:"in-formrequest",children:"In FormRequest"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Form\\Form;\nuse JobMetric\\Form\\Http\\Requests\\FormTypeObjectRequest;\n\nclass StoreUserRequest extends FormRequest\n{\n    use FormTypeObjectRequest;\n\n    public function rules(): array\n    {\n        $rules = [];\n        \n        // Get form instance (from service, cache, etc.)\n        $form = $this->getFormInstance();\n        \n        // Populate rules from form\n        $this->renderFormFiled($rules, $form);\n        \n        // Add custom rules if needed\n        $rules['password_confirmation'] = 'required|same:password';\n        \n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $attributes = [];\n        \n        $form = $this->getFormInstance();\n        \n        // Populate attributes from form\n        $this->renderFormAttribute($attributes, $form);\n        \n        return $attributes;\n    }\n\n    protected function getFormInstance(): Form\n    {\n        // Get form from service, cache, or build it\n        return app(FormService::class)->getUserForm();\n    }\n}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,s.jsx)(r.h3,{id:"custom-request-with-form-integration",children:"Custom Request with Form Integration"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Form\\Form;\nuse JobMetric\\Form\\FormBuilder;\nuse JobMetric\\Form\\Http\\Requests\\FormTypeObjectRequest;\n\nclass UpdateProductRequest extends FormRequest\n{\n    use FormTypeObjectRequest;\n\n    public function authorize(): bool\n    {\n        return $this->user()->can('update', Product::find($this->route('product')));\n    }\n\n    public function rules(): array\n    {\n        $rules = [];\n        \n        $form = $this->buildForm();\n        \n        // Populate rules from form\n        $this->renderFormFiled($rules, $form);\n        \n        // Override or add custom rules\n        $rules['slug'] = 'required|string|unique:products,slug,' . $this->route('product');\n        \n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $attributes = [];\n        \n        $form = $this->buildForm();\n        \n        // Populate attributes from form\n        $this->renderFormAttribute($attributes, $form);\n        \n        return $attributes;\n    }\n\n    protected function buildForm(): Form\n    {\n        return FormBuilder::make()\n            ->action(route('products.update', $this->route('product')))\n            ->method('PUT')\n            ->tab(function ($tab) {\n                $tab->id('basic')\n                    ->label('Basic Information')\n                    ->group(function ($group) {\n                        $group->label('Details')\n                            ->customField(function ($field) {\n                                $field->text()\n                                    ->name('name')\n                                    ->label('Product Name')\n                                    ->validation('required|string|max:255')\n                                    ->build();\n                            })\n                            ->customField(function ($field) {\n                                $field->text()\n                                    ->name('slug')\n                                    ->label('Slug')\n                                    ->validation('required|string|max:255')\n                                    ->build();\n                            })\n                            ->build();\n                    })\n                    ->build();\n            })\n            ->build();\n    }\n}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"when-to-use-formtypeobjectrequest",children:"When to Use FormTypeObjectRequest"}),"\n",(0,s.jsxs)(r.p,{children:["Use the ",(0,s.jsx)(r.code,{children:"FormTypeObjectRequest"})," trait when you need to:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Custom Request Classes"}),": Use form-based validation in custom request classes"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Additional Logic"}),": Add custom validation logic alongside form-based rules"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Authorization"}),": Implement custom authorization logic"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Flexibility"}),": Have more control over validation than ",(0,s.jsx)(r.code,{children:"FormBuilderRequest"})," provides"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Mixed Validation"}),": Combine form-based and custom validation rules"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-form/deep-diving/requests/form-builder-request",children:"FormBuilderRequest"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-form/deep-diving/form",children:"Form"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-form/deep-diving/form-builder",children:"FormBuilder"}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);