"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3875],{3453(e,t,a){a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>r});const n=JSON.parse('{"id":"laravel-metadata/deep-diving/exceptions/model-metaable-key-not-allowed-field-exception","title":"ModelMetaableKeyNotAllowedFieldException","description":"The ModelMetaableKeyNotAllowedFieldException exception is thrown when attempting to access or modify metadata with a key that is not in the model\'s allowed metadata list.","source":"@site/packages/laravel-metadata/deep-diving/exceptions/model-metaable-key-not-allowed-field-exception.md","sourceDirName":"laravel-metadata/deep-diving/exceptions","slug":"/laravel-metadata/deep-diving/exceptions/model-metaable-key-not-allowed-field-exception","permalink":"/packages/laravel-metadata/deep-diving/exceptions/model-metaable-key-not-allowed-field-exception","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-metadata/deep-diving/exceptions/model-metaable-key-not-allowed-field-exception.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"ModelMetaableKeyNotAllowedFieldException"},"sidebar":"packagesSidebar","previous":{"title":"MetadataKeyNotFoundException","permalink":"/packages/laravel-metadata/deep-diving/exceptions/metadata-key-not-found-exception"},"next":{"title":"MetadataValueExistRule","permalink":"/packages/laravel-metadata/deep-diving/metadata-value-exist-rule"}}');var l=a(74848),i=a(28453),d=a(28774);const o={sidebar_position:2,sidebar_label:"ModelMetaableKeyNotAllowedFieldException"},c="ModelMetaableKeyNotAllowedFieldException",s={},r=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Exception Details",id:"exception-details",level:2},{value:"Constructor",id:"constructor",level:3},{value:"When It&#39;s Thrown",id:"when-its-thrown",level:2},{value:"Getting Metadata",id:"getting-metadata",level:3},{value:"Storing Metadata",id:"storing-metadata",level:3},{value:"Deleting Metadata",id:"deleting-metadata",level:3},{value:"Handling the Exception",id:"handling-the-exception",level:2},{value:"Check Before Accessing",id:"check-before-accessing",level:3},{value:"Try-Catch Block",id:"try-catch-block",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"modelmetaablekeynotallowedfieldexception",children:"ModelMetaableKeyNotAllowedFieldException"})}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"ModelMetaableKeyNotAllowedFieldException"})," exception is thrown when attempting to access or modify metadata with a key that is not in the model's allowed metadata list."]}),"\n",(0,l.jsx)(t.h2,{id:"namespace",children:"Namespace"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"JobMetric\\Metadata\\Exceptions\\ModelMetaableKeyNotAllowedFieldException\n"})}),"\n",(0,l.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(t.p,{children:"This exception is thrown when:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Getting metadata with a key not in the allowed list"}),"\n",(0,l.jsx)(t.li,{children:"Storing metadata with a key not in the allowed list"}),"\n",(0,l.jsx)(t.li,{children:"Deleting metadata with a key not in the allowed list"}),"\n",(0,l.jsx)(t.li,{children:"Removing a key that is not in the allowed list"}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"exception-details",children:"Exception Details"}),"\n",(0,l.jsx)(t.h3,{id:"constructor",children:"Constructor"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"public function __construct(string $model, string $key, int $code = 400, ?Throwable $previous = null)\n"})}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"string $model"})," - The model class name"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"string $key"})," - The key that was not allowed"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"int $code"})," - Exception code (default: ",(0,l.jsx)(t.code,{children:"400"}),")"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"Throwable|null $previous"})," - Previous exception for chaining"]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"when-its-thrown",children:"When It's Thrown"}),"\n",(0,l.jsx)(t.h3,{id:"getting-metadata",children:"Getting Metadata"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"class Product extends Model\n{\n    use HasMeta;\n\n    protected array $metadata = ['color', 'size'];\n}\n\n$product = Product::find(1);\n\n// This will throw ModelMetaableKeyNotAllowedFieldException\n$weight = $product->getMetadata('weight');\n"})}),"\n",(0,l.jsx)(t.h3,{id:"storing-metadata",children:"Storing Metadata"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"// This will throw ModelMetaableKeyNotAllowedFieldException\n$product->storeMetadata('weight', 500);\n"})}),"\n",(0,l.jsx)(t.h3,{id:"deleting-metadata",children:"Deleting Metadata"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"// This will throw ModelMetaableKeyNotAllowedFieldException\n$product->forgetMetadata('weight');\n"})}),"\n",(0,l.jsx)(t.h2,{id:"handling-the-exception",children:"Handling the Exception"}),"\n",(0,l.jsx)(t.h3,{id:"check-before-accessing",children:"Check Before Accessing"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"$allowedKeys = $product->getMetaKeys();\n\nif (in_array('weight', $allowedKeys) || in_array('*', $allowedKeys)) {\n    $weight = $product->getMetadata('weight');\n} else {\n    // Handle: Key not allowed\n}\n"})}),"\n",(0,l.jsx)(t.h3,{id:"try-catch-block",children:"Try-Catch Block"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-php",children:"try {\n    $product->storeMetadata('weight', 500);\n} catch (ModelMetaableKeyNotAllowedFieldException $e) {\n    // Handle: Key not allowed\n    \\Log::warning(\"Attempted to use disallowed metadata key: weight\");\n}\n"})}),"\n",(0,l.jsx)(t.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(d.A,{to:"/packages/laravel-metadata/deep-diving/has-meta",children:"HasMeta Trait"}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(d.A,{to:"/packages/laravel-metadata/deep-diving/exceptions/metadata-key-not-found-exception",children:"MetadataKeyNotFoundException"}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453(e,t,a){a.d(t,{R:()=>d,x:()=>o});var n=a(96540);const l={},i=n.createContext(l);function d(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);