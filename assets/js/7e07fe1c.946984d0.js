"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[1459],{28453(e,a,o){o.d(a,{R:()=>t,x:()=>s});var i=o(96540);const n={},r=i.createContext(n);function t(e){const a=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(r.Provider,{value:a},e.children)}},82523(e,a,o){o.r(a),o.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"laravel-location/deep-diving/has-geo-area","title":"HasGeoArea Trait","description":"The HasGeoArea trait allows you to attach Geo Areas to any Eloquent model using a polymorphic pivot table (geoarearelations).","source":"@site/packages/laravel-location/deep-diving/has-geo-area.md","sourceDirName":"laravel-location/deep-diving","slug":"/laravel-location/deep-diving/has-geo-area","permalink":"/packages/laravel-location/deep-diving/has-geo-area","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-location/deep-diving/has-geo-area.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"HasGeoArea"},"sidebar":"packagesSidebar","previous":{"title":"HasAddress","permalink":"/packages/laravel-location/deep-diving/has-address"},"next":{"title":"Country","permalink":"/packages/laravel-location/deep-diving/services/country"}}');var n=o(74848),r=o(28453);const t={sidebar_position:3,sidebar_label:"HasGeoArea"},s="HasGeoArea Trait",l={},d=[{value:"Namespace",id:"namespace",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Relationships",id:"relationships",level:2},{value:"geoAreaRelations()",id:"geoarearelations",level:3},{value:"Read APIs",id:"read-apis",level:2},{value:"geoAreas(bool $withTrashed = false)",id:"geoareasbool-withtrashed--false",level:3},{value:"hasGeoArea(int $geo_area_id)",id:"hasgeoareaint-geo_area_id",level:3},{value:"getGeoAreas(bool $withTrashed = false)",id:"getgeoareasbool-withtrashed--false",level:3},{value:"getGeoAreaById(int $geo_area_id, bool $withTrashed = false)",id:"getgeoareabyidint-geo_area_id-bool-withtrashed--false",level:3},{value:"Mutation APIs",id:"mutation-apis",level:2},{value:"attachGeoArea(int $geo_area_id)",id:"attachgeoareaint-geo_area_id",level:3},{value:"detachGeoArea(int $geo_area_id)",id:"detachgeoareaint-geo_area_id",level:3},{value:"detachAllGeoAreas()",id:"detachallgeoareas",level:3},{value:"syncGeoAreas(array $geo_area_ids)",id:"syncgeoareasarray-geo_area_ids",level:3},{value:"Geo lookup helpers",id:"geo-lookup-helpers",level:2},{value:"isInGeoArea(int $location_id)",id:"isingeoareaint-location_id",level:3},{value:"getGeoAreaForLocation(int $location_id)",id:"getgeoareaforlocationint-location_id",level:3}];function c(e){const a={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"hasgeoarea-trait",children:"HasGeoArea Trait"})}),"\n",(0,n.jsxs)(a.p,{children:["The ",(0,n.jsx)(a.code,{children:"HasGeoArea"})," trait allows you to attach ",(0,n.jsx)(a.strong,{children:"Geo Areas"})," to any Eloquent model using a polymorphic pivot table (",(0,n.jsx)(a.code,{children:"geo_area_relations"}),")."]}),"\n",(0,n.jsx)(a.p,{children:"Geo Areas are reusable groupings of multiple locations and are typically used for things like:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Shipping zones"}),"\n",(0,n.jsx)(a.li,{children:"Service availability areas"}),"\n",(0,n.jsx)(a.li,{children:"Business regions"}),"\n",(0,n.jsx)(a.li,{children:"Coverage maps"}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"namespace",children:"Namespace"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-php",children:"JobMetric\\Location\\HasGeoArea\n"})}),"\n",(0,n.jsx)(a.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-php",children:"use Illuminate\\Database\\Eloquent\\Model;\nuse JobMetric\\Location\\HasGeoArea;\n\nclass ShippingMethod extends Model\n{\n    use HasGeoArea;\n}\n\n$method = ShippingMethod::find(10);\n\n// Attach existing geo area\n$method->attachGeoArea(5);\n\n// Check if a location is covered by any attached geo area\n$method->isInGeoArea($locationId);\n"})}),"\n",(0,n.jsx)(a.h2,{id:"relationships",children:"Relationships"}),"\n",(0,n.jsx)(a.h3,{id:"geoarearelations",children:"geoAreaRelations()"}),"\n",(0,n.jsxs)(a.p,{children:["Returns a ",(0,n.jsx)(a.code,{children:"MorphMany"})," of ",(0,n.jsx)(a.code,{children:"GeoAreaRelation"})," items."]}),"\n",(0,n.jsx)(a.h2,{id:"read-apis",children:"Read APIs"}),"\n",(0,n.jsx)(a.h3,{id:"geoareasbool-withtrashed--false",children:"geoAreas(bool $withTrashed = false)"}),"\n",(0,n.jsxs)(a.p,{children:["Returns a ",(0,n.jsx)(a.code,{children:"Collection"})," of ",(0,n.jsx)(a.code,{children:"GeoArea"})," models attached to the entity."]}),"\n",(0,n.jsx)(a.h3,{id:"hasgeoareaint-geo_area_id",children:"hasGeoArea(int $geo_area_id)"}),"\n",(0,n.jsx)(a.p,{children:"Checks if a geo area is attached."}),"\n",(0,n.jsx)(a.h3,{id:"getgeoareasbool-withtrashed--false",children:"getGeoAreas(bool $withTrashed = false)"}),"\n",(0,n.jsxs)(a.p,{children:["Returns an ",(0,n.jsx)(a.code,{children:"AnonymousResourceCollection"})," of ",(0,n.jsx)(a.code,{children:"GeoAreaResource"}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"getgeoareabyidint-geo_area_id-bool-withtrashed--false",children:"getGeoAreaById(int $geo_area_id, bool $withTrashed = false)"}),"\n",(0,n.jsxs)(a.p,{children:["Returns a single ",(0,n.jsx)(a.code,{children:"GeoAreaResource"})," if attached."]}),"\n",(0,n.jsx)(a.h2,{id:"mutation-apis",children:"Mutation APIs"}),"\n",(0,n.jsx)(a.h3,{id:"attachgeoareaint-geo_area_id",children:"attachGeoArea(int $geo_area_id)"}),"\n",(0,n.jsx)(a.p,{children:"Attaches an existing geo area."}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Note: only non-deleted geo areas can be attached."}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"detachgeoareaint-geo_area_id",children:"detachGeoArea(int $geo_area_id)"}),"\n",(0,n.jsx)(a.p,{children:"Removes the relation (does not delete the geo area)."}),"\n",(0,n.jsx)(a.h3,{id:"detachallgeoareas",children:"detachAllGeoAreas()"}),"\n",(0,n.jsx)(a.p,{children:"Removes all geo area relations."}),"\n",(0,n.jsx)(a.h3,{id:"syncgeoareasarray-geo_area_ids",children:"syncGeoAreas(array $geo_area_ids)"}),"\n",(0,n.jsx)(a.p,{children:"Detaches all and attaches the provided ids."}),"\n",(0,n.jsx)(a.h2,{id:"geo-lookup-helpers",children:"Geo lookup helpers"}),"\n",(0,n.jsx)(a.h3,{id:"isingeoareaint-location_id",children:"isInGeoArea(int $location_id)"}),"\n",(0,n.jsxs)(a.p,{children:["Returns ",(0,n.jsx)(a.code,{children:"true"})," if the given location exists in any attached geo area."]}),"\n",(0,n.jsx)(a.h3,{id:"getgeoareaforlocationint-location_id",children:"getGeoAreaForLocation(int $location_id)"}),"\n",(0,n.jsx)(a.p,{children:"Returns the first geo area that contains the given location."})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);