"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[1273],{769(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>u});const l=JSON.parse('{"id":"laravel-url/deep-diving/url-type-object-request","title":"UrlTypeObjectRequest Trait","description":"The UrlTypeObjectRequest trait adds URL (slug) validation rules and human-readable attribute labels to FormRequest classes when the target type supports URLs.","source":"@site/packages/laravel-url/deep-diving/url-type-object-request.md","sourceDirName":"laravel-url/deep-diving","slug":"/laravel-url/deep-diving/url-type-object-request","permalink":"/packages/laravel-url/deep-diving/url-type-object-request","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-url/deep-diving/url-type-object-request.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"UrlTypeObjectRequest"},"sidebar":"packagesSidebar","previous":{"title":"SlugExistRule","permalink":"/packages/laravel-url/deep-diving/slug-exist-rule"},"next":{"title":"FullUrlController","permalink":"/packages/laravel-url/deep-diving/full-url-controller"}}');var s=r(74848),t=r(28453),i=r(28774);const d={sidebar_position:6,sidebar_label:"UrlTypeObjectRequest"},a="UrlTypeObjectRequest Trait",c={},u=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"When to Use UrlTypeObjectRequest",id:"when-to-use-urltypeobjectrequest",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Methods",id:"methods",level:2},{value:"<code>renderUrlField()</code>",id:"renderurlfield",level:3},{value:"<code>renderUrlAttribute()</code>",id:"renderurlattribute",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Example 1: Basic Usage",id:"example-1-basic-usage",level:3},{value:"Example 2: Update Request",id:"example-2-update-request",level:3},{value:"Example 3: Dynamic Collection",id:"example-3-dynamic-collection",level:3},{value:"Example 4: Conditional URL Support",id:"example-4-conditional-url-support",level:3},{value:"Example 5: With Typeify Integration",id:"example-5-with-typeify-integration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Check hasUrl",id:"1-always-check-hasurl",level:3},{value:"2. Exclude Current Record on Updates",id:"2-exclude-current-record-on-updates",level:3},{value:"3. Provide Attribute Labels",id:"3-provide-attribute-labels",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Not Checking hasUrl",id:"mistake-1-not-checking-hasurl",level:3},{value:"Mistake 2: Not Excluding on Updates",id:"mistake-2-not-excluding-on-updates",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"urltypeobjectrequest-trait",children:"UrlTypeObjectRequest Trait"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"UrlTypeObjectRequest"})," trait adds URL (slug) validation rules and human-readable attribute labels to FormRequest classes when the target type supports URLs."]}),"\n",(0,s.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"JobMetric\\Url\\Http\\Requests\\UrlTypeObjectRequest\n"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The trait provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Slug validation"}),": Appends ",(0,s.jsx)(n.code,{children:"SlugExistRule"})," for uniqueness"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type validation"}),": Ensures slug matches type constraints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Attribute labels"}),": Human-readable field names for errors"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-urltypeobjectrequest",children:"When to Use UrlTypeObjectRequest"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Use ",(0,s.jsx)(n.code,{children:"UrlTypeObjectRequest"})," when you need:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type-based validation"}),": Validate slugs for types that support URLs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic rule generation"}),": Automatically append slug validation rules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Human-friendly labels"}),": Generate readable attribute labels for slug fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typeify integration"}),": Work with Typeify type definitions that have URL capability"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example scenarios:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Form requests for models using ",(0,s.jsx)(n.code,{children:"HasUrl"})]}),"\n",(0,s.jsx)(n.li,{children:"Typeify-based form validation with URL support"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic form generation with slug validation"}),"\n",(0,s.jsx)(n.li,{children:"Admin panels with slug management"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Url\\Http\\Requests\\UrlTypeObjectRequest;\n\nclass StoreProductRequest extends FormRequest\n{\n    use UrlTypeObjectRequest;\n\n    public function rules(): array\n    {\n        $rules = [\n            'name' => ['required', 'string'],\n        ];\n\n        $this->renderUrlField(\n            $rules,\n            true,  // hasUrl\n            Product::class,\n            'products',\n            null   // object_id (for create)\n        );\n\n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $params = [];\n        $this->renderUrlAttribute($params, true);\n        return $params;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"renderurlfield",children:(0,s.jsx)(n.code,{children:"renderUrlField()"})}),"\n",(0,s.jsx)(n.p,{children:"Appends slug validation rules to the rules array:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function renderUrlField(\n    array   &$rules,\n    bool    $hasUrl,\n    string  $class_name,\n    ?string $collection = null,\n    ?int    $object_id = null\n): void\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$rules"})}),(0,s.jsx)(n.td,{children:"array"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Rules array (passed by reference)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$hasUrl"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Whether the type supports URLs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$class_name"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Model class name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$collection"})}),(0,s.jsx)(n.td,{children:"string|null"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"null"})}),(0,s.jsx)(n.td,{children:"Optional collection scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$object_id"})}),(0,s.jsx)(n.td,{children:"int|null"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"null"})}),(0,s.jsx)(n.td,{children:"Current model ID to exclude (for updates)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Preserves existing slug rules (if any)"}),"\n",(0,s.jsxs)(n.li,{children:["Appends: ",(0,s.jsx)(n.code,{children:"sometimes"}),", ",(0,s.jsx)(n.code,{children:"nullable"}),", ",(0,s.jsx)(n.code,{children:"string"}),", ",(0,s.jsx)(n.code,{children:"max:100"}),", ",(0,s.jsx)(n.code,{children:"SlugExistRule"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"renderurlattribute",children:(0,s.jsx)(n.code,{children:"renderUrlAttribute()"})}),"\n",(0,s.jsx)(n.p,{children:"Appends attribute label for slug field:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function renderUrlAttribute(\n    array &$params,\n    bool  $hasUrl\n): void\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$params"})}),(0,s.jsx)(n.td,{children:"array"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Attributes array (passed by reference)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$hasUrl"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Whether the type supports URLs"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Adds ",(0,s.jsx)(n.code,{children:"slug"})," attribute label using ",(0,s.jsx)(n.code,{children:"url::base.components.url_slug.title"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,s.jsx)(n.h3,{id:"example-1-basic-usage",children:"Example 1: Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Url\\Http\\Requests\\UrlTypeObjectRequest;\nuse App\\Models\\Product;\n\nclass StoreProductRequest extends FormRequest\n{\n    use UrlTypeObjectRequest;\n\n    public function rules(): array\n    {\n        $rules = [\n            'name' => ['required', 'string', 'max:255'],\n        ];\n\n        $this->renderUrlField(\n            $rules,\n            true,\n            Product::class,\n            'products',\n            null\n        );\n\n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $params = [];\n        $this->renderUrlAttribute($params, true);\n        return $params;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-2-update-request",children:"Example 2: Update Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Url\\Http\\Requests\\UrlTypeObjectRequest;\nuse App\\Models\\Product;\n\nclass UpdateProductRequest extends FormRequest\n{\n    use UrlTypeObjectRequest;\n\n    public function rules(): array\n    {\n        $productId = $this->route('product')?->id ?? null;\n\n        $rules = [\n            'name' => ['sometimes', 'string', 'max:255'],\n        ];\n\n        $this->renderUrlField(\n            $rules,\n            true,\n            Product::class,\n            'products',\n            $productId\n        );\n\n        return $rules;\n    }\n\n    public function attributes(): array\n    {\n        $params = [];\n        $this->renderUrlAttribute($params, true);\n        return $params;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-3-dynamic-collection",children:"Example 3: Dynamic Collection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function rules(): array\n{\n    $collection = $this->input('slug_collection');\n\n    $rules = [\n        'name' => ['required', 'string'],\n    ];\n\n    $this->renderUrlField(\n        $rules,\n        true,\n        Product::class,\n        $collection,\n        null\n    );\n\n    return $rules;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-4-conditional-url-support",children:"Example 4: Conditional URL Support"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function rules(): array\n{\n    $hasUrl = $this->input('type') === 'product';\n\n    $rules = [\n        'name' => ['required', 'string'],\n    ];\n\n    if ($hasUrl) {\n        $this->renderUrlField(\n            $rules,\n            true,\n            Product::class,\n            'products',\n            null\n        );\n    }\n\n    return $rules;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-5-with-typeify-integration",children:"Example 5: With Typeify Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Typeify\\Type;\n\n$type = Type::make('product')\n    ->url()  // Enable URL capability\n    ->fields([\n        'name' => 'string',\n        'slug' => 'string',\n    ]);\n\n// In form request\npublic function rules(): array\n{\n    $rules = [];\n    \n    $this->renderUrlField(\n        $rules,\n        $type->hasUrl(),  // Check if type has URL\n        Product::class,\n        'products',\n        null\n    );\n\n    return $rules;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-always-check-hasurl",children:"1. Always Check hasUrl"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Good: Check before rendering\nif ($hasUrl) {\n    $this->renderUrlField($rules, true, Product::class, 'products', null);\n}\n\n// Bad: Always render\n$this->renderUrlField($rules, true, Product::class, 'products', null);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-exclude-current-record-on-updates",children:"2. Exclude Current Record on Updates"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Good: Exclude on update\n$productId = $this->route('product')?->id ?? null;\n$this->renderUrlField($rules, true, Product::class, 'products', $productId);\n\n// Bad: Not excluding\n$this->renderUrlField($rules, true, Product::class, 'products', null);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-provide-attribute-labels",children:"3. Provide Attribute Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Good: Provide labels\npublic function attributes(): array\n{\n    $params = [];\n    $this->renderUrlAttribute($params, true);\n    return $params;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,s.jsx)(n.h3,{id:"mistake-1-not-checking-hasurl",children:"Mistake 1: Not Checking hasUrl"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Bad: Always render\n$this->renderUrlField($rules, true, Product::class, 'products', null);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"mistake-2-not-excluding-on-updates",children:"Mistake 2: Not Excluding on Updates"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Bad: May fail on update\n$this->renderUrlField($rules, true, Product::class, 'products', null);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(i.A,{to:"/packages/laravel-url/deep-diving/slug-exist-rule",children:"SlugExistRule"})," - Validation rule used by this trait"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(i.A,{to:"/packages/laravel-url/deep-diving/has-url",children:"HasUrl Trait"})," - Trait that manages URLs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(i.A,{to:"/packages/laravel-url/deep-diving/support/has-url-type",children:"HasUrlType"})," - Typeify trait for URL capability"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453(e,n,r){r.d(n,{R:()=>i,x:()=>d});var l=r(96540);const s={},t=l.createContext(s);function i(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);