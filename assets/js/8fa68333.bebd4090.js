"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[5821],{28453(e,n,a){a.d(n,{R:()=>i,x:()=>t});var l=a(96540);const s={},r=l.createContext(s);function i(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(r.Provider,{value:n},e.children)}},97008(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"laravel-language/deep-diving/requests/store-language-request","title":"StoreLanguageRequest","description":"The StoreLanguageRequest is a FormRequest class that validates and normalizes data when creating new language records. It ensures all language data is properly formatted and validated before storage.","source":"@site/packages/laravel-language/deep-diving/requests/store-language-request.md","sourceDirName":"laravel-language/deep-diving/requests","slug":"/laravel-language/deep-diving/requests/store-language-request","permalink":"/packages/laravel-language/deep-diving/requests/store-language-request","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-language/deep-diving/requests/store-language-request.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"StoreLanguageRequest"},"sidebar":"packagesSidebar","previous":{"title":"SetTimezoneMiddleware","permalink":"/packages/laravel-language/deep-diving/middleware/set-timezone-middleware"},"next":{"title":"UpdateLanguageRequest","permalink":"/packages/laravel-language/deep-diving/requests/update-language-request"}}');var s=a(74848),r=a(28453),i=a(28774);const t={sidebar_position:1,sidebar_label:"StoreLanguageRequest"},d="StoreLanguageRequest",o={},c=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"Rules",id:"rules",level:3},{value:"Normalize (Static)",id:"normalize-static",level:3},{value:"Prepare For Validation",id:"prepare-for-validation",level:3},{value:"Attributes",id:"attributes",level:3},{value:"Authorize",id:"authorize",level:3},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Complete Rules Array",id:"complete-rules-array",level:3},{value:"Field Details",id:"field-details",level:3},{value:"Validation Details",id:"validation-details",level:3},{value:"Locale Validation",id:"locale-validation",level:4},{value:"Calendar Validation",id:"calendar-validation",level:4},{value:"Direction Validation",id:"direction-validation",level:4},{value:"First Day of Week",id:"first-day-of-week",level:4},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Example 1: Basic Controller Usage",id:"example-1-basic-controller-usage",level:3},{value:"Example 2: With Authorization",id:"example-2-with-authorization",level:3},{value:"Example 3: Using Static Normalize Method",id:"example-3-using-static-normalize-method",level:3},{value:"Example 4: API Endpoint",id:"example-4-api-endpoint",level:3},{value:"Example 5: Form Submission",id:"example-5-form-submission",level:3},{value:"Example 6: Bulk Language Creation",id:"example-6-bulk-language-creation",level:3},{value:"Data Normalization",id:"data-normalization",level:2},{value:"Empty Flag String",id:"empty-flag-string",level:3},{value:"Missing First Day of Week",id:"missing-first-day-of-week",level:3},{value:"Custom Attributes",id:"custom-attributes",level:2},{value:"Authorization",id:"authorization",level:2},{value:"When to Use StoreLanguageRequest",id:"when-to-use-storelanguagerequest",level:2},{value:"Primary Use Cases",id:"primary-use-cases",level:3},{value:"1. Language Creation Forms",id:"1-language-creation-forms",level:4},{value:"2. API Endpoints",id:"2-api-endpoints",level:4},{value:"3. Language Import",id:"3-language-import",level:4},{value:"4. Bulk Operations",id:"4-bulk-operations",level:4},{value:"When NOT to Use",id:"when-not-to-use",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Use in Controllers",id:"1-always-use-in-controllers",level:3},{value:"2. Use Validated Data",id:"2-use-validated-data",level:3},{value:"3. Override Authorization When Needed",id:"3-override-authorization-when-needed",level:3},{value:"4. Use Static Normalize for External Data",id:"4-use-static-normalize-for-external-data",level:3},{value:"Common Mistakes to Avoid",id:"common-mistakes-to-avoid",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"storelanguagerequest",children:"StoreLanguageRequest"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"StoreLanguageRequest"})," is a FormRequest class that validates and normalizes data when creating new language records. It ensures all language data is properly formatted and validated before storage."]}),"\n",(0,s.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"JobMetric\\Language\\Http\\Requests\\StoreLanguageRequest\n"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"StoreLanguageRequest"})," provides:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic Validation"}),": Validates all language fields according to business rules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Normalization"}),": Automatically normalizes input data (empty strings to null, default values)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Attributes"}),": Provides translated field names for error messages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization"}),": Controls who can create languages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Static Methods"}),": Can be used outside Laravel's request pipeline"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,s.jsx)(n.h3,{id:"rules",children:"Rules"}),"\n",(0,s.jsx)(n.p,{children:"Get validation rules for language creation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function rules(): array\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," ",(0,s.jsx)(n.code,{children:"array"})," - Validation rules array"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$request = new StoreLanguageRequest();\n$rules = $request->rules();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"normalize-static",children:"Normalize (Static)"}),"\n",(0,s.jsx)(n.p,{children:"Normalize raw input data outside Laravel's FormRequest pipeline:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public static function normalize(array $data): array\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$data"})," (",(0,s.jsx)(n.code,{children:"array"}),"): Raw input data"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," ",(0,s.jsx)(n.code,{children:"array"})," - Normalized data"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Sets ",(0,s.jsx)(n.code,{children:"first_day_of_week"})," to ",(0,s.jsx)(n.code,{children:"0"})," if not provided"]}),"\n",(0,s.jsxs)(n.li,{children:["Converts empty ",(0,s.jsx)(n.code,{children:"flag"})," string to ",(0,s.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$rawData = [\n    'name' => 'Persian',\n    'locale' => 'fa',\n    'flag' => '', // Empty string\n];\n\n$normalized = StoreLanguageRequest::normalize($rawData);\n// Result: ['name' => 'Persian', 'locale' => 'fa', 'flag' => null, 'first_day_of_week' => 0]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prepare-for-validation",children:"Prepare For Validation"}),"\n",(0,s.jsx)(n.p,{children:"Automatically called by Laravel to normalize data before validation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"protected function prepareForValidation(): void\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," This method automatically calls ",(0,s.jsx)(n.code,{children:"normalize()"})," to prepare data."]}),"\n",(0,s.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,s.jsx)(n.p,{children:"Get custom attribute names for validation error messages:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function attributes(): array\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," ",(0,s.jsx)(n.code,{children:"array"})," - Attribute names mapped to translated labels"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$request = new StoreLanguageRequest();\n$attributes = $request->attributes();\n// Returns: ['name' => 'Name', 'locale' => 'Locale', ...]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"authorize",children:"Authorize"}),"\n",(0,s.jsx)(n.p,{children:"Determine if the user is authorized to create languages:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function authorize(): bool\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," ",(0,s.jsx)(n.code,{children:"bool"})," - ",(0,s.jsx)(n.code,{children:"true"})," by default (allows all users)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Override this method to add authorization logic."]}),"\n",(0,s.jsx)(n.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,s.jsx)(n.h3,{id:"complete-rules-array",children:"Complete Rules Array"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"[\n    'name' => 'string',\n    'flag' => 'string|nullable',\n    'locale' => ['string', new CheckLocaleRule],\n    'direction' => 'string|in:ltr,rtl',\n    'calendar' => 'string|in:gregorian,jalali,hijri,hebrew,buddhist,coptic,ethiopian,chinese',\n    'first_day_of_week' => 'sometimes|integer|between:0,6',\n    'status' => 'boolean',\n]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"field-details",children:"Field Details"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Rules"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Language display name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"flag"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string|null"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string|nullable"})}),(0,s.jsx)(n.td,{children:"Country flag code (ISO 3166-1 alpha-2)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"locale"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"string"}),", ",(0,s.jsx)(n.code,{children:"CheckLocaleRule"})]}),(0,s.jsx)(n.td,{children:"Two-letter locale code (e.g., 'fa', 'en')"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"direction"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"string"}),", ",(0,s.jsx)(n.code,{children:"in:ltr,rtl"})]}),(0,s.jsx)(n.td,{children:"Text direction (left-to-right or right-to-left)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"calendar"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"string"}),", ",(0,s.jsx)(n.code,{children:"in:..."})]}),(0,s.jsx)(n.td,{children:"Calendar system type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"first_day_of_week"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"int"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"sometimes"}),", ",(0,s.jsx)(n.code,{children:"integer"}),", ",(0,s.jsx)(n.code,{children:"between:0,6"})]}),(0,s.jsx)(n.td,{children:"First day of week (0=Sunday, 6=Saturday)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"status"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bool"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"Active/inactive status"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"validation-details",children:"Validation Details"}),"\n",(0,s.jsx)(n.h4,{id:"locale-validation",children:"Locale Validation"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"locale"})," field uses ",(0,s.jsx)(n.code,{children:"CheckLocaleRule"})," which:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Validates format: exactly two lowercase letters"}),"\n",(0,s.jsx)(n.li,{children:"Checks uniqueness in languages table"}),"\n",(0,s.jsx)(n.li,{children:"Ensures compatibility with Laravel's translation system"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"calendar-validation",children:"Calendar Validation"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"calendar"})," field accepts values from ",(0,s.jsx)(n.code,{children:"CalendarTypeEnum"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"gregorian"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"jalali"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"hijri"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"hebrew"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"buddhist"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"coptic"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ethiopian"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"chinese"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"direction-validation",children:"Direction Validation"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"direction"})," field accepts:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ltr"}),": Left-to-right (for languages like English, French)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rtl"}),": Right-to-left (for languages like Arabic, Persian)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"first-day-of-week",children:"First Day of Week"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"first_day_of_week"})," field accepts integers from 0 to 6:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0"}),": Sunday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"1"}),": Monday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"2"}),": Tuesday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"3"}),": Wednesday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"4"}),": Thursday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"5"}),": Friday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"6"}),": Saturday"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.h3,{id:"example-1-basic-controller-usage",children:"Example 1: Basic Controller Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/LanguageController.php\nuse JobMetric\\Language\\Http\\Requests\\StoreLanguageRequest;\nuse JobMetric\\Language\\Facades\\Language;\n\npublic function store(StoreLanguageRequest $request)\n{\n    $data = $request->validated();\n    \n    $language = Language::store($data);\n    \n    return response()->json([\n        'message' => 'Language created successfully',\n        'language' => $language,\n    ], 201);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-2-with-authorization",children:"Example 2: With Authorization"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// app/Http/Requests/StoreLanguageRequest.php\nuse Illuminate\\Foundation\\Http\\FormRequest;\n\nclass StoreLanguageRequest extends FormRequest\n{\n    public function authorize(): bool\n    {\n        // Only admins can create languages\n        return auth()->check() && auth()->user()->isAdmin();\n    }\n    \n    // ... rest of the class\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-3-using-static-normalize-method",children:"Example 3: Using Static Normalize Method"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// app/Services/LanguageImportService.php\nuse JobMetric\\Language\\Http\\Requests\\StoreLanguageRequest;\nuse JobMetric\\Language\\Facades\\Language;\n\nclass LanguageImportService\n{\n    public function importFromArray(array $rawData): Language\n    {\n        // Normalize data before validation\n        $normalized = StoreLanguageRequest::normalize($rawData);\n        \n        // Validate manually\n        $validator = Validator::make($normalized, (new StoreLanguageRequest())->rules());\n        \n        if ($validator->fails()) {\n            throw new ValidationException($validator);\n        }\n        \n        // Store language\n        return Language::store($normalized);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-4-api-endpoint",children:"Example 4: API Endpoint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// routes/api.php\nRoute::post('/languages', function (StoreLanguageRequest $request) {\n    $language = Language::store($request->validated());\n    \n    return new LanguageResource($language);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-5-form-submission",children:"Example 5: Form Submission"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/Admin/LanguageController.php\npublic function store(StoreLanguageRequest $request)\n{\n    $language = Language::store($request->validated());\n    \n    return redirect()\n        ->route('admin.languages.index')\n        ->with('success', 'Language created successfully');\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-6-bulk-language-creation",children:"Example 6: Bulk Language Creation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// app/Http/Controllers/Admin/LanguageController.php\npublic function bulkStore(Request $request)\n{\n    $request->validate([\n        'languages' => 'required|array',\n        'languages.*' => 'required|array',\n    ]);\n    \n    $created = [];\n    \n    foreach ($request->input('languages') as $languageData) {\n        // Normalize each language data\n        $normalized = StoreLanguageRequest::normalize($languageData);\n        \n        // Validate\n        $validator = Validator::make(\n            $normalized,\n            (new StoreLanguageRequest())->rules()\n        );\n        \n        if ($validator->fails()) {\n            continue; // Skip invalid entries\n        }\n        \n        $created[] = Language::store($normalized);\n    }\n    \n    return response()->json([\n        'message' => count($created) . ' languages created',\n        'languages' => $created,\n    ]);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"data-normalization",children:"Data Normalization"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"normalize()"})," method automatically handles:"]}),"\n",(0,s.jsx)(n.h3,{id:"empty-flag-string",children:"Empty Flag String"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Input\n['flag' => '']\n\n// Output\n['flag' => null]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"missing-first-day-of-week",children:"Missing First Day of Week"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Input\n['name' => 'Persian', 'locale' => 'fa']\n\n// Output\n['name' => 'Persian', 'locale' => 'fa', 'first_day_of_week' => 0]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-attributes",children:"Custom Attributes"}),"\n",(0,s.jsx)(n.p,{children:"The request provides translated attribute names for better error messages:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:'// Error message without custom attributes\n"The locale field is required."\n\n// Error message with custom attributes\n"The Locale field is required." // Uses translation from language::base.fields.locale\n'})}),"\n",(0,s.jsx)(n.h2,{id:"authorization",children:"Authorization"}),"\n",(0,s.jsxs)(n.p,{children:["By default, ",(0,s.jsx)(n.code,{children:"authorize()"})," returns ",(0,s.jsx)(n.code,{children:"true"}),", allowing all users to create languages. Override this method to add authorization:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function authorize(): bool\n{\n    // Example: Only admins can create languages\n    return auth()->check() && auth()->user()->hasRole('admin');\n    \n    // Example: Check permission\n    return auth()->user()->can('create', Language::class);\n    \n    // Example: Rate limiting\n    return auth()->user()->languagesCreatedToday() < 10;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-storelanguagerequest",children:"When to Use StoreLanguageRequest"}),"\n",(0,s.jsx)(n.h3,{id:"primary-use-cases",children:"Primary Use Cases"}),"\n",(0,s.jsx)(n.h4,{id:"1-language-creation-forms",children:"1. Language Creation Forms"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When"}),": Creating admin forms for adding new languages."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why"}),": Provides automatic validation and normalization."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// In controller\npublic function store(StoreLanguageRequest $request)\n{\n    $language = Language::store($request->validated());\n    return redirect()->back()->with('success', 'Language created');\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-api-endpoints",children:"2. API Endpoints"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When"}),": Building REST APIs for language management."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why"}),": Ensures data integrity and provides consistent validation."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"Route::post('/api/languages', function (StoreLanguageRequest $request) {\n    return new LanguageResource(Language::store($request->validated()));\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-language-import",children:"3. Language Import"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When"}),": Importing languages from external sources."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why"}),": Normalizes and validates data before storage."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$normalized = StoreLanguageRequest::normalize($importedData);\n$validator = Validator::make($normalized, (new StoreLanguageRequest())->rules());\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-bulk-operations",children:"4. Bulk Operations"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When"}),": Creating multiple languages at once."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why"}),": Consistent validation across all entries."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"foreach ($languages as $data) {\n    $normalized = StoreLanguageRequest::normalize($data);\n    // Validate and store\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"when-not-to-use",children:"When NOT to Use"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reading Languages"}),": Don't use for reading/displaying language data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Updating Languages"}),": Use ",(0,s.jsx)(n.code,{children:"UpdateLanguageRequest"})," instead"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Deleting Languages"}),": Use appropriate delete request"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Internal Logic"}),": Don't use for internal language operations"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-always-use-in-controllers",children:"1. Always Use in Controllers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u2705 Good\npublic function store(StoreLanguageRequest $request)\n{\n    $language = Language::store($request->validated());\n}\n\n// \u274c Bad\npublic function store(Request $request)\n{\n    $request->validate([...]); // Duplicate validation\n    $language = Language::store($request->all());\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-use-validated-data",children:"2. Use Validated Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Only validated data\n$language = Language::store($request->validated());\n\n// \u274c Bad - All input data\n$language = Language::store($request->all());\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-override-authorization-when-needed",children:"3. Override Authorization When Needed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Proper authorization\npublic function authorize(): bool\n{\n    return auth()->user()->can('create', Language::class);\n}\n\n// \u274c Bad - No authorization check\n// (Default allows all users)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-use-static-normalize-for-external-data",children:"4. Use Static Normalize for External Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u2705 Good - Normalize before validation\n$normalized = StoreLanguageRequest::normalize($externalData);\n$validator = Validator::make($normalized, (new StoreLanguageRequest())->rules());\n\n// \u274c Bad - Validate raw data\n$validator = Validator::make($externalData, (new StoreLanguageRequest())->rules());\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-mistakes-to-avoid",children:"Common Mistakes to Avoid"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Not using validated data"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong\n$language = Language::store($request->all());\n\n// \u2705 Correct\n$language = Language::store($request->validated());\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Duplicating validation rules"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong\n$request->validate(['locale' => 'required|string|unique:languages']);\n\n// \u2705 Correct - Use the request class\n// Validation is already in StoreLanguageRequest\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Not normalizing external data"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// \u274c Wrong\nLanguage::store($importedData);\n\n// \u2705 Correct\n$normalized = StoreLanguageRequest::normalize($importedData);\nLanguage::store($normalized);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-language/deep-diving/requests/update-language-request",children:"UpdateLanguageRequest"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-language/deep-diving/language-service",children:"Language Service"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-language/deep-diving/rules/check-locale-rule",children:"CheckLocaleRule"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-language/deep-diving/models/language",children:"Language Model"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);