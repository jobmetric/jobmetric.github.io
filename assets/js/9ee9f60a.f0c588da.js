"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3706],{10115(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"laravel-translation/deep-diving/translation-field-exist-rule","title":"TranslationFieldExistRule","description":"The TranslationFieldExistRule is a validation rule that ensures a translated field value is unique per locale across records of a given model that uses the HasTranslation trait. It is aware of the package\'s versioning semantics and supports optional scoping by parent constraints and update-safe exclusions by current object id.","source":"@site/packages/laravel-translation/deep-diving/translation-field-exist-rule.md","sourceDirName":"laravel-translation/deep-diving","slug":"/laravel-translation/deep-diving/translation-field-exist-rule","permalink":"/packages/laravel-translation/deep-diving/translation-field-exist-rule","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-translation/deep-diving/translation-field-exist-rule.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"TranslationFieldExistRule"},"sidebar":"packagesSidebar","previous":{"title":"MultiTranslationTypeObjectRequest","permalink":"/packages/laravel-translation/deep-diving/requests/multi-translation-type-object-request"},"next":{"title":"TranslationResource","permalink":"/packages/laravel-translation/deep-diving/resources/translation-resource"}}');var i=s(74848),t=s(28453),a=s(28774);const r={sidebar_position:6,sidebar_label:"TranslationFieldExistRule"},d="TranslationFieldExistRule",o={},c=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Parameter Details",id:"parameter-details",level:3},{value:"<code>$class_name</code> (string, required)",id:"class_name-string-required",level:4},{value:"<code>$field_name</code> (string, default: <code>&#39;title&#39;</code>)",id:"field_name-string-default-title",level:4},{value:"<code>$locale</code> (string|null, default: <code>app()-&gt;getLocale()</code>)",id:"locale-stringnull-default-app-getlocale",level:4},{value:"<code>$object_id</code> (int|null, default: <code>null</code>)",id:"object_id-intnull-default-null",level:4},{value:"<code>$parent_id</code> (int|null, default: <code>-1</code>)",id:"parent_id-intnull-default--1",level:4},{value:"<code>$parent_where</code> (array, default: <code>[]</code>)",id:"parent_where-array-default-",level:4},{value:"<code>$field_name_trans</code> (string, default: <code>&#39;translation::base.rule.default_field&#39;</code>)",id:"field_name_trans-string-default-translationbaseruledefault_field",level:4},{value:"How It Works",id:"how-it-works",level:2},{value:"Validation Process",id:"validation-process",level:3},{value:"Versioning Awareness",id:"versioning-awareness",level:3},{value:"Uniqueness Target",id:"uniqueness-target",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"In Form Request (Create)",id:"in-form-request-create",level:3},{value:"In Form Request (Update)",id:"in-form-request-update",level:3},{value:"Direct Validation",id:"direct-validation",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Example 1: Basic Uniqueness Check",id:"example-1-basic-uniqueness-check",level:3},{value:"Example 2: Update with Exclusion",id:"example-2-update-with-exclusion",level:3},{value:"Example 3: With Parent Scoping",id:"example-3-with-parent-scoping",level:3},{value:"Example 4: With Additional Parent Constraints",id:"example-4-with-additional-parent-constraints",level:3},{value:"Example 5: Multiple Locales",id:"example-5-multiple-locales",level:3},{value:"Example 6: Custom Error Message",id:"example-6-custom-error-message",level:3},{value:"Example 7: Complex Scoping",id:"example-7-complex-scoping",level:3},{value:"Example 8: Conditional Validation",id:"example-8-conditional-validation",level:3},{value:"Error Messages",id:"error-messages",level:2},{value:"Default Error Message",id:"default-error-message",level:3},{value:"Custom Error Messages",id:"custom-error-messages",level:3},{value:"Error Response Format",id:"error-response-format",level:3},{value:"Versioning Behavior",id:"versioning-behavior",level:2},{value:"Versioning Enabled",id:"versioning-enabled",level:3},{value:"Versioning Disabled",id:"versioning-disabled",level:3},{value:"When to Use",id:"when-to-use",level:2},{value:"When NOT to Use",id:"when-not-to-use",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Use Class Constants",id:"1-always-use-class-constants",level:3},{value:"2. Exclude Current Record on Updates",id:"2-exclude-current-record-on-updates",level:3},{value:"3. Combine with Type Validation",id:"3-combine-with-type-validation",level:3},{value:"4. Use Appropriate Scoping",id:"4-use-appropriate-scoping",level:3},{value:"5. Provide Custom Field Names",id:"5-provide-custom-field-names",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Not Excluding Current Record on Updates",id:"mistake-1-not-excluding-current-record-on-updates",level:3},{value:"Mistake 2: Using Wrong Locale",id:"mistake-2-using-wrong-locale",level:3},{value:"Mistake 3: Not Combining with Type Validation",id:"mistake-3-not-combining-with-type-validation",level:3},{value:"Mistake 4: Incorrect Parent Scoping",id:"mistake-4-incorrect-parent-scoping",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Database Queries",id:"database-queries",level:3},{value:"Optimization Tips",id:"optimization-tips",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"translationfieldexistrule",children:"TranslationFieldExistRule"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"TranslationFieldExistRule"})," is a validation rule that ensures a translated field value is unique per locale across records of a given model that uses the ",(0,i.jsx)(n.code,{children:"HasTranslation"})," trait. It is aware of the package's versioning semantics and supports optional scoping by parent constraints and update-safe exclusions by current object id."]}),"\n",(0,i.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"JobMetric\\Translation\\Rules\\TranslationFieldExistRule\n"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"TranslationFieldExistRule"})," validates that:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A translated field value is ",(0,i.jsx)(n.strong,{children:"unique per locale"})," across model records"]}),"\n",(0,i.jsxs)(n.li,{children:["The rule respects ",(0,i.jsx)(n.strong,{children:"versioning semantics"})," (active vs historical translations)"]}),"\n",(0,i.jsxs)(n.li,{children:["Supports ",(0,i.jsx)(n.strong,{children:"update-safe exclusion"})," (exclude current record when updating)"]}),"\n",(0,i.jsxs)(n.li,{children:["Allows ",(0,i.jsx)(n.strong,{children:"parent scoping"})," for hierarchical models"]}),"\n",(0,i.jsxs)(n.li,{children:["Provides ",(0,i.jsx)(n.strong,{children:"customizable error messages"})," via translation keys"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This rule is essential for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Integrity"}),": Ensuring unique translated values per locale"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Form Validation"}),": Validating translation uniqueness in form requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Update Safety"}),": Excluding current record during updates"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hierarchical Models"}),": Scoping uniqueness within parent relationships"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Versioning Awareness"}),": Respecting translation versioning policies"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"public function __construct(\n    string  $class_name,\n    string  $field_name = 'title',\n    ?string $locale = null,\n    ?int    $object_id = null,\n    ?int    $parent_id = -1,\n    array   $parent_where = [],\n    string  $field_name_trans = 'translation::base.rule.default_field'\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$class_name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsxs)(n.td,{children:["Fully-qualified parent model class (must use ",(0,i.jsx)(n.code,{children:"HasTranslation"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$field_name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'title'"})}),(0,i.jsxs)(n.td,{children:["Translation field to check (e.g., ",(0,i.jsx)(n.code,{children:"'title'"}),", ",(0,i.jsx)(n.code,{children:"'slug'"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$locale"})}),(0,i.jsx)(n.td,{children:"string|null"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"app()->getLocale()"})}),(0,i.jsxs)(n.td,{children:["Locale code (e.g., ",(0,i.jsx)(n.code,{children:"'en'"}),", ",(0,i.jsx)(n.code,{children:"'fa'"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$object_id"})}),(0,i.jsx)(n.td,{children:"int|null"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:"Current parent id to exclude (for updates)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$parent_id"})}),(0,i.jsx)(n.td,{children:"int|null"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-1"})}),(0,i.jsxs)(n.td,{children:["Filter on parent table's ",(0,i.jsx)(n.code,{children:"parent_id"})," (use ",(0,i.jsx)(n.code,{children:"-1"})," to ignore)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$parent_where"})}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),(0,i.jsx)(n.td,{children:"Additional where constraints on parent table"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$field_name_trans"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'translation::base.rule.default_field'"})}),(0,i.jsx)(n.td,{children:"i18n key for field name in error message"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"parameter-details",children:"Parameter Details"}),"\n",(0,i.jsxs)(n.h4,{id:"class_name-string-required",children:[(0,i.jsx)(n.code,{children:"$class_name"})," (string, required)"]}),"\n",(0,i.jsxs)(n.p,{children:["Fully-qualified class name of the parent model that uses ",(0,i.jsx)(n.code,{children:"HasTranslation"})," trait."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Using class constant\nnew TranslationFieldExistRule(Post::class, 'title')\n\n// Using string\nnew TranslationFieldExistRule('App\\Models\\Post', 'title')\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Class must exist"}),"\n",(0,i.jsxs)(n.li,{children:["Class must use ",(0,i.jsx)(n.code,{children:"HasTranslation"})," trait"]}),"\n",(0,i.jsxs)(n.li,{children:["Throws ",(0,i.jsx)(n.code,{children:"ModelHasTranslationNotFoundException"})," if requirements not met"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"field_name-string-default-title",children:[(0,i.jsx)(n.code,{children:"$field_name"})," (string, default: ",(0,i.jsx)(n.code,{children:"'title'"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"The translation field name to check for uniqueness."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"'title'    // Check title uniqueness\n'slug'     // Check slug uniqueness\n'name'     // Check name uniqueness\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"locale-stringnull-default-app-getlocale",children:[(0,i.jsx)(n.code,{children:"$locale"})," (string|null, default: ",(0,i.jsx)(n.code,{children:"app()->getLocale()"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"The locale code to check uniqueness within."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"'en'       // English\n'fa'       // Persian\n'de'       // German\nnull       // Uses app()->getLocale()\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"object_id-intnull-default-null",children:[(0,i.jsx)(n.code,{children:"$object_id"})," (int|null, default: ",(0,i.jsx)(n.code,{children:"null"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Current parent model id to exclude from uniqueness check. Used when updating existing records."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"null       // No exclusion (for create operations)\n$post->id  // Exclude current post (for update operations)\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"parent_id-intnull-default--1",children:[(0,i.jsx)(n.code,{children:"$parent_id"})," (int|null, default: ",(0,i.jsx)(n.code,{children:"-1"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Optional filter on parent table's ",(0,i.jsx)(n.code,{children:"parent_id"})," column. Use ",(0,i.jsx)(n.code,{children:"-1"})," to ignore."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"-1         // Ignore parent_id filter\n5          // Only check within parent_id = 5\nnull       // Ignore parent_id filter\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"parent_where-array-default-",children:[(0,i.jsx)(n.code,{children:"$parent_where"})," (array, default: ",(0,i.jsx)(n.code,{children:"[]"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Additional where constraints on the parent table."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"[]                              // No additional constraints\n['status' => 'published']       // Only check published records\n['category_id' => 1]            // Only check within category 1\n['status' => 'active', 'type' => 'post']  // Multiple constraints\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"field_name_trans-string-default-translationbaseruledefault_field",children:[(0,i.jsx)(n.code,{children:"$field_name_trans"})," (string, default: ",(0,i.jsx)(n.code,{children:"'translation::base.rule.default_field'"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Translation key for rendering a human-friendly field name in error messages."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"'translation::base.rule.default_field'  // Default\n'validation.attributes.title'            // Custom field name\n"})}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsx)(n.h3,{id:"validation-process",children:"Validation Process"}),"\n",(0,i.jsx)(n.p,{children:"The rule performs the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validates Model"}),": Checks if class exists and uses ",(0,i.jsx)(n.code,{children:"HasTranslation"})," trait"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Builds Query"}),": Constructs database query with constraints"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Applies Versioning"}),": Respects versioning semantics (active vs historical)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Applies Scoping"}),": Applies parent_id and parent_where constraints"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Excludes Current"}),": Excludes current record if ",(0,i.jsx)(n.code,{children:"object_id"})," provided"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Checks Uniqueness"}),": Returns ",(0,i.jsx)(n.code,{children:"true"})," if no conflict, ",(0,i.jsx)(n.code,{children:"false"})," if conflict exists"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"versioning-awareness",children:"Versioning Awareness"}),"\n",(0,i.jsx)(n.p,{children:"The rule respects translation versioning:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Versioning ON"})," (",(0,i.jsx)(n.code,{children:"usesTranslationVersioning()"})," returns ",(0,i.jsx)(n.code,{children:"true"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Checks only ",(0,i.jsx)(n.strong,{children:"active"})," rows (",(0,i.jsx)(n.code,{children:"deleted_at IS NULL"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Represents latest version for each ",(0,i.jsx)(n.code,{children:"(locale, field)"})," combination"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Versioning OFF"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Checks ",(0,i.jsx)(n.code,{children:"version = 1"})," AND ",(0,i.jsx)(n.code,{children:"deleted_at IS NULL"})]}),"\n",(0,i.jsx)(n.li,{children:"Strict version 1 matching"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"uniqueness-target",children:"Uniqueness Target"}),"\n",(0,i.jsx)(n.p,{children:"The rule checks uniqueness for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"translatable_type"})," = model class name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"locale"})," = specified locale"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"field"})," = field name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"value"})," = submitted value"]}),"\n",(0,i.jsx)(n.li,{children:"Versioning constraints (as above)"}),"\n",(0,i.jsx)(n.li,{children:"Optional parent constraints"}),"\n",(0,i.jsx)(n.li,{children:"Optional current record exclusion"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.h3,{id:"in-form-request-create",children:"In Form Request (Create)"}),"\n",(0,i.jsx)(n.p,{children:"Validate translation uniqueness when creating:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', app()->getLocale());\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                'max:255',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'title',\n                    $locale,\n                    null,        // object_id (null on create)\n                    -1,          // parent_id (ignore)\n                    []            // parent_where\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"in-form-request-update",children:"In Form Request (Update)"}),"\n",(0,i.jsx)(n.p,{children:"Exclude current record when updating:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass UpdatePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', app()->getLocale());\n        $post = $this->route('post'); // Get current post\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                'max:255',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'title',\n                    $locale,\n                    $post->id,   // Exclude current post\n                    -1,          // parent_id (ignore)\n                    []            // parent_where\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"direct-validation",children:"Direct Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\Validator;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\n$validator = Validator::make($data, [\n    'translation.en.title' => [\n        'required',\n        'string',\n        new TranslationFieldExistRule(Post::class, 'title', 'en'),\n    ],\n]);\n\nif ($validator->fails()) {\n    return response()->json($validator->errors(), 422);\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,i.jsx)(n.h3,{id:"example-1-basic-uniqueness-check",children:"Example 1: Basic Uniqueness Check"}),"\n",(0,i.jsx)(n.p,{children:"Ensure product titles are unique per locale:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Product;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StoreProductRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                'max:255',\n                new TranslationFieldExistRule(\n                    Product::class,\n                    'title',\n                    $locale\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-2-update-with-exclusion",children:"Example 2: Update with Exclusion"}),"\n",(0,i.jsx)(n.p,{children:"Exclude current record when updating:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass UpdatePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        $post = $this->route('post');\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'title',\n                    $locale,\n                    $post->id  // Exclude current post\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-3-with-parent-scoping",children:"Example 3: With Parent Scoping"}),"\n",(0,i.jsx)(n.p,{children:"Ensure uniqueness within a parent category:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Category;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StoreCategoryRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        $parentId = $this->input('parent_id');\n        \n        return [\n            'translation.' . $locale . '.name' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Category::class,\n                    'name',\n                    $locale,\n                    null,\n                    $parentId !== null ? $parentId : -1  // Scope by parent\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-4-with-additional-parent-constraints",children:"Example 4: With Additional Parent Constraints"}),"\n",(0,i.jsx)(n.p,{children:"Add additional constraints on parent table:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        \n        return [\n            'translation.' . $locale . '.slug' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'slug',\n                    $locale,\n                    null,\n                    -1,\n                    ['status' => 'published']  // Only check published posts\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-5-multiple-locales",children:"Example 5: Multiple Locales"}),"\n",(0,i.jsx)(n.p,{children:"Validate uniqueness for multiple locales:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $rules = [];\n        $locales = ['en', 'fa', 'de'];\n        \n        foreach ($locales as $locale) {\n            $rules[\"translation.{$locale}.title\"] = [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'title',\n                    $locale\n                ),\n            ];\n        }\n        \n        return $rules;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-6-custom-error-message",children:"Example 6: Custom Error Message"}),"\n",(0,i.jsx)(n.p,{children:"Provide custom field name in error message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Post::class,\n                    'title',\n                    $locale,\n                    null,\n                    -1,\n                    [],\n                    'validation.attributes.title'  // Custom field name\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-7-complex-scoping",children:"Example 7: Complex Scoping"}),"\n",(0,i.jsx)(n.p,{children:"Combine parent_id and parent_where constraints:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Product;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StoreProductRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        $categoryId = $this->input('category_id');\n        \n        return [\n            'translation.' . $locale . '.name' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(\n                    Product::class,\n                    'name',\n                    $locale,\n                    null,\n                    $categoryId,  // Scope by category\n                    ['status' => 'active', 'type' => 'product']  // Additional constraints\n                ),\n            ],\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-8-conditional-validation",children:"Example 8: Conditional Validation"}),"\n",(0,i.jsx)(n.p,{children:"Apply rule conditionally:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse Illuminate\\Validation\\Rule;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        $rules = [\n            'translation.' . $locale . '.title' => ['required', 'string'],\n        ];\n\n        // Only validate uniqueness for published posts\n        if ($this->input('status') === 'published') {\n            $rules['translation.' . $locale . '.title'][] = new TranslationFieldExistRule(\n                Post::class,\n                'title',\n                $locale\n            );\n        }\n\n        return $rules;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"error-messages",children:"Error Messages"}),"\n",(0,i.jsx)(n.h3,{id:"default-error-message",children:"Default Error Message"}),"\n",(0,i.jsx)(n.p,{children:"The rule uses a translation key for error messages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"trans('translation::base.rule.exist', [\n    'field' => trans($this->field_name_trans)\n])\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Translation Key:"})," ",(0,i.jsx)(n.code,{children:"translation::base.rule.exist"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default Message:"})," ",(0,i.jsx)(n.code,{children:'"The translation field already exists."'})]}),"\n",(0,i.jsx)(n.h3,{id:"custom-error-messages",children:"Custom Error Messages"}),"\n",(0,i.jsx)(n.p,{children:"Override error messages in form requests:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"namespace App\\Http\\Requests;\n\nuse App\\Models\\Post;\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse JobMetric\\Translation\\Rules\\TranslationFieldExistRule;\n\nclass StorePostRequest extends FormRequest\n{\n    public function rules(): array\n    {\n        $locale = $this->input('locale', 'en');\n        \n        return [\n            'translation.' . $locale . '.title' => [\n                'required',\n                'string',\n                new TranslationFieldExistRule(Post::class, 'title', $locale),\n            ],\n        ];\n    }\n\n    public function messages(): array\n    {\n        return [\n            'translation.' . $this->input('locale', 'en') . '.title' => \n                'This title already exists for this language.',\n        ];\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,i.jsx)(n.p,{children:"When validation fails:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "errors": {\n        "translation.en.title": [\n            "The translation field already exists."\n        ]\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"versioning-behavior",children:"Versioning Behavior"}),"\n",(0,i.jsx)(n.h3,{id:"versioning-enabled",children:"Versioning Enabled"}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"usesTranslationVersioning()"})," returns ",(0,i.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Only checks active translations (deleted_at IS NULL)\n// Represents latest version per (locale, field)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Logic:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"WHERE deleted_at IS NULL\n"})}),"\n",(0,i.jsx)(n.h3,{id:"versioning-disabled",children:"Versioning Disabled"}),"\n",(0,i.jsx)(n.p,{children:"When versioning is disabled:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Checks version = 1 AND deleted_at IS NULL\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Logic:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"WHERE version = 1 AND deleted_at IS NULL\n"})}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"TranslationFieldExistRule"})," when you need to:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unique Translations"}),": Ensure translated field values are unique per locale"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Form Validation"}),": Validate translation uniqueness in form requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Update Safety"}),": Exclude current record when updating translations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hierarchical Models"}),": Enforce uniqueness within parent relationships"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Versioning Awareness"}),": Respect translation versioning policies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scoped Uniqueness"}),": Apply additional constraints on parent table"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"when-not-to-use",children:"When NOT to Use"}),"\n",(0,i.jsx)(n.p,{children:"Avoid using this rule when:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Global Uniqueness"}),": If you need global uniqueness (not per locale), use Laravel's ",(0,i.jsx)(n.code,{children:"unique"})," rule"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Non-Translatable Fields"}),": For regular database columns, use standard validation rules"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance Critical"}),": For high-frequency validations, consider caching or database indexes"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-always-use-class-constants",children:"1. Always Use Class Constants"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Good: Use class constants\nnew TranslationFieldExistRule(Post::class, 'title', 'en')\n\n// Avoid: String literals\nnew TranslationFieldExistRule('App\\Models\\Post', 'title', 'en')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-exclude-current-record-on-updates",children:"2. Exclude Current Record on Updates"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Good: Exclude current record\nnew TranslationFieldExistRule(Post::class, 'title', 'en', $post->id)\n\n// Avoid: Not excluding on updates\nnew TranslationFieldExistRule(Post::class, 'title', 'en')  // May fail on update\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-combine-with-type-validation",children:"3. Combine with Type Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Good: Combined with type validation\n'translation.en.title' => [\n    'required',\n    'string',\n    'max:255',\n    new TranslationFieldExistRule(Post::class, 'title', 'en'),\n]\n\n// Avoid: Missing type validation\n'translation.en.title' => [\n    new TranslationFieldExistRule(Post::class, 'title', 'en'),\n]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-use-appropriate-scoping",children:"4. Use Appropriate Scoping"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Good: Scope by parent when needed\nnew TranslationFieldExistRule(\n    Category::class,\n    'name',\n    'en',\n    null,\n    $parentId  // Scope by parent\n)\n\n// Avoid: Global check when scoping is needed\nnew TranslationFieldExistRule(Category::class, 'name', 'en')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-provide-custom-field-names",children:"5. Provide Custom Field Names"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Good: Custom field name\nnew TranslationFieldExistRule(\n    Post::class,\n    'title',\n    'en',\n    null,\n    -1,\n    [],\n    'validation.attributes.title'\n)\n\n// Avoid: Generic field name\nnew TranslationFieldExistRule(Post::class, 'title', 'en')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,i.jsx)(n.h3,{id:"mistake-1-not-excluding-current-record-on-updates",children:"Mistake 1: Not Excluding Current Record on Updates"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Bad: May fail when updating with same value\nnew TranslationFieldExistRule(Post::class, 'title', 'en')\n\n// Good: Exclude current record\nnew TranslationFieldExistRule(Post::class, 'title', 'en', $post->id)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mistake-2-using-wrong-locale",children:"Mistake 2: Using Wrong Locale"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Bad: Hard-coded locale\nnew TranslationFieldExistRule(Post::class, 'title', 'en')\n\n// Good: Dynamic locale\n$locale = $this->input('locale', app()->getLocale());\nnew TranslationFieldExistRule(Post::class, 'title', $locale)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mistake-3-not-combining-with-type-validation",children:"Mistake 3: Not Combining with Type Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Bad: Missing type validation\n'translation.en.title' => [\n    new TranslationFieldExistRule(Post::class, 'title', 'en'),\n]\n\n// Good: Combined with type validation\n'translation.en.title' => [\n    'required',\n    'string',\n    new TranslationFieldExistRule(Post::class, 'title', 'en'),\n]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mistake-4-incorrect-parent-scoping",children:"Mistake 4: Incorrect Parent Scoping"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Bad: Wrong parent_id value\nnew TranslationFieldExistRule(\n    Category::class,\n    'name',\n    'en',\n    null,\n    0  // May match parent_id = 0, not ignore\n)\n\n// Good: Use -1 to ignore\nnew TranslationFieldExistRule(\n    Category::class,\n    'name',\n    'en',\n    null,\n    -1  // Ignore parent_id\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,i.jsx)(n.h3,{id:"database-queries",children:"Database Queries"}),"\n",(0,i.jsx)(n.p,{children:"The rule performs a database query for each validation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Each rule instance = 1 database query\n$rules = [\n    'translation.en.title' => new TranslationFieldExistRule(Post::class, 'title', 'en'),\n    'translation.fa.title' => new TranslationFieldExistRule(Post::class, 'title', 'fa'),\n];\n// = 2 database queries\n"})}),"\n",(0,i.jsx)(n.h3,{id:"optimization-tips",children:"Optimization Tips"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Add Database Indexes"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Migration\nSchema::table('translations', function (Blueprint $table) {\n    $table->index(['translatable_type', 'locale', 'field', 'value']);\n    $table->index(['translatable_type', 'locale', 'field', 'deleted_at']);\n});\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cache Validation Results"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Cache unique values to reduce database queries\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Batch Validation"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"// Validate multiple fields in single request\n// to reduce overall query count\n"})}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/has-translation",children:"HasTranslation"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/requests/translation-array-request",children:"TranslationArrayRequest"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/requests/multi-translation-array-request",children:"MultiTranslationArrayRequest"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/requests/translation-type-object-request",children:"TranslationTypeObjectRequest"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(a.A,{to:"/packages/laravel-translation/deep-diving/requests/multi-translation-type-object-request",children:"MultiTranslationTypeObjectRequest"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453(e,n,s){s.d(n,{R:()=>a,x:()=>r});var l=s(96540);const i={},t=l.createContext(i);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);