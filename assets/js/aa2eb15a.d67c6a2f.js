"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3847],{28453(e,r,n){n.d(r,{R:()=>i,x:()=>t});var a=n(96540);const s={},l=a.createContext(s);function i(e){const r=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(l.Provider,{value:r},e.children)}},43734(e,r,n){n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"laravel-star/deep-diving/models/star","title":"Star Model","description":"The Star model represents a star rating given from any actor model (e.g., User, Device) to any target model (e.g., Product, Article). This model supports polymorphic relations for both the rating entity (starred_by) and the target entity (starable).","source":"@site/packages/laravel-star/deep-diving/models/star.md","sourceDirName":"laravel-star/deep-diving/models","slug":"/laravel-star/deep-diving/models/star","permalink":"/packages/laravel-star/deep-diving/models/star","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-star/deep-diving/models/star.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Star"},"sidebar":"packagesSidebar","previous":{"title":"CanStar","permalink":"/packages/laravel-star/deep-diving/can-star"},"next":{"title":"Events","permalink":"/packages/laravel-star/deep-diving/events"}}');var s=n(74848),l=n(28453),i=n(28774);const t={sidebar_position:1,sidebar_label:"Star"},d="Star Model",c={},o=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Properties",id:"properties",level:2},{value:"Starred By Type",id:"starred-by-type",level:3},{value:"Starred By ID",id:"starred-by-id",level:3},{value:"Starable Type",id:"starable-type",level:3},{value:"Starable ID",id:"starable-id",level:3},{value:"Rate",id:"rate",level:3},{value:"IP",id:"ip",level:3},{value:"Device ID",id:"device-id",level:3},{value:"Source",id:"source",level:3},{value:"Relationships",id:"relationships",level:2},{value:"Starred By",id:"starred-by",level:3},{value:"Starable",id:"starable",level:3},{value:"Query Scopes",id:"query-scopes",level:2},{value:"Of Starred By",id:"of-starred-by",level:3},{value:"Of Starable",id:"of-starable",level:3},{value:"Helper Methods",id:"helper-methods",level:2},{value:"Is Rated As",id:"is-rated-as",level:3},{value:"Is Rated Above",id:"is-rated-above",level:3},{value:"Is Rated Below",id:"is-rated-below",level:3},{value:"Table Configuration",id:"table-configuration",level:2},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Querying Stars",id:"querying-stars",level:3},{value:"Working with Star Instance",id:"working-with-star-instance",level:3},{value:"When to Use Star Model",id:"when-to-use-star-model",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"star-model",children:"Star Model"})}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"Star"})," model represents a star rating given from any actor model (e.g., User, Device) to any target model (e.g., Product, Article). This model supports polymorphic relations for both the rating entity (starred_by) and the target entity (starable)."]}),"\n",(0,s.jsx)(r.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"JobMetric\\Star\\Models\\Star\n"})}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"Star"})," model stores all star ratings in the application. It uses polymorphic relationships to work with any Eloquent model and includes automatic IP and device tracking."]}),"\n",(0,s.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(r.h3,{id:"starred-by-type",children:"Starred By Type"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public string|null $starred_by_type;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The class name of the actor who gave the rating (polymorphic). Can be null for anonymous ratings."}),"\n",(0,s.jsx)(r.h3,{id:"starred-by-id",children:"Starred By ID"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public int|null $starred_by_id;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The ID of the actor who gave the rating (polymorphic). Can be null for anonymous ratings."}),"\n",(0,s.jsx)(r.h3,{id:"starable-type",children:"Starable Type"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public string $starable_type;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The class name of the target model being rated."}),"\n",(0,s.jsx)(r.h3,{id:"starable-id",children:"Starable ID"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public int $starable_id;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The ID of the target model being rated."}),"\n",(0,s.jsx)(r.h3,{id:"rate",children:"Rate"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public int $rate;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The rating value (e.g., 1-5, 0-10). Must be within the configured min_star and max_star range."}),"\n",(0,s.jsx)(r.h3,{id:"ip",children:"IP"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public string|null $ip;\n"})}),"\n",(0,s.jsx)(r.p,{children:"The IP address from which the rating was made."}),"\n",(0,s.jsx)(r.h3,{id:"device-id",children:"Device ID"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public string|null $device_id;\n"})}),"\n",(0,s.jsx)(r.p,{children:"Optional device identifier for anonymous ratings."}),"\n",(0,s.jsx)(r.h3,{id:"source",children:"Source"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public string|null $source;\n"})}),"\n",(0,s.jsx)(r.p,{children:"Optional source indicator (e.g., 'web', 'app', 'api')."}),"\n",(0,s.jsx)(r.h2,{id:"relationships",children:"Relationships"}),"\n",(0,s.jsx)(r.h3,{id:"starred-by",children:"Starred By"}),"\n",(0,s.jsx)(r.p,{children:"Get the model that gave the rating:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"$star->starredBy; // User, Admin, etc. or null\n"})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"Model|null"})," - The starrer model or null for anonymous ratings"]}),"\n",(0,s.jsx)(r.h3,{id:"starable",children:"Starable"}),"\n",(0,s.jsx)(r.p,{children:"Get the model that was rated:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"$star->starable; // Product, Article, etc.\n"})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"Model"})," - The starable model"]}),"\n",(0,s.jsx)(r.h2,{id:"query-scopes",children:"Query Scopes"}),"\n",(0,s.jsx)(r.h3,{id:"of-starred-by",children:"Of Starred By"}),"\n",(0,s.jsx)(r.p,{children:"Filter ratings by starrer:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Star::ofStarredBy($user)->get();\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$starredBy"})," (",(0,s.jsx)(r.code,{children:"Model"}),"): The starrer model"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"Builder"})," - Query builder"]}),"\n",(0,s.jsx)(r.h3,{id:"of-starable",children:"Of Starable"}),"\n",(0,s.jsx)(r.p,{children:"Filter ratings by starable:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Star::ofStarable($product)->get();\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$starable"})," (",(0,s.jsx)(r.code,{children:"Model"}),"): The starable model"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"Builder"})," - Query builder"]}),"\n",(0,s.jsx)(r.h2,{id:"helper-methods",children:"Helper Methods"}),"\n",(0,s.jsx)(r.h3,{id:"is-rated-as",children:"Is Rated As"}),"\n",(0,s.jsx)(r.p,{children:"Check if rating equals a specific value:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"$star->isRatedAs(5); // true/false\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$value"})," (",(0,s.jsx)(r.code,{children:"int"}),"): The value to check"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"bool"})," - True if rating equals the value"]}),"\n",(0,s.jsx)(r.h3,{id:"is-rated-above",children:"Is Rated Above"}),"\n",(0,s.jsx)(r.p,{children:"Check if rating is above a specific value:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"$star->isRatedAbove(3); // true/false\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$value"})," (",(0,s.jsx)(r.code,{children:"int"}),"): The value to compare against"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"bool"})," - True if rating is above the value"]}),"\n",(0,s.jsx)(r.h3,{id:"is-rated-below",children:"Is Rated Below"}),"\n",(0,s.jsx)(r.p,{children:"Check if rating is below a specific value:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"$star->isRatedBelow(5); // true/false\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"$value"})," (",(0,s.jsx)(r.code,{children:"int"}),"): The value to compare against"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Returns:"})," ",(0,s.jsx)(r.code,{children:"bool"})," - True if rating is below the value"]}),"\n",(0,s.jsx)(r.h2,{id:"table-configuration",children:"Table Configuration"}),"\n",(0,s.jsxs)(r.p,{children:["The table name can be configured in ",(0,s.jsx)(r.code,{children:"config/star.php"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'tables' => [\n    'star' => 'stars', // Default table name\n],\n"})}),"\n",(0,s.jsx)(r.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,s.jsx)(r.h3,{id:"querying-stars",children:"Querying Stars"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use JobMetric\\Star\\Models\\Star;\n\n// Get all ratings\n$stars = Star::all();\n\n// Get ratings by value\n$fiveStars = Star::where('rate', 5)->get();\n\n// Get ratings for a specific product\n$product = Product::find(1);\n$stars = Star::ofStarable($product)->get();\n\n// Get ratings from a specific user\n$user = User::find(1);\n$stars = Star::ofStarredBy($user)->get();\n\n// Get ratings with starrer and starable\n$stars = Star::with(['starredBy', 'starable'])->get();\n"})}),"\n",(0,s.jsx)(r.h3,{id:"working-with-star-instance",children:"Working with Star Instance"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'$star = Star::find(1);\n\n// Check rating value\nif ($star->isRatedAs(5)) {\n    echo "Perfect rating!";\n}\n\n// Compare rating\nif ($star->isRatedAbove(3)) {\n    echo "Above average rating";\n}\n\nif ($star->isRatedBelow(2)) {\n    echo "Low rating - needs attention";\n}\n\n// Access relationships\necho "{$star->starredBy->name} rated {$star->starable->name} with {$star->rate} stars";\n'})}),"\n",(0,s.jsx)(r.h2,{id:"when-to-use-star-model",children:"When to Use Star Model"}),"\n",(0,s.jsxs)(r.p,{children:["Use the ",(0,s.jsx)(r.code,{children:"Star"})," model directly when you need to:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Direct Queries"}),": Query ratings directly without going through relationships"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Bulk Operations"}),": Perform bulk operations on ratings"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Analytics"}),": Analyze rating data across the application"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Custom Logic"}),": Implement custom rating-related logic"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Reporting"}),": Generate reports on rating activity"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-star/deep-diving/has-star",children:"HasStar"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-star/deep-diving/can-star",children:"CanStar"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(i.A,{to:"/packages/laravel-star/deep-diving/events",children:"Events"}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);