"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[6599],{6566(e,a,t){t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>d,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"laravel-metadata/deep-diving/resources/metadata-resource","title":"MetadataResource","description":"The MetadataResource class transforms Meta model instances into JSON responses for API endpoints. It automatically handles JSON decoding for complex values.","source":"@site/packages/laravel-metadata/deep-diving/resources/metadata-resource.md","sourceDirName":"laravel-metadata/deep-diving/resources","slug":"/laravel-metadata/deep-diving/resources/metadata-resource","permalink":"/packages/laravel-metadata/deep-diving/resources/metadata-resource","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-metadata/deep-diving/resources/metadata-resource.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"MetadataResource"},"sidebar":"packagesSidebar","previous":{"title":"Meta","permalink":"/packages/laravel-metadata/deep-diving/models/meta"},"next":{"title":"MetadataKeyNotFoundException","permalink":"/packages/laravel-metadata/deep-diving/exceptions/metadata-key-not-found-exception"}}');var s=t(4848),r=t(8453),o=t(8774);const d={sidebar_position:1,sidebar_label:"MetadataResource"},l="MetadataResource",c={},i=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Single Metadata",id:"single-metadata",level:3},{value:"Metadata Collection",id:"metadata-collection",level:3},{value:"Resource Structure",id:"resource-structure",level:2},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Controller Response",id:"controller-response",level:3},{value:"With Pagination",id:"with-pagination",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function u(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"metadataresource",children:"MetadataResource"})}),"\n",(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.code,{children:"MetadataResource"})," class transforms ",(0,s.jsx)(a.code,{children:"Meta"})," model instances into JSON responses for API endpoints. It automatically handles JSON decoding for complex values."]}),"\n",(0,s.jsx)(a.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-php",children:"JobMetric\\Metadata\\Http\\Resources\\MetadataResource\n"})}),"\n",(0,s.jsx)(a.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.code,{children:"MetadataResource"})," is a JSON resource that formats metadata for API responses. It automatically decodes JSON values and returns metadata in a clean key-value format."]}),"\n",(0,s.jsx)(a.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(a.h3,{id:"single-metadata",children:"Single Metadata"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-php",children:'use JobMetric\\Metadata\\Http\\Resources\\MetadataResource;\nuse JobMetric\\Metadata\\Models\\Meta;\n\n$meta = Meta::find(1);\nreturn new MetadataResource($meta);\n\n// Response:\n// {\n//   "color": "red"\n// }\n'})}),"\n",(0,s.jsx)(a.h3,{id:"metadata-collection",children:"Metadata Collection"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-php",children:'$metas = $product->metas;\nreturn MetadataResource::collection($metas);\n\n// Response:\n// [\n//   { "color": "red" },\n//   { "size": "large" },\n//   { "dimensions": { "width": 10, "height": 20 } }\n// ]\n'})}),"\n",(0,s.jsx)(a.h2,{id:"resource-structure",children:"Resource Structure"}),"\n",(0,s.jsx)(a.p,{children:"The resource returns metadata in the following format:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-json",children:'{\n  "key": "value"\n}\n'})}),"\n",(0,s.jsx)(a.p,{children:"For JSON values, the value is automatically decoded:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-json",children:'{\n  "dimensions": {\n    "width": 10,\n    "height": 20\n  }\n}\n'})}),"\n",(0,s.jsx)(a.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,s.jsx)(a.h3,{id:"controller-response",children:"Controller Response"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-php",children:"namespace App\\Http\\Controllers;\n\nuse App\\Models\\Product;\nuse JobMetric\\Metadata\\Http\\Resources\\MetadataResource;\n\nclass ProductMetadataController extends Controller\n{\n    public function index(Product $product)\n    {\n        $metas = $product->metas;\n        return MetadataResource::collection($metas);\n    }\n\n    public function show(Product $product, string $key)\n    {\n        $meta = $product->metaKey($key)->first();\n        \n        if (!$meta) {\n            return response()->json(['error' => 'Metadata not found'], 404);\n        }\n        \n        return new MetadataResource($meta);\n    }\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"with-pagination",children:"With Pagination"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-php",children:"public function index(Product $product)\n{\n    $metas = $product->metas()->paginate(15);\n    return MetadataResource::collection($metas);\n}\n"})}),"\n",(0,s.jsx)(a.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(o.A,{to:"/packages/laravel-metadata/deep-diving/models/meta",children:"Meta Model"}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(o.A,{to:"/packages/laravel-metadata/deep-diving/has-meta",children:"HasMeta Trait"}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453(e,a,t){t.d(a,{R:()=>o,x:()=>d});var n=t(6540);const s={},r=n.createContext(s);function o(e){const a=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);