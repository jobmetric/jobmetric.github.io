"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[6797],{6558(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"laravel-metadata/installation","title":"Installation","description":"Requirements","source":"@site/packages/laravel-metadata/installation.md","sourceDirName":"laravel-metadata","slug":"/laravel-metadata/installation","permalink":"/packages/laravel-metadata/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-metadata/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Installation"},"sidebar":"packagesSidebar","previous":{"title":"Getting Started","permalink":"/packages/laravel-metadata/intro"},"next":{"title":"Showcase","permalink":"/packages/laravel-metadata/showcase"}}');var t=a(4848),r=a(8453),l=a(8774);const s={sidebar_position:2,sidebar_label:"Installation"},o="Installation",d={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Install via Composer",id:"install-via-composer",level:2},{value:"Service Provider",id:"service-provider",level:2},{value:"Publish Configuration",id:"publish-configuration",level:2},{value:"Run Migrations",id:"run-migrations",level:2},{value:"Verify Installation",id:"verify-installation",level:2},{value:"Quick Test",id:"quick-test",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Migration Errors",id:"migration-errors",level:3},{value:"Trait Not Found",id:"trait-not-found",level:3},{value:"Event System Not Working",id:"event-system-not-working",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(n.p,{children:"Before installing Laravel Metadata, make sure you have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"PHP"})," >= 8.0.1 (8.1+ recommended)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Laravel"})," >= 9.19 (9/10/11 supported)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Composer"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"jobmetric/laravel-package-core"})," ^1.22"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"jobmetric/laravel-event-system"})," ^2.7"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"install-via-composer",children:"Install via Composer"}),"\n",(0,t.jsx)(n.p,{children:"Run the following command to pull in the latest version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"composer require jobmetric/laravel-metadata\n"})}),"\n",(0,t.jsx)(n.h2,{id:"service-provider",children:"Service Provider"}),"\n",(0,t.jsxs)(n.p,{children:["Laravel Package Auto-Discovery will automatically register the service provider. If you're using Laravel < 5.5 or have disabled auto-discovery, manually register the provider in ",(0,t.jsx)(n.code,{children:"config/app.php"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"'providers' => [\n    // ...\n    JobMetric\\Metadata\\MetadataServiceProvider::class,\n],\n"})}),"\n",(0,t.jsx)(n.h2,{id:"publish-configuration",children:"Publish Configuration"}),"\n",(0,t.jsx)(n.p,{children:"After installation, publish the configuration file (optional):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --provider="JobMetric\\Metadata\\MetadataServiceProvider" --tag="metadata-config"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["This will create a ",(0,t.jsx)(n.code,{children:"config/metadata.php"})," file where you can customize package settings."]}),"\n",(0,t.jsx)(n.h2,{id:"run-migrations",children:"Run Migrations"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important:"})," Before using the package, you must run the migrations to create the ",(0,t.jsx)(n.code,{children:"metas"})," table:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will create the ",(0,t.jsx)(n.code,{children:"metas"})," table with the following structure:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"id"})," - Primary key"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"metaable_type"})," - Model class name (polymorphic)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"metaable_id"})," - Model ID (polymorphic)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"key"})," - Metadata key (indexed)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"value"})," - Metadata value (text, nullable)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"is_json"})," - Boolean flag indicating if value is JSON"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"created_at"})," - Timestamp"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"updated_at"})," - Timestamp"]}),"\n",(0,t.jsxs)(n.li,{children:["Unique index on ",(0,t.jsx)(n.code,{children:"(metaable_type, metaable_id, key)"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,t.jsx)(n.p,{children:"To verify the package is installed correctly, you can check if the trait is available:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Metadata\\HasMeta;\n\nclass TestModel extends Model\n{\n    use HasMeta;\n}\n\n// This should work without errors\n$model = new TestModel();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"quick-test",children:"Quick Test"}),"\n",(0,t.jsx)(n.p,{children:"Create a simple test to ensure everything is working:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Metadata\\HasMeta;\n\nclass Product extends Model\n{\n    use HasMeta;\n}\n\n// Create a product\n$product = Product::create(['name' => 'Test Product']);\n\n// Store metadata\n$product->storeMetadata('color', 'red');\n\n// Retrieve metadata\n$color = $product->getMetadata('color');\n// => 'red'\n\n// If no errors occurred, installation is successful!\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The package configuration file (",(0,t.jsx)(n.code,{children:"config/metadata.php"}),") allows you to customize:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Table Name"}),": Change the default ",(0,t.jsx)(n.code,{children:"metas"})," table name"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Other Settings"}),": Additional package-specific configurations"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"return [\n    'tables' => [\n        'meta' => 'metas',\n    ],\n];\n"})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"Now that you've installed Laravel Metadata, you can:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Learn about ",(0,t.jsx)(l.A,{to:"/packages/laravel-metadata/deep-diving/has-meta",children:"using the HasMeta trait"})]}),"\n",(0,t.jsxs)(n.li,{children:["Explore ",(0,t.jsx)(l.A,{to:"/packages/laravel-metadata/showcase",children:"real-world examples"})]}),"\n",(0,t.jsxs)(n.li,{children:["Check out the ",(0,t.jsx)(l.A,{to:"/packages/laravel-metadata/deep-diving/has-meta",children:"complete API reference"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"migration-errors",children:"Migration Errors"}),"\n",(0,t.jsx)(n.p,{children:"If you encounter migration errors:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Make sure you've run ",(0,t.jsx)(n.code,{children:"composer require jobmetric/laravel-metadata"})]}),"\n",(0,t.jsx)(n.li,{children:"Check that all dependencies are installed"}),"\n",(0,t.jsxs)(n.li,{children:["Run ",(0,t.jsx)(n.code,{children:"php artisan migrate:fresh"})," if needed (warning: this will drop all tables)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"trait-not-found",children:"Trait Not Found"}),"\n",(0,t.jsx)(n.p,{children:'If you get a "Trait not found" error:'}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Make sure the package is properly installed via Composer"}),"\n",(0,t.jsxs)(n.li,{children:["Run ",(0,t.jsx)(n.code,{children:"composer dump-autoload"})]}),"\n",(0,t.jsx)(n.li,{children:"Clear any opcode cache (OPcache) if enabled"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"event-system-not-working",children:"Event System Not Working"}),"\n",(0,t.jsx)(n.p,{children:"If events are not firing:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Ensure ",(0,t.jsx)(n.code,{children:"jobmetric/laravel-event-system"})," is installed"]}),"\n",(0,t.jsx)(n.li,{children:"Check that event listeners are registered"}),"\n",(0,t.jsx)(n.li,{children:"Verify the event system is properly configured"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,n,a){a.d(n,{R:()=>l,x:()=>s});var i=a(6540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);