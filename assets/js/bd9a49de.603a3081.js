"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[8331],{28453(e,n,a){a.d(n,{R:()=>i,x:()=>r});var s=a(96540);const t={},l=s.createContext(t);function i(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(l.Provider,{value:n},e.children)}},62330(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"laravel-translation/deep-diving/has-translation","title":"HasTranslation Trait","description":"The HasTranslation trait is the core foundation of Laravel Translation package, providing powerful multilingual capabilities for your Eloquent models. It enables per-field translations with optional versioning, query scopes, and a comprehensive set of helper methods for managing translations seamlessly.","source":"@site/packages/laravel-translation/deep-diving/has-translation.md","sourceDirName":"laravel-translation/deep-diving","slug":"/laravel-translation/deep-diving/has-translation","permalink":"/packages/laravel-translation/deep-diving/has-translation","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-translation/deep-diving/has-translation.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"HasTranslation"},"sidebar":"packagesSidebar","previous":{"title":"Showcase","permalink":"/packages/laravel-translation/showcase"},"next":{"title":"HasServiceTranslation","permalink":"/packages/laravel-translation/deep-diving/has-service-translation"}}');var t=a(74848),l=a(28453),i=a(28774);const r={sidebar_position:1,sidebar_label:"HasTranslation"},o="HasTranslation Trait",d={},c=[{value:"When to Use HasTranslation",id:"when-to-use-hastranslation",level:2},{value:"Overview",id:"overview",level:2},{value:"Namespace",id:"namespace",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Configuration Properties",id:"configuration-properties",level:2},{value:"<code>$translatables</code>",id:"translatables",level:3},{value:"<code>$translationVersioning</code>",id:"translationversioning",level:3},{value:"Creating Models with Translations",id:"creating-models-with-translations",level:2},{value:"Using the Virtual <code>translation</code> Attribute",id:"using-the-virtual-translation-attribute",level:3},{value:"Creating First, Then Adding Translations",id:"creating-first-then-adding-translations",level:3},{value:"Reading Translations",id:"reading-translations",level:2},{value:"Get Single Translation",id:"get-single-translation",level:3},{value:"Get All Translations for a Locale",id:"get-all-translations-for-a-locale",level:3},{value:"Get All Translations (All Locales)",id:"get-all-translations-all-locales",level:3},{value:"Updating Translations",id:"updating-translations",level:2},{value:"Update via Virtual Attribute",id:"update-via-virtual-attribute",level:3},{value:"Update Single Field",id:"update-single-field",level:3},{value:"Batch Update",id:"batch-update",level:3},{value:"Using <code>translate()</code> Method",id:"using-translate-method",level:3},{value:"Versioning System",id:"versioning-system",level:2},{value:"How Versioning Works",id:"how-versioning-works",level:3},{value:"Working with Versions",id:"working-with-versions",level:3},{value:"Translation History",id:"translation-history",level:3},{value:"Query Scopes",id:"query-scopes",level:2},{value:"<code>whereTranslationEquals</code>",id:"wheretranslationequals",level:3},{value:"<code>whereTranslationLike</code>",id:"wheretranslationlike",level:3},{value:"<code>searchTranslation</code>",id:"searchtranslation",level:3},{value:"Combining with Other Query Methods",id:"combining-with-other-query-methods",level:3},{value:"Managing Translatable Fields",id:"managing-translatable-fields",level:2},{value:"Get Allowed Fields",id:"get-allowed-fields",level:3},{value:"Check if All Fields Are Allowed",id:"check-if-all-fields-are-allowed",level:3},{value:"Add New Translatable Fields",id:"add-new-translatable-fields",level:3},{value:"Remove Translatable Field",id:"remove-translatable-field",level:3},{value:"Checking Translation Existence",id:"checking-translation-existence",level:2},{value:"Check if Field Has Translation",id:"check-if-field-has-translation",level:3},{value:"Check if Any Translation Exists",id:"check-if-any-translation-exists",level:3},{value:"Deleting Translations",id:"deleting-translations",level:2},{value:"Forget Single Field Translation",id:"forget-single-field-translation",level:3},{value:"Forget All Translations for a Locale",id:"forget-all-translations-for-a-locale",level:3},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Example 1: E-Commerce Product",id:"example-1-e-commerce-product",level:3},{value:"Example 2: Blog Post with Versioning",id:"example-2-blog-post-with-versioning",level:3},{value:"Example 3: Multi-Language Search",id:"example-3-multi-language-search",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Define Translatable Fields Explicitly",id:"1-define-translatable-fields-explicitly",level:3},{value:"2. Enable Versioning for Important Content",id:"2-enable-versioning-for-important-content",level:3},{value:"3. Use Query Scopes for Performance",id:"3-use-query-scopes-for-performance",level:3},{value:"4. Always Check Translation Existence",id:"4-always-check-translation-existence",level:3},{value:"5. Batch Operations for Multiple Translations",id:"5-batch-operations-for-multiple-translations",level:3},{value:"Integration with Relationships",id:"integration-with-relationships",level:2},{value:"Summary",id:"summary",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"hastranslation-trait",children:"HasTranslation Trait"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"HasTranslation"})," trait is the ",(0,t.jsx)(n.strong,{children:"core foundation"})," of Laravel Translation package, providing powerful multilingual capabilities for your Eloquent models. It enables per-field translations with optional versioning, query scopes, and a comprehensive set of helper methods for managing translations seamlessly."]}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-hastranslation",children:"When to Use HasTranslation"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Use ",(0,t.jsx)(n.code,{children:"HasTranslation"})," when you need:"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multilingual content management"}),": Store and retrieve content in multiple languages for the same model"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Per-field translations"}),": Different fields can have different translations for different locales"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dynamic translation storage"}),": Translations stored in database, making them manageable through your application"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Version history"}),": Track changes to translations over time with optional versioning"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Query support"}),": Search and filter models based on translated content"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Flexible field control"}),": Whitelist specific fields or allow all fields to be translatable"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example scenarios:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"E-commerce products with names, descriptions, and specifications in multiple languages"}),"\n",(0,t.jsx)(n.li,{children:"Blog posts and articles with titles and content in different locales"}),"\n",(0,t.jsx)(n.li,{children:"CMS pages and content with multilingual support"}),"\n",(0,t.jsx)(n.li,{children:"Categories and taxonomies with translated names and descriptions"}),"\n",(0,t.jsx)(n.li,{children:"News articles and media content in multiple languages"}),"\n",(0,t.jsx)(n.li,{children:"Educational content with course materials in different languages"}),"\n",(0,t.jsx)(n.li,{children:"Real estate listings with property descriptions in various locales"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"HasTranslation"})," transforms any Eloquent model into a fully multilingual entity, allowing you to:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Store translations per field"})," - Each translatable field can have different values for different locales"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Control translatable fields"})," - Whitelist specific fields or allow all fields with ",(0,t.jsx)(n.code,{children:"['*']"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Version history"})," - Optional versioning system to track translation changes over time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Query translations"})," - Powerful query scopes to search and filter by translated content"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Simple API"})," - Intuitive methods for creating, reading, updating, and deleting translations"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"JobMetric\\Translation\\HasTranslation\n"})}),"\n",(0,t.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(n.p,{children:"Add the trait to your model and define which fields should be translatable:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse JobMetric\\Translation\\HasTranslation;\n\nclass Post extends Model\n{\n    use HasTranslation;\n\n    /**\n     * Only these fields can be translated.\n     * Use ['*'] to allow all fields.\n     */\n    protected array $translatables = ['title', 'summary', 'body'];\n\n    /**\n     * Enable versioning to keep history of translations.\n     * When enabled, each update creates a new version and soft-deletes the previous one.\n     */\n    protected bool $translationVersioning = true;\n\n    protected $fillable = ['slug', 'status', 'translation'];\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-properties",children:"Configuration Properties"}),"\n",(0,t.jsx)(n.h3,{id:"translatables",children:(0,t.jsx)(n.code,{children:"$translatables"})}),"\n",(0,t.jsx)(n.p,{children:"Defines which fields can be translated. Accepts:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Array of field names"}),": ",(0,t.jsx)(n.code,{children:"['title', 'summary', 'body']"})," - Only these fields can be translated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Wildcard"}),": ",(0,t.jsx)(n.code,{children:"['*']"})," - All fields can be translated"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"protected array $translatables = ['title', 'summary'];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"translationversioning",children:(0,t.jsx)(n.code,{children:"$translationVersioning"})}),"\n",(0,t.jsx)(n.p,{children:"Enables version history tracking for translations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"true"})}),": Each translation update creates a new version, previous versions are soft-deleted"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"false"})}),": No versioning, translations are updated in place"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"protected bool $translationVersioning = true;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"creating-models-with-translations",children:"Creating Models with Translations"}),"\n",(0,t.jsxs)(n.h3,{id:"using-the-virtual-translation-attribute",children:["Using the Virtual ",(0,t.jsx)(n.code,{children:"translation"})," Attribute"]}),"\n",(0,t.jsxs)(n.p,{children:["The trait provides a virtual ",(0,t.jsx)(n.code,{children:"translation"})," attribute that you can use during ",(0,t.jsx)(n.code,{children:"create"})," or ",(0,t.jsx)(n.code,{children:"update"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post = Post::create([\n    'slug' => 'hello-world',\n    'status' => 'published',\n    'translation' => [\n        'en' => [\n            'title'   => 'Hello World',\n            'summary' => 'My first post',\n            'body'    => 'Welcome to my blog!',\n        ],\n        'fa' => [\n            'title'   => '\u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627',\n            'summary' => '\u0627\u0648\u0644\u06cc\u0646 \u067e\u0633\u062a \u0645\u0646',\n            'body'    => '\u0628\u0647 \u0648\u0628\u0644\u0627\u06af \u0645\u0646 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f!',\n        ],\n        'ar' => [\n            'title'   => '\u0645\u0631\u062d\u0628\u0627 \u0628\u0627\u0644\u0639\u0627\u0644\u0645',\n            'summary' => '\u0645\u0646\u0634\u0648\u0631\u062a\u064a \u0627\u0644\u0623\u0648\u0644\u0649',\n            'body'    => '\u0645\u0631\u062d\u0628\u0627 \u0628\u0643 \u0641\u064a \u0645\u062f\u0648\u0646\u062a\u064a!',\n        ],\n    ],\n]);\n\n// Retrieve translations\necho $post->getTranslation('title', 'fa');  // \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627\necho $post->getTranslation('title', 'en');  // Hello World\necho $post->getTranslation('title', 'ar');  // \u0645\u0631\u062d\u0628\u0627 \u0628\u0627\u0644\u0639\u0627\u0644\u0645\n"})}),"\n",(0,t.jsx)(n.h3,{id:"creating-first-then-adding-translations",children:"Creating First, Then Adding Translations"}),"\n",(0,t.jsx)(n.p,{children:"You can also create the model first and add translations separately:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post = Post::create([\n    'slug' => 'hello-world',\n    'status' => 'published',\n]);\n\n// Add translations one by one\n$post->translate('en', [\n    'title' => 'Hello World',\n    'summary' => 'My first post',\n]);\n\n$post->translate('fa', [\n    'title' => '\u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627',\n    'summary' => '\u0627\u0648\u0644\u06cc\u0646 \u067e\u0633\u062a \u0645\u0646',\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"reading-translations",children:"Reading Translations"}),"\n",(0,t.jsx)(n.h3,{id:"get-single-translation",children:"Get Single Translation"}),"\n",(0,t.jsx)(n.p,{children:"Retrieve a specific field translation for a locale:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Get latest active translation\n$title = $post->getTranslation('title', 'fa');\n\n// Get specific version (if versioning is enabled)\n$titleV1 = $post->getTranslation('title', 'fa', 1);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get-all-translations-for-a-locale",children:"Get All Translations for a Locale"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$translations = $post->getTranslations('fa');\n\n// Output:\n// Array\n// (\n//     [title] => \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627\n//     [summary] => \u0627\u0648\u0644\u06cc\u0646 \u067e\u0633\u062a \u0645\u0646\n//     [body] => \u0628\u0647 \u0648\u0628\u0644\u0627\u06af \u0645\u0646 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f!\n// )\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get-all-translations-all-locales",children:"Get All Translations (All Locales)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$allTranslations = $post->getTranslations();\n\n// Output:\n// Array\n// (\n//     [en] => Array\n//         (\n//             [title] => Hello World\n//             [summary] => My first post\n//             [body] => Welcome to my blog!\n//         )\n//     [fa] => Array\n//         (\n//             [title] => \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627\n//             [summary] => \u0627\u0648\u0644\u06cc\u0646 \u067e\u0633\u062a \u0645\u0646\n//             [body] => \u0628\u0647 \u0648\u0628\u0644\u0627\u06af \u0645\u0646 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f!\n//         )\n// )\n"})}),"\n",(0,t.jsx)(n.h2,{id:"updating-translations",children:"Updating Translations"}),"\n",(0,t.jsx)(n.h3,{id:"update-via-virtual-attribute",children:"Update via Virtual Attribute"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post->update([\n    'translation' => [\n        'en' => [\n            'summary' => 'Updated English summary',\n        ],\n        'fa' => [\n            'title' => '\u062a\u06cc\u062a\u0631 \u062c\u062f\u06cc\u062f',\n        ],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update-single-field",children:"Update Single Field"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post->setTranslation('fa', 'title', '\u062a\u06cc\u062a\u0631 \u062c\u062f\u06cc\u062f');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"batch-update",children:"Batch Update"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post->translateBatch([\n    'en' => [\n        'title' => 'Updated Title',\n        'summary' => 'Updated Summary',\n    ],\n    'fa' => [\n        'title' => '\u0639\u0646\u0648\u0627\u0646 \u0628\u0647\u200c\u0631\u0648\u0632 \u0634\u062f\u0647',\n        'summary' => '\u062e\u0644\u0627\u0635\u0647 \u0628\u0647\u200c\u0631\u0648\u0632 \u0634\u062f\u0647',\n    ],\n]);\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"using-translate-method",children:["Using ",(0,t.jsx)(n.code,{children:"translate()"})," Method"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Update single locale\n$post->translate('en', [\n    'title' => 'New Title',\n    'summary' => 'New Summary',\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"versioning-system",children:"Versioning System"}),"\n",(0,t.jsxs)(n.p,{children:["When ",(0,t.jsx)(n.code,{children:"$translationVersioning = true"}),", the trait maintains a complete history of translation changes."]}),"\n",(0,t.jsx)(n.h3,{id:"how-versioning-works",children:"How Versioning Works"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Each time you update a translation, a new version is created"}),"\n",(0,t.jsx)(n.li,{children:"The previous version is soft-deleted (not permanently removed)"}),"\n",(0,t.jsx)(n.li,{children:"You can access any version of a translation"}),"\n",(0,t.jsx)(n.li,{children:"The latest active version is returned by default"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"working-with-versions",children:"Working with Versions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Create initial translation\n$post->translate('en', ['title' => 'Version 1']);\n\n// Update creates version 2\n$post->translate('en', ['title' => 'Version 2']);\n\n// Update creates version 3\n$post->translate('en', ['title' => 'Version 3']);\n\n// Get latest active version\necho $post->getTranslation('title', 'en');  // Version 3\n\n// Get specific version\necho $post->getTranslation('title', 'en', 1);  // Version 1\necho $post->getTranslation('title', 'en', 2);  // Version 2\n\n// Get latest version number\n$latestVersion = $post->latestTranslationVersion('title', 'en');  // 3\n"})}),"\n",(0,t.jsx)(n.h3,{id:"translation-history",children:"Translation History"}),"\n",(0,t.jsx)(n.p,{children:"Retrieve all versions of a translation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$history = $post->getTranslationVersions('title', 'en');\n\n// Output:\n// Array\n// (\n//     [0] => Array\n//         (\n//             [version] => 3\n//             [value] => Version 3\n//             [deleted_at] => null\n//         )\n//     [1] => Array\n//         (\n//             [version] => 2\n//             [value] => Version 2\n//             [deleted_at] => 2025-01-15 10:30:00\n//         )\n//     [2] => Array\n//         (\n//             [version] => 1\n//             [value] => Version 1\n//             [deleted_at] => 2025-01-15 10:25:00\n//         )\n// )\n"})}),"\n",(0,t.jsx)(n.h2,{id:"query-scopes",children:"Query Scopes"}),"\n",(0,t.jsx)(n.p,{children:"The trait provides powerful query scopes to search and filter models based on their translations."}),"\n",(0,t.jsx)(n.h3,{id:"wheretranslationequals",children:(0,t.jsx)(n.code,{children:"whereTranslationEquals"})}),"\n",(0,t.jsx)(n.p,{children:"Find models where a translation field exactly matches a value:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Find posts with title \"Hello World\" in English\n$posts = Post::whereTranslationEquals('title', 'Hello World', 'en')->get();\n\n// Works with any translatable field\n$posts = Post::whereTranslationEquals('summary', 'My first post', 'en')->get();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"wheretranslationlike",children:(0,t.jsx)(n.code,{children:"whereTranslationLike"})}),"\n",(0,t.jsx)(n.p,{children:"Find models where a translation field contains a value (LIKE query):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Find posts where summary contains \"first\" in English\n$posts = Post::whereTranslationLike('summary', 'first', 'en')->get();\n\n// Case-insensitive search\n$posts = Post::whereTranslationLike('title', 'hello', 'en')->get();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"searchtranslation",children:(0,t.jsx)(n.code,{children:"searchTranslation"})}),"\n",(0,t.jsx)(n.p,{children:"Full-text search in translations (supports multiple languages):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Search in Persian\n$posts = Post::searchTranslation('summary', '\u062e\u0644\u0627\u0635\u0647', 'fa')->get();\n\n// Search in English\n$posts = Post::searchTranslation('title', 'Hello', 'en')->get();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"combining-with-other-query-methods",children:"Combining with Other Query Methods"}),"\n",(0,t.jsx)(n.p,{children:"Query scopes can be chained with other Eloquent methods:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$posts = Post::where('status', 'published')\n    ->whereTranslationEquals('title', 'Hello World', 'en')\n    ->whereTranslationLike('summary', 'first', 'en')\n    ->orderBy('created_at', 'desc')\n    ->get();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"managing-translatable-fields",children:"Managing Translatable Fields"}),"\n",(0,t.jsx)(n.h3,{id:"get-allowed-fields",children:"Get Allowed Fields"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$fields = $post->getTranslatableFields();\n\n// Output: ['title', 'summary', 'body']\n"})}),"\n",(0,t.jsx)(n.h3,{id:"check-if-all-fields-are-allowed",children:"Check if All Fields Are Allowed"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"if ($post->translatablesAllowAll()) {\n    // All fields can be translated\n} else {\n    // Only specific fields can be translated\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"add-new-translatable-fields",children:"Add New Translatable Fields"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Merge new fields with existing ones\n$post->mergeTranslatables(['seo_title', 'meta_description']);\n\n// Now translatable fields: ['title', 'summary', 'body', 'seo_title', 'meta_description']\n"})}),"\n",(0,t.jsx)(n.h3,{id:"remove-translatable-field",children:"Remove Translatable Field"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$post->removeTranslatableField('summary');\n\n// Now translatable fields: ['title', 'body']\n"})}),"\n",(0,t.jsx)(n.h2,{id:"checking-translation-existence",children:"Checking Translation Existence"}),"\n",(0,t.jsx)(n.h3,{id:"check-if-field-has-translation",children:"Check if Field Has Translation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"if ($post->hasTranslationField('title', 'fa')) {\n    // Translation exists\n    echo $post->getTranslation('title', 'fa');\n} else {\n    // Translation doesn't exist\n    echo 'No translation available';\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"check-if-any-translation-exists",children:"Check if Any Translation Exists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"if ($post->hasTranslation('title')) {\n    // At least one locale has this field translated\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"deleting-translations",children:"Deleting Translations"}),"\n",(0,t.jsx)(n.h3,{id:"forget-single-field-translation",children:"Forget Single Field Translation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Remove translation for specific field and locale\n$post->forgetTranslation('summary', 'en');\n\n// Check if removed\nvar_dump($post->hasTranslationField('summary', 'en'));  // bool(false)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"forget-all-translations-for-a-locale",children:"Forget All Translations for a Locale"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Remove all translations for a specific locale\n$post->forgetTranslation(null, 'en');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,t.jsx)(n.h3,{id:"example-1-e-commerce-product",children:"Example 1: E-Commerce Product"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"class Product extends Model\n{\n    use HasTranslation;\n\n    protected array $translatables = [\n        'name',\n        'description',\n        'short_description',\n        'meta_title',\n        'meta_description',\n        'meta_keywords',\n    ];\n\n    protected bool $translationVersioning = true;\n}\n\n// Create product with translations\n$product = Product::create([\n    'sku' => 'PROD-001',\n    'price' => 99.99,\n    'translation' => [\n        'en' => [\n            'name' => 'Wireless Headphones',\n            'description' => 'High-quality wireless headphones with noise cancellation',\n            'short_description' => 'Premium wireless headphones',\n            'meta_title' => 'Wireless Headphones - Best Price',\n            'meta_description' => 'Buy wireless headphones with best features',\n        ],\n        'fa' => [\n            'name' => '\u0647\u062f\u0641\u0648\u0646 \u0628\u06cc\u200c\u0633\u06cc\u0645',\n            'description' => '\u0647\u062f\u0641\u0648\u0646 \u0628\u06cc\u200c\u0633\u06cc\u0645 \u0628\u0627 \u06a9\u06cc\u0641\u06cc\u062a \u0628\u0627\u0644\u0627 \u0648 \u062d\u0630\u0641 \u0646\u0648\u06cc\u0632',\n            'short_description' => '\u0647\u062f\u0641\u0648\u0646 \u0628\u06cc\u200c\u0633\u06cc\u0645 \u067e\u0631\u06cc\u0645\u06cc\u0648\u0645',\n            'meta_title' => '\u0647\u062f\u0641\u0648\u0646 \u0628\u06cc\u200c\u0633\u06cc\u0645 - \u0628\u0647\u062a\u0631\u06cc\u0646 \u0642\u06cc\u0645\u062a',\n            'meta_description' => '\u062e\u0631\u06cc\u062f \u0647\u062f\u0641\u0648\u0646 \u0628\u06cc\u200c\u0633\u06cc\u0645 \u0628\u0627 \u0628\u0647\u062a\u0631\u06cc\u0646 \u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627',\n        ],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-2-blog-post-with-versioning",children:"Example 2: Blog Post with Versioning"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"class BlogPost extends Model\n{\n    use HasTranslation;\n\n    protected array $translatables = ['title', 'content', 'excerpt'];\n    protected bool $translationVersioning = true;\n}\n\n$post = BlogPost::create(['slug' => 'my-post']);\n\n// Initial translation\n$post->translate('en', [\n    'title' => 'My First Post',\n    'content' => 'Initial content...',\n]);\n\n// Editor makes changes (creates version 2)\n$post->translate('en', [\n    'title' => 'My First Post - Updated',\n    'content' => 'Updated content with more details...',\n]);\n\n// Get current version\necho $post->getTranslation('title', 'en');  // My First Post - Updated\n\n// Get previous version\necho $post->getTranslation('title', 'en', 1);  // My First Post\n\n// View history\n$history = $post->getTranslationVersions('title', 'en');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-3-multi-language-search",children:"Example 3: Multi-Language Search"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Search for products in multiple languages\n$searchTerm = 'headphones';\n\n$products = Product::where(function($query) use ($searchTerm) {\n    $query->whereTranslationLike('name', $searchTerm, 'en')\n          ->orWhereTranslationLike('name', $searchTerm, 'fa')\n          ->orWhereTranslationLike('name', $searchTerm, 'ar');\n})->get();\n\n// Display results with appropriate language\nforeach ($products as $product) {\n    $locale = app()->getLocale();\n    echo $product->getTranslation('name', $locale);\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-define-translatable-fields-explicitly",children:"1. Define Translatable Fields Explicitly"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// \u2705 Good: Explicit field list\nprotected array $translatables = ['title', 'summary', 'body'];\n\n// \u26a0\ufe0f Use with caution: All fields translatable\nprotected array $translatables = ['*'];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-enable-versioning-for-important-content",children:"2. Enable Versioning for Important Content"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// \u2705 Good: Enable versioning for content that changes frequently\nprotected bool $translationVersioning = true;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-use-query-scopes-for-performance",children:"3. Use Query Scopes for Performance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// \u2705 Good: Use query scopes for efficient searching\n$posts = Post::whereTranslationEquals('title', 'Hello', 'en')->get();\n\n// \u274c Avoid: Loading all posts and filtering in PHP\n$allPosts = Post::all();\n$filtered = $allPosts->filter(function($post) {\n    return $post->getTranslation('title', 'en') === 'Hello';\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-always-check-translation-existence",children:"4. Always Check Translation Existence"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// \u2705 Good: Check before using\nif ($post->hasTranslationField('title', $locale)) {\n    $title = $post->getTranslation('title', $locale);\n} else {\n    $title = 'No translation available';\n}\n\n// \u274c Avoid: Direct access without check\n$title = $post->getTranslation('title', $locale);  // May return null\n"})}),"\n",(0,t.jsx)(n.h3,{id:"5-batch-operations-for-multiple-translations",children:"5. Batch Operations for Multiple Translations"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// \u2705 Good: Batch update\n$post->translateBatch([\n    'en' => ['title' => 'Title', 'summary' => 'Summary'],\n    'fa' => ['title' => '\u0639\u0646\u0648\u0627\u0646', 'summary' => '\u062e\u0644\u0627\u0635\u0647'],\n]);\n\n// \u274c Avoid: Multiple individual updates\n$post->setTranslation('en', 'title', 'Title');\n$post->setTranslation('en', 'summary', 'Summary');\n$post->setTranslation('fa', 'title', '\u0639\u0646\u0648\u0627\u0646');\n$post->setTranslation('fa', 'summary', '\u062e\u0644\u0627\u0635\u0647');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"integration-with-relationships",children:"Integration with Relationships"}),"\n",(0,t.jsx)(n.p,{children:"Translations work seamlessly with Eloquent relationships:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"class Category extends Model\n{\n    use HasTranslation;\n    protected array $translatables = ['name', 'description'];\n}\n\nclass Product extends Model\n{\n    use HasTranslation;\n    protected array $translatables = ['name', 'description'];\n\n    public function category()\n    {\n        return $this->belongsTo(Category::class);\n    }\n}\n\n// Access translations through relationships\n$product = Product::with('category')->first();\n$productName = $product->getTranslation('name', 'fa');\n$categoryName = $product->category->getTranslation('name', 'fa');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"HasTranslation"})," trait provides a comprehensive solution for multilingual content management:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Simple Setup"})," - Just add the trait and define translatable fields"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Flexible Configuration"})," - Control which fields are translatable"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Version History"})," - Optional versioning to track changes"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Powerful Queries"})," - Query scopes for efficient searching"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Intuitive API"})," - Easy-to-use methods for all operations"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Performance Optimized"})," - Efficient database queries"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Relationship Support"})," - Works seamlessly with Eloquent relationships"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This trait allows you to build fully multilingual applications while keeping your code clean and maintainable."}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(i.A,{to:"/packages/laravel-translation/deep-diving/translation-field-exist-rule",children:"TranslationFieldExistRule"})," - Validation rule for unique translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-array-request",children:"TranslationArrayRequest"})," - Form request trait for array-based translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/multi-translation-array-request",children:"MultiTranslationArrayRequest"})," - Form request trait for multi-locale array translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-type-object-request",children:"TranslationTypeObjectRequest"})," - Form request trait for Typeify-based translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/multi-translation-type-object-request",children:"MultiTranslationTypeObjectRequest"})," - Form request trait for multi-locale Typeify translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/resources/translation-resource",children:"TranslationResource"})," - JSON resource for single translation rows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/resources/translation-collection-resource",children:"TranslationCollectionResource"})," - JSON resource for translation collections"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/events",children:"Events"})," - Translation events system"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/packages/laravel-translation/showcase",children:"Showcase"})," - Real-world usage examples"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);