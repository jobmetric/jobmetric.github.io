"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[5055],{19291(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"laravel-unit-converter/deep-diving/exceptions/unit-not-found","title":"UnitNotFoundException","description":"Thrown when attempting to access a unit that does not exist in the database.","source":"@site/packages/laravel-unit-converter/deep-diving/exceptions/unit-not-found.md","sourceDirName":"laravel-unit-converter/deep-diving/exceptions","slug":"/laravel-unit-converter/deep-diving/exceptions/unit-not-found","permalink":"/packages/laravel-unit-converter/deep-diving/exceptions/unit-not-found","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-unit-converter/deep-diving/exceptions/unit-not-found.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"UnitNotFoundException"},"sidebar":"packagesSidebar","previous":{"title":"UnitDeleteEvent","permalink":"/packages/laravel-unit-converter/deep-diving/events/unit-delete-event"},"next":{"title":"TypeNotFoundInAllowTypesException","permalink":"/packages/laravel-unit-converter/deep-diving/exceptions/type-not-found-in-allow-types"}}');var o=t(74848),r=t(28453);const s={sidebar_position:1,sidebar_label:"UnitNotFoundException"},d="UnitNotFoundException",c={},l=[{value:"Namespace",id:"namespace",level:2},{value:"HTTP Status Code",id:"http-status-code",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Parameters",id:"parameters",level:3},{value:"When Is It Thrown?",id:"when-is-it-thrown",level:2},{value:"1. Getting a Unit by ID",id:"1-getting-a-unit-by-id",level:3},{value:"2. Converting Between Units",id:"2-converting-between-units",level:3},{value:"3. Storing Unit on a Model",id:"3-storing-unit-on-a-model",level:3},{value:"4. Getting Unit Value with Conversion",id:"4-getting-unit-value-with-conversion",level:3},{value:"Handling the Exception",id:"handling-the-exception",level:2},{value:"In Controllers",id:"in-controllers",level:3},{value:"In Services",id:"in-services",level:3},{value:"Global Exception Handler",id:"global-exception-handler",level:3},{value:"Prevention",id:"prevention",level:2},{value:"Validate Unit ID Before Use",id:"validate-unit-id-before-use",level:3},{value:"Use findUnitByCode Instead",id:"use-findunitbycode-instead",level:3},{value:"Related Exceptions",id:"related-exceptions",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"unitnotfoundexception",children:"UnitNotFoundException"})}),"\n",(0,o.jsx)(n.p,{children:"Thrown when attempting to access a unit that does not exist in the database."}),"\n",(0,o.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"JobMetric\\UnitConverter\\Exceptions\\UnitNotFoundException\n"})}),"\n",(0,o.jsx)(n.h2,{id:"http-status-code",children:"HTTP Status Code"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"404 Not Found"})}),"\n",(0,o.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"public function __construct(\n    int $number,\n    int $code = 404,\n    ?Throwable $previous = null\n)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"$number"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"int"})}),(0,o.jsx)(n.td,{children:"The unit ID that was not found"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"$code"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"int"})}),(0,o.jsx)(n.td,{children:"HTTP status code (default: 404)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"$previous"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Throwable|null"})}),(0,o.jsx)(n.td,{children:"Previous exception for chaining"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"when-is-it-thrown",children:"When Is It Thrown?"}),"\n",(0,o.jsx)(n.p,{children:"This exception is thrown in the following scenarios:"}),"\n",(0,o.jsx)(n.h3,{id:"1-getting-a-unit-by-id",children:"1. Getting a Unit by ID"}),"\n",(0,o.jsxs)(n.p,{children:["When using ",(0,o.jsx)(n.code,{children:"UnitConverter::getObject()"})," or ",(0,o.jsx)(n.code,{children:"UnitConverter::get()"})," with an invalid ID:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\n// Unit with ID 99999 does not exist\n$unit = UnitConverter::getObject(99999);\n// Throws: UnitNotFoundException\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-converting-between-units",children:"2. Converting Between Units"}),"\n",(0,o.jsx)(n.p,{children:"When either the source or target unit ID is invalid:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\n// Invalid source unit\nUnitConverter::convert(99999, 1, 100);\n// Throws: UnitNotFoundException\n\n// Invalid target unit\nUnitConverter::convert(1, 99999, 100);\n// Throws: UnitNotFoundException\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-storing-unit-on-a-model",children:"3. Storing Unit on a Model"}),"\n",(0,o.jsx)(n.p,{children:"When attaching a unit to a model with an invalid unit ID:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"$product = Product::find(1);\n$product->storeUnit('weight', 99999, 2.5);\n// Throws: UnitNotFoundException\n"})}),"\n",(0,o.jsx)(n.h3,{id:"4-getting-unit-value-with-conversion",children:"4. Getting Unit Value with Conversion"}),"\n",(0,o.jsx)(n.p,{children:"When retrieving a unit value with conversion to a non-existent unit:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"$product = Product::find(1);\n$weight = $product->getUnit('weight', 99999);\n// Throws: UnitNotFoundException\n"})}),"\n",(0,o.jsx)(n.h2,{id:"handling-the-exception",children:"Handling the Exception"}),"\n",(0,o.jsx)(n.h3,{id:"in-controllers",children:"In Controllers"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Exceptions\\UnitNotFoundException;\nuse JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\nclass UnitController extends Controller\n{\n    public function show(int $id)\n    {\n        try {\n            $response = UnitConverter::get($id);\n            return response()->json($response->data);\n        } catch (UnitNotFoundException $e) {\n            return response()->json([\n                'error' => 'not_found',\n                'message' => $e->getMessage(),\n            ], 404);\n        }\n    }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"in-services",children:"In Services"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Exceptions\\UnitNotFoundException;\nuse JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\nclass ProductService\n{\n    public function setWeight(Product $product, int $unitId, float $value): bool\n    {\n        try {\n            $product->storeUnit('weight', $unitId, $value);\n            return true;\n        } catch (UnitNotFoundException $e) {\n            Log::warning(\"Invalid unit ID: {$unitId}\", [\n                'product_id' => $product->id,\n                'exception' => $e->getMessage(),\n            ]);\n            return false;\n        }\n    }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"global-exception-handler",children:"Global Exception Handler"}),"\n",(0,o.jsxs)(n.p,{children:["Register in ",(0,o.jsx)(n.code,{children:"App\\Exceptions\\Handler"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Exceptions\\UnitNotFoundException;\n\npublic function register(): void\n{\n    $this->renderable(function (UnitNotFoundException $e, $request) {\n        if ($request->expectsJson()) {\n            return response()->json([\n                'error' => 'unit_not_found',\n                'message' => $e->getMessage(),\n            ], 404);\n        }\n        \n        return redirect()->back()->with('error', $e->getMessage());\n    });\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"prevention",children:"Prevention"}),"\n",(0,o.jsx)(n.h3,{id:"validate-unit-id-before-use",children:"Validate Unit ID Before Use"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Models\\Unit;\n\n// Check if unit exists before using\nif (Unit::where('id', $unitId)->exists()) {\n    $product->storeUnit('weight', $unitId, $value);\n} else {\n    // Handle invalid unit ID\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"use-findunitbycode-instead",children:"Use findUnitByCode Instead"}),"\n",(0,o.jsxs)(n.p,{children:["When working with user input, use ",(0,o.jsx)(n.code,{children:"findUnitByCode()"})," which returns ",(0,o.jsx)(n.code,{children:"null"})," instead of throwing:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\n$unit = UnitConverter::findUnitByCode('kg');\n\nif ($unit) {\n    $product->storeUnit('weight', $unit->id, $value);\n} else {\n    // Handle: unit code not found\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"related-exceptions",children:"Related Exceptions"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"./type-not-found-in-allow-types",children:"TypeNotFoundInAllowTypesException"})," - When unit key is not allowed"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"./from-and-to-must-same-type",children:"FromAndToMustSameTypeException"})," - When converting between different types"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453(e,n,t){t.d(n,{R:()=>s,x:()=>d});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);