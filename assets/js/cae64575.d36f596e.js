"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3335],{8453(e,n,s){s.d(n,{R:()=>t,x:()=>a});var l=s(6540);const r={},i=l.createContext(r);function t(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(i.Provider,{value:n},e.children)}},9288(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"laravel-translation/deep-diving/resources/translation-resource","title":"TranslationResource","description":"TranslationResource is a lightweight JSON resource for serializing a single translation row. It provides toggles to include or exclude version, timestamps, and soft\u2011deletion metadata, so your API can shape output per use case without custom transformers.","source":"@site/packages/laravel-translation/deep-diving/resources/translation-resource.md","sourceDirName":"laravel-translation/deep-diving/resources","slug":"/laravel-translation/deep-diving/resources/translation-resource","permalink":"/packages/laravel-translation/deep-diving/resources/translation-resource","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-translation/deep-diving/resources/translation-resource.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"TranslationResource"},"sidebar":"packagesSidebar","previous":{"title":"MultiTranslationTypeObjectRequest","permalink":"/packages/laravel-translation/deep-diving/requests/multi-translation-type-object-request"},"next":{"title":"TranslationCollectionResource","permalink":"/packages/laravel-translation/deep-diving/resources/translation-collection-resource"}}');var r=s(4848),i=s(8453);const t={sidebar_position:1,sidebar_label:"TranslationResource"},a="TranslationResource",d={},o=[{value:"Use Cases",id:"use-cases",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Default Behavior",id:"default-behavior",level:2},{value:"Output Shape",id:"output-shape",level:2},{value:"Examples",id:"examples",level:2},{value:"1) Default Output (version included, timestamps &amp; deleted_at excluded)",id:"1-default-output-version-included-timestamps--deleted_at-excluded",level:3},{value:"2) Exclude Version",id:"2-exclude-version",level:3},{value:"3) Include Timestamps",id:"3-include-timestamps",level:3},{value:"4) Include Soft\u2011Deletion Metadata",id:"4-include-softdeletion-metadata",level:3},{value:"5) Full Metadata (Version + Timestamps + DeletedAt)",id:"5-full-metadata-version--timestamps--deletedat",level:3},{value:"Chaining Patterns",id:"chaining-patterns",level:2},{value:"Edge Cases",id:"edge-cases",level:2},{value:"Summary",id:"summary",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"translationresource",children:"TranslationResource"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TranslationResource"})," is a lightweight JSON resource for serializing a ",(0,r.jsx)(n.strong,{children:"single translation row"}),". It provides toggles to include or exclude version, timestamps, and soft\u2011deletion metadata, so your API can shape output per use case without custom transformers."]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Use ",(0,r.jsx)(n.code,{children:"TranslationResource"})," when you need:"]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single translation row serialization"}),": Return a single translation record in API responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexible metadata control"}),": Toggle version, timestamps, and soft-deletion metadata as needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API consistency"}),": Standardize translation output format across your API endpoints"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version history display"}),": Show translation version information in API responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit and tracking"}),": Include timestamps and deletion status for translation records"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lightweight responses"}),": Return minimal translation data without unnecessary metadata"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example scenarios:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API endpoints returning a specific translation field for a model"}),"\n",(0,r.jsx)(n.li,{children:"Translation management interfaces showing individual translation records"}),"\n",(0,r.jsx)(n.li,{children:"Version history APIs displaying specific translation versions"}),"\n",(0,r.jsx)(n.li,{children:"Audit logs showing translation changes with timestamps"}),"\n",(0,r.jsx)(n.li,{children:"Translation detail pages in admin panels"}),"\n",(0,r.jsx)(n.li,{children:"Single translation retrieval endpoints"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"This guide focuses on usage and outputs. No tests or database details are discussed."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Translation\\Http\\Resources\\TranslationResource;\n\n// Wrap a single Translation model (or any object exposing the needed properties)\nreturn new TranslationResource($translationRow);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the underlying resource is ",(0,r.jsx)(n.code,{children:"null"}),", the resource returns an ",(0,r.jsx)(n.strong,{children:"empty array"})," (",(0,r.jsx)(n.code,{children:"[]"}),")."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"default-behavior",children:"Default Behavior"}),"\n",(0,r.jsx)(n.p,{children:"By default:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"version"})," ",(0,r.jsx)(n.strong,{children:"is included"})," (if present on the resource)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"created_at"})," and ",(0,r.jsx)(n.code,{children:"updated_at"})," are ",(0,r.jsx)(n.strong,{children:"excluded"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"deleted_at"})," is ",(0,r.jsx)(n.strong,{children:"excluded"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You can change these with chainable methods:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"withVersion(bool $with = true)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"withTimestamps(bool $with = true)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"withDeletedAt(bool $with = true)"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"output-shape",children:"Output Shape"}),"\n",(0,r.jsx)(n.p,{children:"Base fields (always present if available on the resource):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"translatable_type"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"translatable_id"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"locale"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"field"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"value"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Optional fields (based on toggles and availability):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"version"})," (integer)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"created_at"})," (string datetime)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"updated_at"})," (string datetime)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"deleted_at"})," (string datetime or ",(0,r.jsx)(n.code,{children:"null"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"1-default-output-version-included-timestamps--deleted_at-excluded",children:"1) Default Output (version included, timestamps & deleted_at excluded)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return new TranslationResource($translation);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "title",\n  "value": "\u062a\u06cc\u062a\u0631 \u0641\u0627\u0631\u0633\u06cc",\n  "version": 3\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-exclude-version",children:"2) Exclude Version"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return (new TranslationResource($translation))\n    ->withVersion(false);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "title",\n  "value": "\u062a\u06cc\u062a\u0631 \u0641\u0627\u0631\u0633\u06cc"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-include-timestamps",children:"3) Include Timestamps"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return (new TranslationResource($translation))\n    ->withTimestamps();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "title",\n  "value": "\u062a\u06cc\u062a\u0631 \u0641\u0627\u0631\u0633\u06cc",\n  "version": 3,\n  "created_at": "2025-08-10 12:00:00",\n  "updated_at": "2025-08-12 09:15:30"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4-include-softdeletion-metadata",children:"4) Include Soft\u2011Deletion Metadata"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return (new TranslationResource($translation))\n    ->withDeletedAt();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output (soft\u2011deleted row example):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "summary",\n  "value": "\u062e\u0644\u0627\u0635\u0647 \u0642\u062f\u06cc\u0645\u06cc",\n  "version": 2,\n  "deleted_at": "2025-08-10 12:34:56"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output (active row example):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "summary",\n  "value": "\u062e\u0644\u0627\u0635\u0647 \u062c\u062f\u06cc\u062f",\n  "version": 3,\n  "deleted_at": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"5-full-metadata-version--timestamps--deletedat",children:"5) Full Metadata (Version + Timestamps + DeletedAt)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"return (new TranslationResource($translation))\n    ->withVersion()\n    ->withTimestamps()\n    ->withDeletedAt();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "translatable_type": "App\\\\Models\\\\Post",\n  "translatable_id": 42,\n  "locale": "fa",\n  "field": "title",\n  "value": "\u062a\u06cc\u062a\u0631 \u0641\u0627\u0631\u0633\u06cc",\n  "version": 3,\n  "created_at": "2025-08-10 12:00:00",\n  "updated_at": "2025-08-12 09:15:30",\n  "deleted_at": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"chaining-patterns",children:"Chaining Patterns"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Minimal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"new TranslationResource($row);\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Without version:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"(new TranslationResource($row))->withVersion(false);\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"All metadata:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"(new TranslationResource($row))->withTimestamps()->withDeletedAt();\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Custom combination:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"(new TranslationResource($row))->withVersion(false)->withDeletedAt();\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"edge-cases",children:"Edge Cases"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Null resource"})," \u2192 ",(0,r.jsx)(n.code,{children:"[]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Missing ",(0,r.jsx)(n.code,{children:"version"})," property"]})," on the resource while ",(0,r.jsx)(n.code,{children:"withVersion(true)"})," is used \u2192 ",(0,r.jsx)(n.code,{children:"version"})," is simply omitted."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Missing ",(0,r.jsx)(n.code,{children:"created_at"}),"/",(0,r.jsx)(n.code,{children:"updated_at"}),"/",(0,r.jsx)(n.code,{children:"deleted_at"})]})," on the resource \u2192 the corresponding fields are omitted (or ",(0,r.jsx)(n.code,{children:"null"})," if accessors return null)."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TranslationResource"})," gives you a small, reliable surface to serialize a single translation row. Toggle version, timestamps, and soft\u2011deletion data as needed, keep your controllers lean, and your API responses consistent."]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/has-translation",children:"HasTranslation"})," - Core trait for multilingual models"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/resources/translation-collection-resource",children:"TranslationCollectionResource"})," - JSON resource for translation collections"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-array-request",children:"TranslationArrayRequest"})," - Form request for array-based translations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/requests/translation-type-object-request",children:"TranslationTypeObjectRequest"})," - Form request for Typeify-based translations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/packages/laravel-translation/deep-diving/events",children:"Events"})," - Translation events system"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);