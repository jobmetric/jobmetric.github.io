"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[2665],{548(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"laravel-event-system/deep-diving/support/domain-event-definition","title":"DomainEventDefinition","description":"The DomainEventDefinition is an immutable definition object that holds metadata for a domain event, including technical key and UI-oriented presentation details. It provides rich information for building user interfaces, documentation, automation systems, and event logging.","source":"@site/packages/laravel-event-system/deep-diving/support/domain-event-definition.md","sourceDirName":"laravel-event-system/deep-diving/support","slug":"/laravel-event-system/deep-diving/support/domain-event-definition","permalink":"/packages/laravel-event-system/deep-diving/support/domain-event-definition","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-event-system/deep-diving/support/domain-event-definition.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"sidebar_label":"DomainEventDefinition"},"sidebar":"packagesSidebar","previous":{"title":"EventRegistry","permalink":"/packages/laravel-event-system/deep-diving/support/event-registry"},"next":{"title":"DomainEvent","permalink":"/packages/laravel-event-system/deep-diving/domain-event"}}');var s=i(4848),r=i(8453);const o={sidebar_position:8,sidebar_label:"DomainEventDefinition"},l="DomainEventDefinition",a={},d=[{value:"When to Use DomainEventDefinition",id:"when-to-use-domaineventdefinition",level:2},{value:"Overview",id:"overview",level:2},{value:"Namespace",id:"namespace",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Properties",id:"properties",level:2},{value:"<code>key</code> (string)",id:"key-string",level:3},{value:"<code>group</code> (string)",id:"group-string",level:3},{value:"<code>title</code> (string)",id:"title-string",level:3},{value:"<code>description</code> (string, nullable)",id:"description-string-nullable",level:3},{value:"<code>icon</code> (string, nullable)",id:"icon-string-nullable",level:3},{value:"<code>tags</code> (array, nullable)",id:"tags-array-nullable",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Using Definitions",id:"using-definitions",level:2},{value:"In UI Components",id:"in-ui-components",level:3},{value:"In API Responses",id:"in-api-responses",level:3},{value:"In Logging",id:"in-logging",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"domaineventdefinition",children:"DomainEventDefinition"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"DomainEventDefinition"})," is an immutable definition object that holds metadata for a domain event, including technical key and UI-oriented presentation details. It provides rich information for building user interfaces, documentation, automation systems, and event logging."]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-domaineventdefinition",children:"When to Use DomainEventDefinition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Use ",(0,s.jsx)(n.code,{children:"DomainEventDefinition"})," when you need:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event metadata"}),": Store rich metadata for domain events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UI building"}),": Build event selection interfaces with titles, descriptions, and icons"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documentation"}),": Generate API documentation for events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automation"}),": Create rule builders and workflow automation systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"}),": Include human-readable information in event logs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Categorization"}),": Group and filter events using tags"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example scenarios:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Building admin panels for event configuration"}),"\n",(0,s.jsx)(n.li,{children:"Creating event selection dropdowns in UI"}),"\n",(0,s.jsx)(n.li,{children:"Generating API documentation"}),"\n",(0,s.jsx)(n.li,{children:"Building workflow automation interfaces"}),"\n",(0,s.jsx)(n.li,{children:"Event logging and audit systems"}),"\n",(0,s.jsx)(n.li,{children:"Event filtering and search"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"DomainEventDefinition"})," is a readonly class that encapsulates:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Technical Key"}),": Stable identifier for the event"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Group"}),": Category/group for organizing events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title"}),": Human-readable title"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Detailed description"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Icon"}),": Visual representation (e.g., Font Awesome class)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tags"}),": Array of tags for categorization"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"JobMetric\\EventSystem\\Support\\DomainEventDefinition\n"})}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.p,{children:"Create a definition in your domain event:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use JobMetric\\EventSystem\\Contracts\\DomainEvent;\nuse JobMetric\\EventSystem\\Support\\DomainEventDefinition;\n\nclass UserRegistered implements DomainEvent\n{\n    public static function definition(): DomainEventDefinition\n    {\n        return new DomainEventDefinition(\n            self::key(),                                    // key\n            'user::events.group',                          // group\n            'user::events.registered.title',              // title\n            'user::events.registered.description',        // description\n            'fas fa-user-plus',                            // icon\n            ['user', 'registration', 'authentication']    // tags\n        );\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.h3,{id:"key-string",children:[(0,s.jsx)(n.code,{children:"key"})," (string)"]}),"\n",(0,s.jsxs)(n.p,{children:["The stable technical key for the domain event. Should match the key returned by ",(0,s.jsx)(n.code,{children:"DomainEvent::key()"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"'user.registered'"})]}),"\n",(0,s.jsxs)(n.h3,{id:"group-string",children:[(0,s.jsx)(n.code,{children:"group"})," (string)"]}),"\n",(0,s.jsx)(n.p,{children:"Translation key for the event group/category. Used for grouping events in UI."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"'user::events.group'"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Translation File:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// lang/en/user.php\nreturn [\n    'events' => [\n        'group' => 'User Events',\n    ],\n];\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"title-string",children:[(0,s.jsx)(n.code,{children:"title"})," (string)"]}),"\n",(0,s.jsx)(n.p,{children:"Translation key for the event title. Human-readable name for the event."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"'user::events.registered.title'"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Translation File:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// lang/en/user.php\nreturn [\n    'events' => [\n        'registered' => [\n            'title' => 'User Registered',\n        ],\n    ],\n];\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"description-string-nullable",children:[(0,s.jsx)(n.code,{children:"description"})," (string, nullable)"]}),"\n",(0,s.jsx)(n.p,{children:"Translation key for the event description. Detailed explanation of what the event represents."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"'user::events.registered.description'"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Translation File:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// lang/en/user.php\nreturn [\n    'events' => [\n        'registered' => [\n            'description' => 'Fired when a new user registers in the system.',\n        ],\n    ],\n];\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"icon-string-nullable",children:[(0,s.jsx)(n.code,{children:"icon"})," (string, nullable)"]}),"\n",(0,s.jsx)(n.p,{children:"Icon class for visual representation. Typically a Font Awesome class."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"'fas fa-user-plus'"}),", ",(0,s.jsx)(n.code,{children:"'fas fa-box'"}),", ",(0,s.jsx)(n.code,{children:"'fas fa-check-circle'"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Common Icons:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-user-plus'"})," - User registration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-box'"})," - Product events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-shopping-cart'"})," - Order events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-edit'"})," - Update events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-trash'"})," - Delete events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'fas fa-check-circle'"})," - Completion events"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"tags-array-nullable",children:[(0,s.jsx)(n.code,{children:"tags"})," (array, nullable)"]}),"\n",(0,s.jsx)(n.p,{children:"Array of tags for categorization and filtering."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"['user', 'registration', 'authentication']"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Common Tag Categories:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Entity types: ",(0,s.jsx)(n.code,{children:"['user', 'product', 'order']"})]}),"\n",(0,s.jsxs)(n.li,{children:["Actions: ",(0,s.jsx)(n.code,{children:"['created', 'updated', 'deleted']"})]}),"\n",(0,s.jsxs)(n.li,{children:["Features: ",(0,s.jsx)(n.code,{children:"['authentication', 'payment', 'inventory']"})]}),"\n",(0,s.jsxs)(n.li,{children:["Systems: ",(0,s.jsx)(n.code,{children:"['email', 'sms', 'analytics']"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"namespace App\\Events;\n\nuse JobMetric\\EventSystem\\Contracts\\DomainEvent;\nuse JobMetric\\EventSystem\\Support\\DomainEventDefinition;\n\nclass ProductCreated implements DomainEvent\n{\n    public function __construct(\n        public int $productId,\n        public string $name,\n        public float $price\n    ) {}\n\n    public static function key(): string\n    {\n        return 'product.created';\n    }\n\n    public static function definition(): DomainEventDefinition\n    {\n        return new DomainEventDefinition(\n            self::key(),\n            'product::events.group',\n            'product::events.created.title',\n            'product::events.created.description',\n            'fas fa-box',\n            ['product', 'inventory', 'catalog']\n        );\n    }\n}\n\nclass OrderCompleted implements DomainEvent\n{\n    public function __construct(\n        public int $orderId,\n        public float $total\n    ) {}\n\n    public static function key(): string\n    {\n        return 'order.completed';\n    }\n\n    public static function definition(): DomainEventDefinition\n    {\n        return new DomainEventDefinition(\n            self::key(),\n            'order::events.group',\n            'order::events.completed.title',\n            'order::events.completed.description',\n            'fas fa-check-circle',\n            ['order', 'payment', 'fulfillment']\n        );\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"using-definitions",children:"Using Definitions"}),"\n",(0,s.jsx)(n.h3,{id:"in-ui-components",children:"In UI Components"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:'class EventSelectorComponent\n{\n    public function render(): string\n    {\n        $registry = app(\\JobMetric\\EventSystem\\Support\\EventRegistry::class);\n        $definitions = $registry->allDefinitions();\n\n        $html = \'<select name="event">\';\n        \n        foreach ($definitions as $key => $definition) {\n            $title = trans($definition->title);\n            $html .= "<option value=\\"{$key}\\" data-icon=\\"{$definition->icon}\\">{$title}</option>";\n        }\n        \n        $html .= \'</select>\';\n        \n        return $html;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"in-api-responses",children:"In API Responses"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"class EventController extends Controller\n{\n    public function index()\n    {\n        $registry = app(\\JobMetric\\EventSystem\\Support\\EventRegistry::class);\n        $definitions = $registry->allDefinitions();\n\n        $events = collect($definitions)->map(function ($definition, $key) {\n            return [\n                'key' => $key,\n                'title' => trans($definition->title),\n                'description' => trans($definition->description),\n                'icon' => $definition->icon,\n                'tags' => $definition->tags ?? [],\n                'group' => trans($definition->group),\n            ];\n        })->values();\n\n        return response()->json($events);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"in-logging",children:"In Logging"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"class EventLogger\n{\n    public function log(DomainEvent $event): void\n    {\n        $registry = app(\\JobMetric\\EventSystem\\Support\\EventRegistry::class);\n        $key = $registry->keyFor($event);\n        $definition = $registry->definitionForKey($key);\n\n        Log::info('Domain event', [\n            'key' => $key,\n            'title' => trans($definition->title),\n            'description' => trans($definition->description),\n            'tags' => $definition->tags,\n            'group' => trans($definition->group),\n        ]);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Translation Keys"}),": Always use translation keys for user-facing text"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consistent Icons"}),": Use a consistent icon set (e.g., Font Awesome)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Meaningful Tags"}),": Use descriptive tags for categorization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Complete Metadata"}),": Provide all metadata fields for better UI/automation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Group Organization"}),": Use consistent group names for related events"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-event-system/deep-diving/domain-event",children:"DomainEvent"})," - Domain event contract"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/packages/laravel-event-system/deep-diving/support/event-registry",children:"EventRegistry"})," - Registry for managing domain events"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);