"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[3568],{28453(e,i,n){n.d(i,{R:()=>d,x:()=>s});var t=n(96540);const a={},r=t.createContext(a);function d(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),t.createElement(r.Provider,{value:i},e.children)}},83215(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"laravel-star/deep-diving/exceptions/invalid-star-actor-exception","title":"InvalidStarActorException","description":"The InvalidStarActorException is thrown when attempting to create a star rating without a valid starrer or device identifier.","source":"@site/packages/laravel-star/deep-diving/exceptions/invalid-star-actor-exception.md","sourceDirName":"laravel-star/deep-diving/exceptions","slug":"/laravel-star/deep-diving/exceptions/invalid-star-actor-exception","permalink":"/packages/laravel-star/deep-diving/exceptions/invalid-star-actor-exception","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-star/deep-diving/exceptions/invalid-star-actor-exception.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"InvalidStarActorException"},"sidebar":"packagesSidebar","previous":{"title":"MinStarException","permalink":"/packages/laravel-star/deep-diving/exceptions/min-star-exception"},"next":{"title":"Laravel Language","permalink":"/packages/laravel-language/"}}');var a=n(74848),r=n(28453),d=n(28774);const s={sidebar_position:3,sidebar_label:"InvalidStarActorException"},o="InvalidStarActorException",c={},l=[{value:"Namespace",id:"namespace",level:2},{value:"When It&#39;s Thrown",id:"when-its-thrown",level:2},{value:"Exception Details",id:"exception-details",level:2},{value:"Message",id:"message",level:3},{value:"HTTP Status Code",id:"http-status-code",level:3},{value:"How to Avoid",id:"how-to-avoid",level:2},{value:"Provide a Starrer",id:"provide-a-starrer",level:3},{value:"Provide a Device ID",id:"provide-a-device-id",level:3},{value:"Invalid Usage",id:"invalid-usage",level:3},{value:"Handling the Exception",id:"handling-the-exception",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function p(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"invalidstaractorexception",children:"InvalidStarActorException"})}),"\n",(0,a.jsxs)(i.p,{children:["The ",(0,a.jsx)(i.code,{children:"InvalidStarActorException"})," is thrown when attempting to create a star rating without a valid starrer or device identifier."]}),"\n",(0,a.jsx)(i.h2,{id:"namespace",children:"Namespace"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"JobMetric\\Star\\Exceptions\\InvalidStarActorException\n"})}),"\n",(0,a.jsx)(i.h2,{id:"when-its-thrown",children:"When It's Thrown"}),"\n",(0,a.jsx)(i.p,{children:"The exception is thrown during star creation when:"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["No starrer (user) is provided (",(0,a.jsx)(i.code,{children:"starred_by_type"})," and ",(0,a.jsx)(i.code,{children:"starred_by_id"})," are both null/empty)"]}),"\n",(0,a.jsxs)(i.li,{children:["No device identifier is provided (",(0,a.jsx)(i.code,{children:"device_id"})," is null/empty)"]}),"\n",(0,a.jsx)(i.li,{children:"Both conditions are true (no way to identify the source of the rating)"}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"exception-details",children:"Exception Details"}),"\n",(0,a.jsx)(i.h3,{id:"message",children:"Message"}),"\n",(0,a.jsx)(i.p,{children:"The exception message is retrieved from the translation file:"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"trans('star::base.exceptions.invalid_star_actor')\n"})}),"\n",(0,a.jsx)(i.h3,{id:"http-status-code",children:"HTTP Status Code"}),"\n",(0,a.jsxs)(i.p,{children:["Default HTTP status code: ",(0,a.jsx)(i.code,{children:"400"})," (Bad Request)"]}),"\n",(0,a.jsx)(i.h2,{id:"how-to-avoid",children:"How to Avoid"}),"\n",(0,a.jsx)(i.h3,{id:"provide-a-starrer",children:"Provide a Starrer"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"$product->addStar(5, $user); // \u2705 Valid - user provided\n"})}),"\n",(0,a.jsx)(i.h3,{id:"provide-a-device-id",children:"Provide a Device ID"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"$product->addStar(5, null, ['device_id' => 'device-123']); // \u2705 Valid - device_id provided\n"})}),"\n",(0,a.jsx)(i.h3,{id:"invalid-usage",children:"Invalid Usage"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"// \u274c This will throw InvalidStarActorException\n$product->addStar(5); // No starrer, no device_id\n$product->addStar(5, null); // No starrer, no device_id\n$product->addStar(5, null, []); // No starrer, no device_id\n"})}),"\n",(0,a.jsx)(i.h2,{id:"handling-the-exception",children:"Handling the Exception"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-php",children:"use JobMetric\\Star\\Exceptions\\InvalidStarActorException;\n\ntry {\n    $product->addStar(5);\n} catch (InvalidStarActorException $e) {\n    return response()->json([\n        'error' => 'A starrer or device identifier is required',\n    ], 400);\n}\n"})}),"\n",(0,a.jsx)(i.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsx)(d.A,{to:"/packages/laravel-star/deep-diving/has-star",children:"HasStar"}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsx)(d.A,{to:"/packages/laravel-star/deep-diving/models/star",children:"Star Model"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);