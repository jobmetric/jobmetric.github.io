"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[4770],{28453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var r=i(96540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},84616(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"laravel-unit-converter/deep-diving/unit-converter-service","title":"Unit Converter Service","description":"The UnitConverter service provides a comprehensive API for managing units, performing conversions, and handling unit CRUD operations.","source":"@site/packages/laravel-unit-converter/deep-diving/unit-converter-service.md","sourceDirName":"laravel-unit-converter/deep-diving","slug":"/laravel-unit-converter/deep-diving/unit-converter-service","permalink":"/packages/laravel-unit-converter/deep-diving/unit-converter-service","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-unit-converter/deep-diving/unit-converter-service.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Unit Converter Service"},"sidebar":"packagesSidebar","previous":{"title":"HasUnit","permalink":"/packages/laravel-unit-converter/deep-diving/has-unit"},"next":{"title":"Unit Types","permalink":"/packages/laravel-unit-converter/deep-diving/unit-types"}}');var t=i(74848),s=i(28453);i(28774);const l={sidebar_position:2,sidebar_label:"Unit Converter Service"},a="Unit Converter Service",o={},d=[{value:"Namespace",id:"namespace",level:2},{value:"Facade",id:"facade",level:2},{value:"Overview",id:"overview",level:2},{value:"CRUD Operations",id:"crud-operations",level:2},{value:"Store Unit",id:"store-unit",level:3},{value:"Get Unit",id:"get-unit",level:3},{value:"Get Unit Object",id:"get-unit-object",level:3},{value:"Update Unit",id:"update-unit",level:3},{value:"Delete Unit",id:"delete-unit",level:3},{value:"Query Operations",id:"query-operations",level:2},{value:"Get All Units",id:"get-all-units",level:3},{value:"Paginate Units",id:"paginate-units",level:3},{value:"Query Builder",id:"query-builder",level:3},{value:"Conversion Operations",id:"conversion-operations",level:2},{value:"Convert Value",id:"convert-value",level:3},{value:"Find Unit by Code",id:"find-unit-by-code",level:3},{value:"Default Value Management",id:"default-value-management",level:2},{value:"Change Default Value",id:"change-default-value",level:3},{value:"Usage Tracking",id:"usage-tracking",level:2},{value:"Get Used In",id:"get-used-in",level:3},{value:"Check Has Used",id:"check-has-used",level:3},{value:"Response Object",id:"response-object",level:2},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Create Weight Units",id:"create-weight-units",level:3},{value:"Conversion Calculator",id:"conversion-calculator",level:3},{value:"Unit Management API",id:"unit-management-api",level:3},{value:"Helper Function",id:"helper-function",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"unit-converter-service",children:"Unit Converter Service"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"UnitConverter"})," service provides a comprehensive API for managing units, performing conversions, and handling unit CRUD operations."]}),"\n",(0,t.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"JobMetric\\UnitConverter\\UnitConverter\n"})}),"\n",(0,t.jsx)(n.h2,{id:"facade",children:"Facade"}),"\n",(0,t.jsx)(n.p,{children:"Access the service through its facade:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"UnitConverter"})," service provides:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CRUD Operations"}),": Create, read, update, delete units"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conversions"}),": Convert values between units of the same type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pagination & Filtering"}),": Query units with filters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Translation Support"}),": Full multilingual support for unit names and codes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default Value Management"}),": Change base units within a type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Usage Tracking"}),": Find where units are used"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"crud-operations",children:"CRUD Operations"}),"\n",(0,t.jsx)(n.h3,{id:"store-unit",children:"Store Unit"}),"\n",(0,t.jsx)(n.p,{children:"Create a new unit:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\n$response = UnitConverter::store([\n    'type' => 'weight',\n    'value' => 1000, // relative to base unit\n    'status' => true,\n    'translation' => [\n        'en' => [\n            'name' => 'Kilogram',\n            'code' => 'kg',\n            'position' => 'right',\n            'description' => 'SI unit of mass',\n        ],\n        'fa' => [\n            'name' => '\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645',\n            'code' => '\u06a9\u06cc\u0644\u0648',\n            'position' => 'right',\n        ],\n    ],\n]);\n\nif ($response->ok) {\n    $unit = $response->data; // UnitResource\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"type"})," (required) - Unit type from ",(0,t.jsx)(n.code,{children:"UnitTypeEnum"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"value"})," (required) - Conversion value relative to base unit"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"status"})," (optional) - Active status (default: true)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"translation"})," (required) - Array of translations by locale"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Important Rules:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The first unit created for a type must have ",(0,t.jsx)(n.code,{children:"value = 1"})," (base unit)"]}),"\n",(0,t.jsxs)(n.li,{children:["Subsequent units cannot have ",(0,t.jsx)(n.code,{children:"value = 1"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with ",(0,t.jsx)(n.code,{children:"UnitResource"})," data"]}),"\n",(0,t.jsx)(n.h3,{id:"get-unit",children:"Get Unit"}),"\n",(0,t.jsx)(n.p,{children:"Retrieve a unit by ID:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::get($unitId);\n\nif ($response->ok) {\n    $unit = $response->data;\n    echo $unit->type; // 'weight'\n    echo $unit->value; // 1000\n    echo $unit->translations['en']['name']; // 'Kilogram'\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unit_id"})," - Unit ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $with"})," - Relations to eager load (default: [])"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"string|null $locale"})," - Specific locale for translations"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with ",(0,t.jsx)(n.code,{children:"UnitResource"})," data"]}),"\n",(0,t.jsx)(n.h3,{id:"get-unit-object",children:"Get Unit Object"}),"\n",(0,t.jsx)(n.p,{children:"Get the raw Eloquent model:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$unit = UnitConverter::getObject($unitId);\n// => Unit model instance\n\necho $unit->type;\necho $unit->value;\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unit_id"})," - Unit ID"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Unit"})," model"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Throws:"})," ",(0,t.jsx)(n.code,{children:"UnitNotFoundException"})," if not found"]}),"\n",(0,t.jsx)(n.h3,{id:"update-unit",children:"Update Unit"}),"\n",(0,t.jsx)(n.p,{children:"Update an existing unit:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::update($unitId, [\n    'value' => 1000.5,\n    'status' => false,\n    'translation' => [\n        'en' => [\n            'name' => 'Kilogram (updated)',\n        ],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unitId"})," - Unit ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $data"})," - Fields to update"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Important Rules:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cannot change the base unit's value from 1"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with updated ",(0,t.jsx)(n.code,{children:"UnitResource"})]}),"\n",(0,t.jsx)(n.h3,{id:"delete-unit",children:"Delete Unit"}),"\n",(0,t.jsx)(n.p,{children:"Delete a unit:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'$response = UnitConverter::destroy($unitId);\n\nif ($response->ok) {\n    echo "Unit deleted successfully";\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unitId"})," - Unit ID"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Important Rules:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cannot delete a unit that is used in relations"}),"\n",(0,t.jsx)(n.li,{children:"Cannot delete base unit (value = 1) if other units of the same type exist"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})]}),"\n",(0,t.jsx)(n.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,t.jsx)(n.h3,{id:"get-all-units",children:"Get All Units"}),"\n",(0,t.jsx)(n.p,{children:"Retrieve all units with optional filters:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::all(\n    filters: ['type' => 'weight'],\n    with: ['translations'],\n);\n\nforeach ($response->data as $unit) {\n    echo $unit->translations['en']['name'];\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $filters"})," - Filter criteria"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $with"})," - Relations to eager load"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"string|null $mode"})," - Query mode"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with collection of ",(0,t.jsx)(n.code,{children:"UnitResource"})]}),"\n",(0,t.jsx)(n.h3,{id:"paginate-units",children:"Paginate Units"}),"\n",(0,t.jsx)(n.p,{children:"Get paginated units:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::paginate(\n    pageLimit: 15,\n    filters: ['type' => 'length'],\n    with: ['translations'],\n);\n\n$units = $response->data; // Paginated collection\n$meta = $response->meta; // Pagination metadata\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $pageLimit"})," - Items per page (default: 15)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $filters"})," - Filter criteria"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"array $with"})," - Relations to eager load"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"string|null $mode"})," - Query mode"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with paginated ",(0,t.jsx)(n.code,{children:"UnitResource"})," collection"]}),"\n",(0,t.jsx)(n.h3,{id:"query-builder",children:"Query Builder"}),"\n",(0,t.jsx)(n.p,{children:"Get a query builder instance for custom queries:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$query = UnitConverter::query(\n    filters: ['status' => true],\n    with: ['translations'],\n);\n\n$units = $query->orderBy('value')->get();\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"QueryBuilder"})," instance"]}),"\n",(0,t.jsx)(n.h2,{id:"conversion-operations",children:"Conversion Operations"}),"\n",(0,t.jsx)(n.h3,{id:"convert-value",children:"Convert Value"}),"\n",(0,t.jsx)(n.p,{children:"Convert a value from one unit to another:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$result = UnitConverter::convert(\n    from_unit_id: $kilogramId,\n    to_unit_id: $gramId,\n    value: 2.5\n);\n// => 2500.0\n\n// Using helper function\n$result = unitConvert($kilogramId, $gramId, 2.5);\n// => 2500.0\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $from_unit_id"})," - Source unit ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $to_unit_id"})," - Target unit ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"float $value"})," - Value to convert"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Formula:"})," ",(0,t.jsx)(n.code,{children:"result = value * from_unit.value / to_unit.value"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"float"})," - Converted value"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Throws:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"UnitNotFoundException"})," - If either unit doesn't exist"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"FromAndToMustSameTypeException"})," - If units are of different types"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"find-unit-by-code",children:"Find Unit by Code"}),"\n",(0,t.jsx)(n.p,{children:"Find a unit by its translation code:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$unit = UnitConverter::findUnitByCode('kg');\n// => Unit model or null\n\nif ($unit) {\n    echo $unit->id;\n    echo $unit->type; // 'weight'\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"string $code"})," - Unit code from translations"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Unit|null"})]}),"\n",(0,t.jsx)(n.h2,{id:"default-value-management",children:"Default Value Management"}),"\n",(0,t.jsx)(n.h3,{id:"change-default-value",children:"Change Default Value"}),"\n",(0,t.jsx)(n.p,{children:"Change the base unit for a type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Make kilogram the new base unit (instead of gram)\n$response = UnitConverter::changeDefaultValue($kilogramId);\n\n// Now:\n// - Kilogram has value = 1\n// - Gram has value = 0.001\n// - Ton has value = 1000\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The selected unit becomes the base unit (value = 1)"}),"\n",(0,t.jsx)(n.li,{children:"All other units of the same type are recalculated proportionally"}),"\n",(0,t.jsx)(n.li,{children:"Existing stored values remain correct (they reference unit IDs)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unit_id"})," - Unit to make the base unit"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with updated ",(0,t.jsx)(n.code,{children:"UnitResource"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Throws:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"UnitNotFoundException"})," - If unit doesn't exist"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"UnitValueZeroException"})," - If unit has value = 0"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"UnitTypeUsedInException"})," - If unit is used in relations"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage-tracking",children:"Usage Tracking"}),"\n",(0,t.jsx)(n.h3,{id:"get-used-in",children:"Get Used In"}),"\n",(0,t.jsx)(n.p,{children:"Find all places where a unit is used:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::usedIn($unitId);\n\nforeach ($response->data as $relation) {\n    echo $relation->unitable_type; // 'App\\Models\\Product'\n    echo $relation->unitable_id; // 42\n    echo $relation->type; // 'weight'\n    echo $relation->value; // 2.5\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unit_id"})," - Unit ID"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Response"})," with collection of ",(0,t.jsx)(n.code,{children:"UnitRelationResource"})]}),"\n",(0,t.jsx)(n.h3,{id:"check-has-used",children:"Check Has Used"}),"\n",(0,t.jsx)(n.p,{children:"Check if a unit is used anywhere:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$isUsed = UnitConverter::hasUsed($unitId);\n\nif ($isUsed) {\n    // Cannot safely delete this unit\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"int $unit_id"})," - Unit ID"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"bool"})]}),"\n",(0,t.jsx)(n.h2,{id:"response-object",children:"Response Object"}),"\n",(0,t.jsxs)(n.p,{children:["All service methods return a ",(0,t.jsx)(n.code,{children:"Response"})," object:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$response = UnitConverter::store([...]);\n\n$response->ok; // bool - Success status\n$response->message; // string - Human-readable message\n$response->data; // mixed - Response data (usually resource)\n$response->errors; // array - Validation errors (if any)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,t.jsx)(n.h3,{id:"create-weight-units",children:"Create Weight Units"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\n// Create base unit (gram) - must be first with value = 1\nUnitConverter::store([\n    'type' => 'weight',\n    'value' => 1,\n    'status' => true,\n    'translation' => [\n        'en' => ['name' => 'Gram', 'code' => 'g'],\n        'fa' => ['name' => '\u06af\u0631\u0645', 'code' => '\u06af\u0631\u0645'],\n    ],\n]);\n\n// Create kilogram (1000 grams)\nUnitConverter::store([\n    'type' => 'weight',\n    'value' => 1000,\n    'status' => true,\n    'translation' => [\n        'en' => ['name' => 'Kilogram', 'code' => 'kg'],\n        'fa' => ['name' => '\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645', 'code' => '\u06a9\u06cc\u0644\u0648'],\n    ],\n]);\n\n// Create ton (1,000,000 grams)\nUnitConverter::store([\n    'type' => 'weight',\n    'value' => 1000000,\n    'status' => true,\n    'translation' => [\n        'en' => ['name' => 'Metric Ton', 'code' => 't'],\n        'fa' => ['name' => '\u062a\u0646', 'code' => '\u062a\u0646'],\n    ],\n]);\n\n// Create pound (453.592 grams)\nUnitConverter::store([\n    'type' => 'weight',\n    'value' => 453.592,\n    'status' => true,\n    'translation' => [\n        'en' => ['name' => 'Pound', 'code' => 'lb'],\n        'fa' => ['name' => '\u067e\u0648\u0646\u062f', 'code' => '\u067e\u0648\u0646\u062f'],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"conversion-calculator",children:"Conversion Calculator"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\nclass ConversionCalculator\n{\n    public function convert(string $fromCode, string $toCode, float $value): array\n    {\n        $fromUnit = UnitConverter::findUnitByCode($fromCode);\n        $toUnit = UnitConverter::findUnitByCode($toCode);\n        \n        if (!$fromUnit || !$toUnit) {\n            throw new \\InvalidArgumentException('Invalid unit code');\n        }\n        \n        if ($fromUnit->type !== $toUnit->type) {\n            throw new \\InvalidArgumentException('Cannot convert between different types');\n        }\n        \n        $result = UnitConverter::convert($fromUnit->id, $toUnit->id, $value);\n        \n        return [\n            'from' => [\n                'value' => $value,\n                'unit' => $fromCode,\n                'name' => $fromUnit->translations->where('locale', app()->getLocale())->first()?->name,\n            ],\n            'to' => [\n                'value' => $result,\n                'unit' => $toCode,\n                'name' => $toUnit->translations->where('locale', app()->getLocale())->first()?->name,\n            ],\n        ];\n    }\n}\n\n// Usage\n$calculator = new ConversionCalculator();\n$result = $calculator->convert('kg', 'lb', 5);\n// => ['from' => ['value' => 5, 'unit' => 'kg', ...], 'to' => ['value' => 11.023, 'unit' => 'lb', ...]]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"unit-management-api",children:"Unit Management API"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\UnitConverter\\Facades\\UnitConverter;\n\nclass UnitController extends Controller\n{\n    public function index(Request $request)\n    {\n        $response = UnitConverter::paginate(\n            pageLimit: $request->input('per_page', 15),\n            filters: $request->only(['type', 'status']),\n            with: ['translations'],\n        );\n        \n        return response()->json($response->data);\n    }\n    \n    public function store(Request $request)\n    {\n        $response = UnitConverter::store($request->all());\n        \n        if (!$response->ok) {\n            return response()->json([\n                'message' => $response->message,\n                'errors' => $response->errors,\n            ], 422);\n        }\n        \n        return response()->json($response->data, 201);\n    }\n    \n    public function show(int $id)\n    {\n        $response = UnitConverter::get($id, ['translations']);\n        \n        if (!$response->ok) {\n            return response()->json(['message' => $response->message], 404);\n        }\n        \n        return response()->json($response->data);\n    }\n    \n    public function convert(Request $request)\n    {\n        $request->validate([\n            'from_unit_id' => 'required|integer',\n            'to_unit_id' => 'required|integer',\n            'value' => 'required|numeric',\n        ]);\n        \n        try {\n            $result = UnitConverter::convert(\n                $request->from_unit_id,\n                $request->to_unit_id,\n                $request->value\n            );\n            \n            return response()->json(['result' => $result]);\n        } catch (\\Exception $e) {\n            return response()->json(['error' => $e->getMessage()], 422);\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"helper-function",children:"Helper Function"}),"\n",(0,t.jsx)(n.p,{children:"A global helper function is available for quick conversions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"/**\n * Convert a value between units.\n *\n * @param int $from_unit_id Source unit ID\n * @param int $to_unit_id Target unit ID\n * @param float $value Value to convert\n * @return float Converted value\n */\n$result = unitConvert($fromId, $toId, $value);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This is equivalent to calling ",(0,t.jsx)(n.code,{children:"UnitConverter::convert()"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);