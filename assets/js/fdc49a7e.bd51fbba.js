"use strict";(globalThis.webpackChunkjobmetric_document=globalThis.webpackChunkjobmetric_document||[]).push([[8758],{24310(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"laravel-form/deep-diving/support/has-form-type","title":"HasFormType","description":"The HasFormType trait provides a way to associate forms with type-based objects. It allows you to define forms per type and retrieve them, making it useful for building type-based form systems where different types have different form structures.","source":"@site/packages/laravel-form/deep-diving/support/has-form-type.md","sourceDirName":"laravel-form/deep-diving/support","slug":"/laravel-form/deep-diving/support/has-form-type","permalink":"/packages/laravel-form/deep-diving/support/has-form-type","draft":false,"unlisted":false,"editUrl":"https://github.com/jobmetric/document/blob/master/packages/laravel-form/deep-diving/support/has-form-type.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"HasFormType"},"sidebar":"packagesSidebar","previous":{"title":"IOForm","permalink":"/packages/laravel-form/deep-diving/support/io-form"},"next":{"title":"Laravel Reaction","permalink":"/packages/laravel-reaction/"}}');var t=i(74848),o=i(28453),s=i(28774);const l={sidebar_position:2,sidebar_label:"HasFormType"},a="HasFormType",d={},c=[{value:"Namespace",id:"namespace",level:2},{value:"Overview",id:"overview",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"Form",id:"form",level:3},{value:"Get Form",id:"get-form",level:3},{value:"Get Form Custom Fields",id:"get-form-custom-fields",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Setting Form with Closure",id:"setting-form-with-closure",level:3},{value:"Getting Form",id:"getting-form",level:3},{value:"Getting Form Fields",id:"getting-form-fields",level:3},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Type-Based Form System",id:"type-based-form-system",level:3},{value:"Using with Polymorphic Models",id:"using-with-polymorphic-models",level:3},{value:"When to Use HasFormType",id:"when-to-use-hasformtype",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"hasformtype",children:"HasFormType"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"HasFormType"})," trait provides a way to associate forms with type-based objects. It allows you to define forms per type and retrieve them, making it useful for building type-based form systems where different types have different form structures."]}),"\n",(0,t.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"JobMetric\\Form\\Typeify\\HasFormType\n"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"HasFormType"})," trait is designed to work with objects that have a ",(0,t.jsx)(n.code,{children:"type"})," property. It allows you to define forms for each type and retrieve them later. This is particularly useful for polymorphic relationships or type-based systems where different types require different form structures."]}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(n.p,{children:"The trait expects the class using it to have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"$type"})," property that identifies the type"]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"setTypeParam()"})," method to store type parameters"]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"getTypeParam()"})," method to retrieve type parameters"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,t.jsx)(n.h3,{id:"form",children:"Form"}),"\n",(0,t.jsx)(n.p,{children:"Set a form for the current type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public function form(Closure|array $callable): static\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$callable"})," (",(0,t.jsx)(n.code,{children:"Closure|array"}),"): A closure that receives a ",(0,t.jsx)(n.code,{children:"FormBuilder"})," instance, or an array of form configurations"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"static"})," - Returns the instance for method chaining"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Throws:"})," ",(0,t.jsx)(n.code,{children:"InvalidArgumentException"})," - If a form already exists for this type"]}),"\n",(0,t.jsx)(n.h3,{id:"get-form",children:"Get Form"}),"\n",(0,t.jsx)(n.p,{children:"Get the form for the current type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public function getForm(): ?Form\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Form|null"})," - The form instance for the current type, or null if not set"]}),"\n",(0,t.jsx)(n.h3,{id:"get-form-custom-fields",children:"Get Form Custom Fields"}),"\n",(0,t.jsx)(n.p,{children:"Get all custom fields from the form for the current type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public function getFormCustomFields(): Collection\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Collection<int, CustomField>"})," - Collection of custom field instances"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(n.h3,{id:"setting-form-with-closure",children:"Setting Form with Closure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Form\\Typeify\\HasFormType;\n\nclass ProductType\n{\n    use HasFormType;\n\n    public string $type = 'physical';\n\n    public function __construct()\n    {\n        $this->form(function ($formBuilder) {\n            $formBuilder->action('/products')\n                ->method('POST')\n                ->tab(function ($tab) {\n                    $tab->id('details')\n                        ->label('Product Details')\n                        ->group(function ($group) {\n                            $group->label('Basic Info')\n                                ->customField(function ($field) {\n                                    $field->text()\n                                        ->name('name')\n                                        ->label('Product Name')\n                                        ->build();\n                                })\n                                ->build();\n                        })\n                        ->build();\n                })\n                ->build();\n        });\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getting-form",children:"Getting Form"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$productType = new ProductType();\n$form = $productType->getForm();\n\nif ($form) {\n    $html = $form->toHtml();\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getting-form-fields",children:"Getting Form Fields"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'$productType = new ProductType();\n$fields = $productType->getFormCustomFields();\n\nforeach ($fields as $field) {\n    echo $field->label . "\\n";\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,t.jsx)(n.h3,{id:"type-based-form-system",children:"Type-Based Form System"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Form\\Typeify\\HasFormType;\n\nabstract class ContentType\n{\n    use HasFormType;\n\n    public string $type;\n\n    abstract public function defineForm(): void;\n}\n\nclass ArticleType extends ContentType\n{\n    public string $type = 'article';\n\n    public function __construct()\n    {\n        $this->defineForm();\n    }\n\n    public function defineForm(): void\n    {\n        $this->form(function ($formBuilder) {\n            $formBuilder->action('/content')\n                ->method('POST')\n                ->tab(function ($tab) {\n                    $tab->id('content')\n                        ->label('Article Content')\n                        ->group(function ($group) {\n                            $group->label('Article Details')\n                                ->customField(function ($field) {\n                                    $field->text()\n                                        ->name('title')\n                                        ->label('Title')\n                                        ->required()\n                                        ->build();\n                                })\n                                ->customField(function ($field) {\n                                    $field->text()\n                                        ->name('author')\n                                        ->label('Author')\n                                        ->build();\n                                })\n                                ->build();\n                        })\n                        ->build();\n                })\n                ->build();\n        });\n    }\n}\n\nclass VideoType extends ContentType\n{\n    public string $type = 'video';\n\n    public function __construct()\n    {\n        $this->defineForm();\n    }\n\n    public function defineForm(): void\n    {\n        $this->form(function ($formBuilder) {\n            $formBuilder->action('/content')\n                ->method('POST')\n                ->enctype('multipart/form-data')\n                ->tab(function ($tab) {\n                    $tab->id('media')\n                        ->label('Video Media')\n                        ->group(function ($group) {\n                            $group->label('Video Details')\n                                ->customField(function ($field) {\n                                    $field->text()\n                                        ->name('title')\n                                        ->label('Video Title')\n                                        ->required()\n                                        ->build();\n                                })\n                                ->customField(function ($field) {\n                                    $field->image()\n                                        ->name('video_file')\n                                        ->label('Video File')\n                                        ->required()\n                                        ->build();\n                                })\n                                ->build();\n                        })\n                        ->build();\n                })\n                ->build();\n        });\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"using-with-polymorphic-models",children:"Using with Polymorphic Models"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use JobMetric\\Form\\Typeify\\HasFormType;\n\nclass FormTemplate\n{\n    use HasFormType;\n\n    public string $type;\n\n    public function __construct(string $type)\n    {\n        $this->type = $type;\n        $this->defineForm();\n    }\n\n    protected function defineForm(): void\n    {\n        $formConfig = $this->getFormConfigForType($this->type);\n        \n        $this->form(function ($formBuilder) use ($formConfig) {\n            $formBuilder->action($formConfig['action'])\n                ->method($formConfig['method'])\n                ->tab(function ($tab) use ($formConfig) {\n                    foreach ($formConfig['tabs'] as $tabConfig) {\n                        $tab->id($tabConfig['id'])\n                            ->label($tabConfig['label'])\n                            ->group(function ($group) use ($tabConfig) {\n                                foreach ($tabConfig['groups'] as $groupConfig) {\n                                    $group->label($groupConfig['label'])\n                                        ->customField(function ($field) use ($groupConfig) {\n                                            // Build fields from config\n                                        })\n                                        ->build();\n                                }\n                            })\n                            ->build();\n                    }\n                })\n                ->build();\n        });\n    }\n\n    protected function getFormConfigForType(string $type): array\n    {\n        // Return form configuration based on type\n        return [];\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-hasformtype",children:"When to Use HasFormType"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"HasFormType"})," trait when you need to:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type-Based Forms"}),": Associate different forms with different types"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Polymorphic Forms"}),": Handle forms for polymorphic relationships"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dynamic Form Selection"}),": Select forms based on object type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type-Specific Validation"}),": Use different validation rules per type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Form Templates"}),": Create reusable form templates for different types"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/form-builder",children:"FormBuilder"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/form",children:"Form"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(s.A,{to:"/packages/laravel-form/deep-diving/support/io-form",children:"IOForm"}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},28453(e,n,i){i.d(n,{R:()=>s,x:()=>l});var r=i(96540);const t={},o=r.createContext(t);function s(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);