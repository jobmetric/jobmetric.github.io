<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-packages docs-version-current docs-doc-page docs-doc-id-laravel-event-system/showcase" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Laravel Event System Showcase | JobMetric</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jobmetric.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jobmetric.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jobmetric.github.io/packages/laravel-event-system/showcase"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-packages-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-packages-current"><meta data-rh="true" property="og:title" content="Laravel Event System Showcase | JobMetric"><meta data-rh="true" name="description" content="Discover real-world examples and use cases of Laravel Event System in action. See how different applications leverage dynamic event management to build flexible, maintainable, and scalable event-driven architectures."><meta data-rh="true" property="og:description" content="Discover real-world examples and use cases of Laravel Event System in action. See how different applications leverage dynamic event management to build flexible, maintainable, and scalable event-driven architectures."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://jobmetric.github.io/packages/laravel-event-system/showcase"><link data-rh="true" rel="alternate" href="https://jobmetric.github.io/packages/laravel-event-system/showcase" hreflang="en"><link data-rh="true" rel="alternate" href="https://jobmetric.github.io/packages/laravel-event-system/showcase" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Laravel Event System","item":"https://jobmetric.github.io/packages/laravel-event-system/"},{"@type":"ListItem","position":2,"name":"Showcase","item":"https://jobmetric.github.io/packages/laravel-event-system/showcase"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="JobMetric RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="JobMetric Atom Feed"><link rel="stylesheet" href="/assets/css/styles.aeeec671.css">
<script src="/assets/js/runtime~main.f668c36f.js" defer="defer"></script>
<script src="/assets/js/main.1642f8a8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="JobMetric Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="JobMetric Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JobMetric</b></a><div class="navbar__item"><div id="projects-dropdown-container"></div></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/packages/intro">Packages</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/team">Team</a><a href="https://github.com/jobmetric" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/intro"><span title="Packages" class="linkLabel_WmDU">Packages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/licence"><span title="License" class="linkLabel_WmDU">License</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-flow/"><span title="Laravel Flow" class="categoryLinkLabel_W154">Laravel Flow</span></a><button aria-label="Expand sidebar category &#x27;Laravel Flow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-translation/"><span title="Laravel Translation" class="categoryLinkLabel_W154">Laravel Translation</span></a><button aria-label="Expand sidebar category &#x27;Laravel Translation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/packages/laravel-event-system/"><span title="Laravel Event System" class="categoryLinkLabel_W154">Laravel Event System</span></a><button aria-label="Collapse sidebar category &#x27;Laravel Event System&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-event-system/intro"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-event-system/installation"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/packages/laravel-event-system/showcase"><span title="Showcase" class="linkLabel_WmDU">Showcase</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/packages/laravel-event-system/deep-diving/event-system"><span title="Deep Diving in Document" class="categoryLinkLabel_W154">Deep Diving in Document</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-env-modifier/"><span title="Laravel Env Modifier" class="categoryLinkLabel_W154">Laravel Env Modifier</span></a><button aria-label="Expand sidebar category &#x27;Laravel Env Modifier&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/packages/laravel-event-system/"><span>Laravel Event System</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Showcase</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Laravel Event System Showcase</h1></header>
<p>Discover real-world examples and use cases of Laravel Event System in action. See how different applications leverage dynamic event management to build flexible, maintainable, and scalable event-driven architectures.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-event-system-components">Understanding Event System Components<a href="#understanding-event-system-components" class="hash-link" aria-label="Direct link to Understanding Event System Components" title="Direct link to Understanding Event System Components" translate="no">​</a></h2>
<p>Laravel Event System provides powerful features for managing events dynamically:</p>
<ul>
<li class=""><strong>Dynamic Event Registration</strong>: Register and manage event-listener bindings at runtime without code changes</li>
<li class=""><strong>Domain Event Architecture</strong>: Implement domain events with stable keys and rich metadata</li>
<li class=""><strong>Event Bus &amp; Registry</strong>: Dispatch events by stable keys instead of hard-coding class names</li>
<li class=""><strong>Database-Driven Management</strong>: Store event configurations in the database for UI/API management</li>
<li class=""><strong>Priority Control</strong>: Control listener execution order with priority values</li>
<li class=""><strong>Status Management</strong>: Enable or disable listeners without removing them</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="e-commerce-plugin-system">E-Commerce Plugin System<a href="#e-commerce-plugin-system" class="hash-link" aria-label="Direct link to E-Commerce Plugin System" title="Direct link to E-Commerce Plugin System" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Modular Plugin Architecture</h3><p class="text-gray-600 dark:text-gray-400">Enable plugins to register their own events dynamically</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>E-commerce platforms often need to support third-party plugins that extend functionality. These plugins may need to hook into core application events like user registration, order completion, or product updates. Laravel Event System enables plugins to register their own event listeners dynamically, allowing them to integrate seamlessly without modifying core application code.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Plugin Capabilities</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Register event listeners on installation</li><li>Unregister listeners on uninstallation</li><li>Control listener priority</li><li>Enable/disable without uninstalling</li><li>Multiple plugins for same event</li><li>Isolated plugin configurations</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Business Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Extensible architecture</li><li>No core code modifications</li><li>Easy plugin management</li><li>Runtime configuration</li><li>Plugin marketplace support</li><li>Version compatibility</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Plugins\EmailNotification;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventSystem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Events\UserRegistered;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Events\OrderCompleted;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Events\ProductCreated;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class EmailNotificationPlugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private array $registeredEvents = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function install(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;registeredEvents = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.user.registered&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.order.completed&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.product.created&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.user.registered&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            UserRegistered::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EmailNotificationPlugin\Listeners\SendWelcomeEmail::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            priority: 50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: &#x27;Email Plugin: Send welcome email to new users&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.order.completed&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            OrderCompleted::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EmailNotificationPlugin\Listeners\SendOrderConfirmation::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            priority: 30,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: &#x27;Email Plugin: Send order confirmation email&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;plugin.email.product.created&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProductCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EmailNotificationPlugin\Listeners\NotifyAdminsNewProduct::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            priority: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: &#x27;Email Plugin: Notify admins of new products&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function uninstall(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($this-&gt;registeredEvents as $eventName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                deleteEventSystem($eventName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Log::warning(&quot;Failed to unregister event: {$eventName}&quot;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;error&#x27; =&gt; $e-&gt;getMessage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function enable(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($this-&gt;registeredEvents as $eventName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $event = EventSystem::query()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;where(&#x27;name&#x27;, $eventName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;first();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($event &amp;&amp; !$event-&gt;status) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                EventSystem::toggleStatus($event-&gt;id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function disable(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($this-&gt;registeredEvents as $eventName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $event = EventSystem::query()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;where(&#x27;name&#x27;, $eventName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;first();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($event &amp;&amp; $event-&gt;status) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                EventSystem::toggleStatus($event-&gt;id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="domain-driven-design-architecture">Domain-Driven Design Architecture<a href="#domain-driven-design-architecture" class="hash-link" aria-label="Direct link to Domain-Driven Design Architecture" title="Direct link to Domain-Driven Design Architecture" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Domain Event System</h3><p class="text-gray-600 dark:text-gray-400">Implement DDD patterns with stable event keys and rich metadata</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>Domain-Driven Design emphasizes the importance of domain events—events that represent something significant that happened in your domain. Laravel Event System provides a robust foundation for implementing DDD patterns with domain events that have stable keys, rich metadata, and consistent structure. This enables you to build decoupled, maintainable systems where events are dispatched by stable keys rather than hard-coded class names.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Domain Events</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Stable event keys</li><li>Rich metadata (title, description, icon, tags)</li><li>Consistent structure</li><li>Registry-based lookup</li><li>Key-based dispatching</li><li>UI integration support</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Architecture Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Decoupled components</li><li>Testable event system</li><li>Maintainable codebase</li><li>Event discovery</li><li>Documentation generation</li><li>Workflow automation</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Domain\Product\Events;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Contracts\DomainEvent;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Support\DomainEventDefinition;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ProductCreated implements DomainEvent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function __construct(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $productId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public string $name,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float $price,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $categoryId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $createdBy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function key(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;product.created&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function definition(): DomainEventDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new DomainEventDefinition(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self::key(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.group&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.created.title&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.created.description&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;fas fa-box&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&#x27;product&#x27;, &#x27;inventory&#x27;, &#x27;catalog&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ProductPriceUpdated implements DomainEvent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function __construct(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $productId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float $oldPrice,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float $newPrice,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $updatedBy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function key(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;product.price.updated&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function definition(): DomainEventDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new DomainEventDefinition(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self::key(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.group&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.price_updated.title&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.price_updated.description&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;fas fa-dollar-sign&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&#x27;product&#x27;, &#x27;pricing&#x27;, &#x27;inventory&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ProductStockDepleted implements DomainEvent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function __construct(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $productId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int $remainingStock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function key(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;product.stock.depleted&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function definition(): DomainEventDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new DomainEventDefinition(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self::key(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.group&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.stock_depleted.title&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;product::events.stock_depleted.description&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;fas fa-exclamation-triangle&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&#x27;product&#x27;, &#x27;inventory&#x27;, &#x27;alert&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div><p><strong>Register Domain Events:</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Providers;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use Illuminate\Support\ServiceProvider;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Support\EventRegistry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Domain\Product\Events\ProductCreated;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Domain\Product\Events\ProductPriceUpdated;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Domain\Product\Events\ProductStockDepleted;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class EventSystemServiceProvider extends ServiceProvider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function boot(EventRegistry $registry): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry-&gt;register(ProductCreated::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry-&gt;register(ProductPriceUpdated::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry-&gt;register(ProductStockDepleted::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div><p><strong>Dispatch Events:</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Services;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventBus;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Domain\Product\Events\ProductCreated;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Domain\Product\Events\ProductPriceUpdated;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ProductService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function createProduct(array $data): Product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $product = Product::create($data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eventKey(&#x27;product.created&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $product-&gt;id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $product-&gt;name,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $product-&gt;price,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $product-&gt;category_id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auth()-&gt;id()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $product;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function updatePrice(Product $product, float $newPrice): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $oldPrice = $product-&gt;price;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $product-&gt;update([&#x27;price&#x27; =&gt; $newPrice]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eventKey(&#x27;product.price.updated&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $product-&gt;id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $oldPrice,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $newPrice,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auth()-&gt;id()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-panel-for-event-management">Admin Panel for Event Management<a href="#admin-panel-for-event-management" class="hash-link" aria-label="Direct link to Admin Panel for Event Management" title="Direct link to Admin Panel for Event Management" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Event Management Dashboard</h3><p class="text-gray-600 dark:text-gray-400">Build admin interfaces for managing events through UI</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>Non-technical administrators often need to manage event configurations without code changes. Laravel Event System enables you to build powerful admin interfaces where administrators can view all registered events, enable or disable listeners, change priorities, and even register new event bindings—all through a user-friendly interface.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Admin Features</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>List all event bindings</li><li>Filter and search events</li><li>Enable/disable listeners</li><li>Change execution priority</li><li>Register new bindings</li><li>View event metadata</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Business Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>No deployment needed</li><li>Faster configuration changes</li><li>Reduced developer dependency</li><li>Real-time event management</li><li>Audit trail of changes</li><li>Better control and visibility</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Http\Controllers\Admin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Http\Controllers\Controller;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventSystem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Http\Resources\EventSystemResource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use Illuminate\Http\Request;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class EventSystemController extends Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function index(Request $request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $events = EventSystem::paginate(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filter: $request-&gt;only([&#x27;status&#x27;, &#x27;event&#x27;, &#x27;listener&#x27;]),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            page_limit: $request-&gt;get(&#x27;per_page&#x27;, 15)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return view(&#x27;admin.events.index&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;events&#x27; =&gt; EventSystemResource::collection($events)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $availableEvents = $this-&gt;getAvailableEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $availableListeners = $this-&gt;getAvailableListeners();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return view(&#x27;admin.events.create&#x27;, compact(&#x27;availableEvents&#x27;, &#x27;availableListeners&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function store(Request $request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $response = EventSystem::store($request-&gt;validate([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;name&#x27; =&gt; &#x27;required|string|max:255|unique:events,name&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;description&#x27; =&gt; &#x27;nullable|string&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;event&#x27; =&gt; &#x27;required|string&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;listener&#x27; =&gt; &#x27;required|string&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;priority&#x27; =&gt; &#x27;nullable|integer&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;status&#x27; =&gt; &#x27;boolean&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($response-&gt;isSuccess()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return redirect()-&gt;route(&#x27;admin.events.index&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;with(&#x27;success&#x27;, $response-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return back()-&gt;withErrors($response-&gt;getErrors());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function toggleStatus(int $id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $response = EventSystem::toggleStatus($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return response()-&gt;json([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;success&#x27; =&gt; $response-&gt;isSuccess(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;message&#x27; =&gt; $response-&gt;getMessage(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;data&#x27; =&gt; EventSystemResource::make($response-&gt;getData())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function destroy(string $name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $response = EventSystem::delete($name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($response-&gt;isSuccess()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return redirect()-&gt;route(&#x27;admin.events.index&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;with(&#x27;success&#x27;, $response-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return back()-&gt;withErrors($response-&gt;getErrors());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private function getAvailableEvents(): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry = app(\JobMetric\EventSystem\Support\EventRegistry::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $definitions = $registry-&gt;allDefinitions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return collect($definitions)-&gt;map(function ($definition, $key) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;key&#x27; =&gt; $key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;class&#x27; =&gt; $registry-&gt;forKey($key),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;title&#x27; =&gt; trans($definition-&gt;title),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;description&#x27; =&gt; trans($definition-&gt;description),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;icon&#x27; =&gt; $definition-&gt;icon,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;tags&#x27; =&gt; $definition-&gt;tags ?? [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })-&gt;values()-&gt;toArray();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private function getAvailableListeners(): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;App\Listeners\SendWelcomeEmail&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;App\Listeners\SendOrderConfirmation&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;App\Listeners\TrackUserRegistration&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;App\Listeners\UpdateInventory&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;App\Listeners\SendNotification&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-tenant-event-configuration">Multi-Tenant Event Configuration<a href="#multi-tenant-event-configuration" class="hash-link" aria-label="Direct link to Multi-Tenant Event Configuration" title="Direct link to Multi-Tenant Event Configuration" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Tenant-Specific Event Handlers</h3><p class="text-gray-600 dark:text-gray-400">Configure different event handlers for different tenants</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>Multi-tenant SaaS applications often need different event handling logic for different tenants. For example, one tenant might want email notifications while another prefers SMS. Laravel Event System allows you to register tenant-specific event handlers dynamically, enabling each tenant to configure their own event behavior without affecting others.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Tenant Features</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Isolated event configurations</li><li>Tenant-specific listeners</li><li>Custom notification channels</li><li>Different priority orders</li><li>Feature-based enabling</li><li>Tenant event isolation</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Business Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Customized experiences</li><li>Flexible configurations</li><li>No code changes needed</li><li>Tenant self-service</li><li>Scalable architecture</li><li>Better tenant satisfaction</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Services;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventSystem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Models\Tenant;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class TenantEventConfigurationService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function configureTenantEvents(Tenant $tenant): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $tenantId = $tenant-&gt;id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $preferences = $tenant-&gt;event_preferences ?? [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($preferences[&#x27;email_enabled&#x27;] ?? false) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;tenant.{$tenantId}.user.created.email&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Events\UserCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Listeners\Tenant\SendEmailNotification::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                priority: 50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Tenant {$tenant-&gt;name}: Email notification&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($preferences[&#x27;sms_enabled&#x27;] ?? false) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;tenant.{$tenantId}.user.created.sms&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Events\UserCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Listeners\Tenant\SendSMSNotification::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                priority: 40,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Tenant {$tenant-&gt;name}: SMS notification&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($preferences[&#x27;slack_enabled&#x27;] ?? false) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;tenant.{$tenantId}.user.created.slack&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Events\UserCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Listeners\Tenant\SendSlackNotification::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                priority: 30,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Tenant {$tenant-&gt;name}: Slack notification&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($preferences[&#x27;webhook_enabled&#x27;] ?? false) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;tenant.{$tenantId}.user.created.webhook&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Events\UserCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                App\Listeners\Tenant\SendWebhookNotification::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                priority: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Tenant {$tenant-&gt;name}: Webhook notification&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function updateTenantEvents(Tenant $tenant, array $preferences): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;removeTenantEvents($tenant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $tenant-&gt;update([&#x27;event_preferences&#x27; =&gt; $preferences]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;configureTenantEvents($tenant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function removeTenantEvents(Tenant $tenant): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $tenantId = $tenant-&gt;id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $events = EventSystem::query()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;where(&#x27;name&#x27;, &#x27;like&#x27;, &quot;tenant.{$tenantId}.%&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($events as $event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EventSystem::delete($event-&gt;name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ab-testing-event-handlers">A/B Testing Event Handlers<a href="#ab-testing-event-handlers" class="hash-link" aria-label="Direct link to A/B Testing Event Handlers" title="Direct link to A/B Testing Event Handlers" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Event Handler Testing</h3><p class="text-gray-600 dark:text-gray-400">Test different event handlers dynamically without code changes</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>A/B testing different event handlers allows you to experiment with different notification strategies, email templates, or processing logic. Laravel Event System makes it easy to register multiple handlers for the same event, enable or disable them dynamically, and measure their performance—all without deploying new code.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Testing Capabilities</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Multiple handlers per event</li><li>Enable/disable handlers</li><li>Priority-based execution</li><li>Performance tracking</li><li>Gradual rollout</li><li>Easy rollback</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Business Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Data-driven decisions</li><li>Risk-free experimentation</li><li>Faster iteration</li><li>Better user experience</li><li>Optimized processes</li><li>Competitive advantage</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Services;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventSystem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use Illuminate\Support\Facades\Cache;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ABTestingService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function setupWelcomeEmailTest(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $variantA = &#x27;welcome.email.variant.a&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $variantB = &#x27;welcome.email.variant.b&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $variantA,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            App\Events\UserRegistered::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            App\Listeners\WelcomeEmail\VariantA\SendWelcomeEmail::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            priority: 50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: &#x27;A/B Test: Welcome Email Variant A (Simple)&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            status: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $variantB,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            App\Events\UserRegistered::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            App\Listeners\WelcomeEmail\VariantB\SendWelcomeEmail::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            priority: 50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: &#x27;A/B Test: Welcome Email Variant B (Rich)&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            status: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function enableVariant(string $variantName, int $percentage = 50): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $event = EventSystem::query()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;where(&#x27;name&#x27;, $variantName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;first();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!$event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($percentage === 100) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EventSystem::toggleStatus($event-&gt;id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Cache::put(&quot;ab_test.{$variantName}.percentage&quot;, $percentage, now()-&gt;addDays(7));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function shouldUseVariant(string $variantName, int $userId): bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $percentage = Cache::get(&quot;ab_test.{$variantName}.percentage&quot;, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($percentage === 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ($userId % 100) &lt; $percentage;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function trackVariantPerformance(string $variantName, string $metric, float $value): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $key = &quot;ab_test.{$variantName}.{$metric}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $current = Cache::get($key, [&#x27;count&#x27; =&gt; 0, &#x27;total&#x27; =&gt; 0]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cache::put($key, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;count&#x27; =&gt; $current[&#x27;count&#x27;] + 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;total&#x27; =&gt; $current[&#x27;total&#x27;] + $value,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;average&#x27; =&gt; ($current[&#x27;total&#x27;] + $value) / ($current[&#x27;count&#x27;] + 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ], now()-&gt;addDays(30));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div><p><strong>Usage in Listener:</strong></p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Listeners\WelcomeEmail\VariantA;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Services\ABTestingService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use App\Events\UserRegistered;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SendWelcomeEmail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function handle(UserRegistered $event): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $abTesting = app(ABTestingService::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!$abTesting-&gt;shouldUseVariant(&#x27;welcome.email.variant.a&#x27;, $event-&gt;userId)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Mail::to($event-&gt;user-&gt;email)-&gt;send(new WelcomeEmailVariantA($event-&gt;user));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $abTesting-&gt;trackVariantPerformance(&#x27;welcome.email.variant.a&#x27;, &#x27;sent&#x27;, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="workflow-automation-system">Workflow Automation System<a href="#workflow-automation-system" class="hash-link" aria-label="Direct link to Workflow Automation System" title="Direct link to Workflow Automation System" translate="no">​</a></h2>
<div class="group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:shadow-xl transition-all duration-300 mb-6 md:mb-8"><div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary-dark/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><div class="flex items-center gap-4 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform duration-300"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div><h3 class="text-2xl font-bold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-primary-light transition-colors">Event-Driven Workflows</h3><p class="text-gray-600 dark:text-gray-400">Build automation systems triggered by domain events</p></div></div><div class="space-y-4 sm:space-y-6"><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Overview</h4><p class="text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4 sm:mb-6 leading-relaxed"></p><p>Workflow automation systems need to respond to various domain events and trigger automated actions. Laravel Event System provides a perfect foundation for building such systems, where administrators can configure workflows by selecting domain events and defining actions to execute when those events occur. The rich metadata in domain events makes it easy to build user-friendly workflow builders.</p><p></p><div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6"><div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 sm:p-4 border border-blue-200 dark:border-blue-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Workflow Features</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Event selection UI</li><li>Action configuration</li><li>Condition-based triggers</li><li>Multi-step workflows</li><li>Workflow templates</li><li>Execution logging</li></ul></div><div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-3 sm:p-4 border border-green-200 dark:border-green-800"><h5 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2">Business Benefits</h5><ul class="text-xs sm:text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc list-inside"><li>Automated processes</li><li>Reduced manual work</li><li>Consistent execution</li><li>Error reduction</li><li>Scalable automation</li><li>Business agility</li></ul></div></div></div><div><h4 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Implementation Example</h4><div class="mb-4"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Services;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Support\EventRegistry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\EventSystem\Facades\EventBus;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class WorkflowAutomationService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function createWorkflow(array $config): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $workflowId = $config[&#x27;id&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $triggerEvent = $config[&#x27;trigger_event&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $actions = $config[&#x27;actions&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($actions as $index =&gt; $action) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $listenerClass = $this-&gt;getListenerClassForAction($action[&#x27;type&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addEventSystem(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;workflow.{$workflowId}.action.{$index}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;getEventClass($triggerEvent),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $listenerClass,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                priority: 100 - $index,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Workflow {$workflowId}: {$action[&#x27;name&#x27;]}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                status: $action[&#x27;enabled&#x27;] ?? true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getAvailableEvents(): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry = app(EventRegistry::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $definitions = $registry-&gt;allDefinitions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return collect($definitions)-&gt;map(function ($definition, $key) use ($registry) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;key&#x27; =&gt; $key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;class&#x27; =&gt; $registry-&gt;forKey($key),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;title&#x27; =&gt; trans($definition-&gt;title),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;description&#x27; =&gt; trans($definition-&gt;description),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;icon&#x27; =&gt; $definition-&gt;icon,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;tags&#x27; =&gt; $definition-&gt;tags ?? [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;group&#x27; =&gt; trans($definition-&gt;group),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })-&gt;groupBy(&#x27;group&#x27;)-&gt;toArray();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private function getEventClass(string $eventKey): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $registry = app(EventRegistry::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $registry-&gt;forKey($eventKey) ?? throw new \Exception(&quot;Event not found: {$eventKey}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private function getListenerClassForAction(string $actionType): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return match($actionType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;send_email&#x27; =&gt; App\Listeners\Workflow\SendEmailAction::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;send_sms&#x27; =&gt; App\Listeners\Workflow\SendSMSAction::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;create_task&#x27; =&gt; App\Listeners\Workflow\CreateTaskAction::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;update_status&#x27; =&gt; App\Listeners\Workflow\UpdateStatusAction::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;webhook&#x27; =&gt; App\Listeners\Workflow\WebhookAction::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default =&gt; throw new \Exception(&quot;Unknown action type: {$actionType}&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/jobmetric/document/blob/master/packages/laravel-event-system/showcase.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/packages/laravel-event-system/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/packages/laravel-event-system/deep-diving/event-system"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EventSystem</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-event-system-components" class="table-of-contents__link toc-highlight">Understanding Event System Components</a></li><li><a href="#e-commerce-plugin-system" class="table-of-contents__link toc-highlight">E-Commerce Plugin System</a></li><li><a href="#domain-driven-design-architecture" class="table-of-contents__link toc-highlight">Domain-Driven Design Architecture</a></li><li><a href="#admin-panel-for-event-management" class="table-of-contents__link toc-highlight">Admin Panel for Event Management</a></li><li><a href="#multi-tenant-event-configuration" class="table-of-contents__link toc-highlight">Multi-Tenant Event Configuration</a></li><li><a href="#ab-testing-event-handlers" class="table-of-contents__link toc-highlight">A/B Testing Event Handlers</a></li><li><a href="#workflow-automation-system" class="table-of-contents__link toc-highlight">Workflow Automation System</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 JobMetric.</div></div></div></footer></div>
</body>
</html>