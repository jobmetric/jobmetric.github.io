<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-packages docs-version-current docs-doc-page docs-doc-id-laravel-url/deep-diving/has-url" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">HasUrl Trait | JobMetric</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jobmetric.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jobmetric.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jobmetric.github.io/packages/laravel-url/deep-diving/has-url"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-packages-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-packages-current"><meta data-rh="true" property="og:title" content="HasUrl Trait | JobMetric"><meta data-rh="true" name="description" content="The HasUrl trait is the core foundation of Laravel URL package, providing powerful URL and slug management capabilities for your Eloquent models. It enables automatic URL versioning, intelligent conflict detection, cascading URL updates, and comprehensive slug management with collections."><meta data-rh="true" property="og:description" content="The HasUrl trait is the core foundation of Laravel URL package, providing powerful URL and slug management capabilities for your Eloquent models. It enables automatic URL versioning, intelligent conflict detection, cascading URL updates, and comprehensive slug management with collections."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://jobmetric.github.io/packages/laravel-url/deep-diving/has-url"><link data-rh="true" rel="alternate" href="https://jobmetric.github.io/packages/laravel-url/deep-diving/has-url" hreflang="en"><link data-rh="true" rel="alternate" href="https://jobmetric.github.io/packages/laravel-url/deep-diving/has-url" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Laravel URL","item":"https://jobmetric.github.io/packages/laravel-url/"},{"@type":"ListItem","position":2,"name":"HasUrl","item":"https://jobmetric.github.io/packages/laravel-url/deep-diving/has-url"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="JobMetric RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="JobMetric Atom Feed"><link rel="stylesheet" href="/assets/css/styles.99226646.css">
<script src="/assets/js/runtime~main.74bbc4ee.js" defer="defer"></script>
<script src="/assets/js/main.4cda453d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="JobMetric Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="JobMetric Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JobMetric</b></a><div class="navbar__item"><div id="projects-dropdown-container"></div></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/packages/intro">Packages</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/team">Team</a><a href="https://github.com/jobmetric" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/intro"><span title="Packages" class="linkLabel_WmDU">Packages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/packages/licence"><span title="License" class="linkLabel_WmDU">License</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-flow/"><span title="Laravel Flow" class="categoryLinkLabel_W154">Laravel Flow</span></a><button aria-label="Expand sidebar category &#x27;Laravel Flow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-translation/"><span title="Laravel Translation" class="categoryLinkLabel_W154">Laravel Translation</span></a><button aria-label="Expand sidebar category &#x27;Laravel Translation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-event-system/"><span title="Laravel Event System" class="categoryLinkLabel_W154">Laravel Event System</span></a><button aria-label="Expand sidebar category &#x27;Laravel Event System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-env-modifier/"><span title="Laravel Env Modifier" class="categoryLinkLabel_W154">Laravel Env Modifier</span></a><button aria-label="Expand sidebar category &#x27;Laravel Env Modifier&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-metadata/"><span title="Laravel Metadata" class="categoryLinkLabel_W154">Laravel Metadata</span></a><button aria-label="Expand sidebar category &#x27;Laravel Metadata&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-custom-field/"><span title="Laravel Custom Field" class="categoryLinkLabel_W154">Laravel Custom Field</span></a><button aria-label="Expand sidebar category &#x27;Laravel Custom Field&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-form/"><span title="Laravel Form" class="categoryLinkLabel_W154">Laravel Form</span></a><button aria-label="Expand sidebar category &#x27;Laravel Form&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-reaction/"><span title="Laravel Reaction" class="categoryLinkLabel_W154">Laravel Reaction</span></a><button aria-label="Expand sidebar category &#x27;Laravel Reaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-star/"><span title="Laravel Star" class="categoryLinkLabel_W154">Laravel Star</span></a><button aria-label="Expand sidebar category &#x27;Laravel Star&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/packages/laravel-language/"><span title="Laravel Language" class="categoryLinkLabel_W154">Laravel Language</span></a><button aria-label="Expand sidebar category &#x27;Laravel Language&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/packages/laravel-url/"><span title="Laravel URL" class="categoryLinkLabel_W154">Laravel URL</span></a><button aria-label="Collapse sidebar category &#x27;Laravel URL&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/intro"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/installation"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/showcase"><span title="Showcase" class="linkLabel_WmDU">Showcase</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/packages/laravel-url/deep-diving/has-url"><span title="Deep Diving in Document" class="categoryLinkLabel_W154">Deep Diving in Document</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/packages/laravel-url/deep-diving/has-url"><span title="HasUrl" class="linkLabel_WmDU">HasUrl</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/deep-diving/url-contract"><span title="UrlContract" class="linkLabel_WmDU">UrlContract</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/packages/laravel-url/deep-diving/models/slug"><span title="Models" class="categoryLinkLabel_W154">Models</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/deep-diving/events"><span title="Events" class="linkLabel_WmDU">Events</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/deep-diving/slug-exist-rule"><span title="SlugExistRule" class="linkLabel_WmDU">SlugExistRule</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/deep-diving/url-type-object-request"><span title="UrlTypeObjectRequest" class="linkLabel_WmDU">UrlTypeObjectRequest</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/packages/laravel-url/deep-diving/full-url-controller"><span title="FullUrlController" class="linkLabel_WmDU">FullUrlController</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/packages/laravel-url/deep-diving/resources/slug-resource"><span title="Resources" class="categoryLinkLabel_W154">Resources</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/packages/laravel-url/deep-diving/exceptions/model-url-contract-not-found-exception"><span title="Exceptions" class="categoryLinkLabel_W154">Exceptions</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/packages/laravel-url/deep-diving/support/has-url-type"><span title="Support" class="categoryLinkLabel_W154">Support</span></a></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/packages/laravel-url/"><span>Laravel URL</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deep Diving in Document</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">HasUrl</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>HasUrl Trait</h1></header>
<p>The <code>HasUrl</code> trait is the <strong>core foundation</strong> of Laravel URL package, providing powerful URL and slug management capabilities for your Eloquent models. It enables automatic URL versioning, intelligent conflict detection, cascading URL updates, and comprehensive slug management with collections.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-hasurl">When to Use HasUrl<a href="#when-to-use-hasurl" class="hash-link" aria-label="Direct link to When to Use HasUrl" title="Direct link to When to Use HasUrl" translate="no">​</a></h2>
<p><strong>Use <code>HasUrl</code> when you need:</strong></p>
<ul>
<li class=""><strong>SEO-friendly URLs</strong>: Create and manage clean, readable URLs for your models</li>
<li class=""><strong>Automatic URL versioning</strong>: Track complete URL history for SEO redirects</li>
<li class=""><strong>Hierarchical URLs</strong>: Build URLs that depend on parent models (e.g., category/product)</li>
<li class=""><strong>Conflict detection</strong>: Ensure global uniqueness for active URLs</li>
<li class=""><strong>Cascading updates</strong>: Automatically update child URLs when parent slugs change</li>
<li class=""><strong>Slug management</strong>: Organize slugs with collections and handle soft deletes gracefully</li>
</ul>
<p><strong>Example scenarios:</strong></p>
<ul>
<li class="">E-commerce products with category-based URLs (<code>/shop/category/product</code>)</li>
<li class="">Blog posts with category and tag URLs (<code>/blog/category/post-slug</code>)</li>
<li class="">CMS pages with hierarchical structures (<code>/about/team/member</code>)</li>
<li class="">News articles with section-based URLs (<code>/news/politics/article</code>)</li>
<li class="">Documentation pages with nested paths (<code>/docs/getting-started/installation</code>)</li>
<li class="">Real estate listings with location-based URLs (<code>/properties/city/listing</code>)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p><code>HasUrl</code> transforms any Eloquent model into a URL-capable entity, allowing you to:</p>
<ul>
<li class=""><strong>Manage slugs</strong> - One slug per model with optional collection grouping</li>
<li class=""><strong>Version URLs</strong> - Automatic versioning tracks complete URL history</li>
<li class=""><strong>Detect conflicts</strong> - Global uniqueness enforcement for active URLs</li>
<li class=""><strong>Cascade updates</strong> - Automatically update child URLs when parents change</li>
<li class=""><strong>Handle soft deletes</strong> - Graceful conflict checking on restore</li>
<li class=""><strong>Rebuild URLs</strong> - Bulk URL resynchronization for migrations</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="namespace">Namespace<a href="#namespace" class="hash-link" aria-label="Direct link to Namespace" title="Direct link to Namespace" translate="no">​</a></h2>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JobMetric\Url\HasUrl</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-start">Quick Start<a href="#quick-start" class="hash-link" aria-label="Direct link to Quick Start" title="Direct link to Quick Start" translate="no">​</a></h2>
<p>Add the trait to your model and implement <code>UrlContract</code>:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace App\Models;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use Illuminate\Database\Eloquent\Model;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\Url\Contracts\UrlContract;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\Url\HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function category()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(Category::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $categorySlug = optional($this-&gt;category)-&gt;slug ?? &#x27;uncategorized&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $productSlug = $this-&gt;slug ?? &#x27;product-&#x27; . $this-&gt;id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;/shop/{$categorySlug}/{$productSlug}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create and assign slug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::create([&#x27;name&#x27; =&gt; &#x27;MacBook Pro 14&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;macbook-pro-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Access slug and URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;slug;                    // &quot;macbook-pro-14&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;getActiveFullUrl();     // &quot;/shop/laptops/macbook-pro-14&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" translate="no">​</a></h2>
<p>Your model <strong>must</strong> implement the <code>UrlContract</code> interface:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use JobMetric\Url\Contracts\UrlContract;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;/shop/&#x27; . ($this-&gt;slug ?? &#x27;product-&#x27; . $this-&gt;id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="assigning-slugs">Assigning Slugs<a href="#assigning-slugs" class="hash-link" aria-label="Direct link to Assigning Slugs" title="Direct link to Assigning Slugs" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-dispatchslug">Using <code>dispatchSlug()</code><a href="#using-dispatchslug" class="hash-link" aria-label="Direct link to using-dispatchslug" title="Direct link to using-dispatchslug" translate="no">​</a></h3>
<p>The primary method for assigning or updating slugs:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Assign slug with collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;macbook-pro-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Assign slug without collection (uses default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;macbook-pro-14&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Update slug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;products&#x27;);</span><br></span></code></pre></div></div>
<p><strong>What happens:</strong></p>
<ol>
<li class="">Slug is normalized (slugified, trimmed, limited to 100 chars)</li>
<li class="">Collection is resolved (explicit → <code>getSlugCollectionDefault()</code> → <code>type</code> attribute → <code>null</code>)</li>
<li class="">Conflict check ensures no active slug conflict</li>
<li class="">Slug row is upserted (one slug per model)</li>
<li class="">Full URL is synchronized and versioned</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-virtual-attributes">Using Virtual Attributes<a href="#using-virtual-attributes" class="hash-link" aria-label="Direct link to Using Virtual Attributes" title="Direct link to Using Virtual Attributes" translate="no">​</a></h3>
<p>You can also assign slugs via model attributes:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27; =&gt; &#x27;MacBook Pro 14&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;slug&#x27; =&gt; &#x27;macbook-pro-14&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;slug_collection&#x27; =&gt; &#x27;products&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Slug is automatically assigned during save</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reading-slugs">Reading Slugs<a href="#reading-slugs" class="hash-link" aria-label="Direct link to Reading Slugs" title="Direct link to Reading Slugs" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessors">Accessors<a href="#accessors" class="hash-link" aria-label="Direct link to Accessors" title="Direct link to Accessors" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Slug string (default collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;slug;                 // &quot;macbook-pro-14&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// SlugResource (default collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;slug_resource;        // SlugResource instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Collection name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;slug_collection;      // &quot;products&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get slug resource (default collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $product-&gt;slug();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns: [&#x27;ok&#x27; =&gt; true, &#x27;data&#x27; =&gt; SlugResource]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Get slug by collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $product-&gt;slugByCollection(&#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns: [&#x27;ok&#x27; =&gt; true, &#x27;data&#x27; =&gt; SlugResource]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Get slug string by collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$slug = $product-&gt;slugByCollection(&#x27;products&#x27;, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns: &quot;macbook-pro-14&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="finding-models-by-slug">Finding Models by Slug<a href="#finding-models-by-slug" class="hash-link" aria-label="Direct link to Finding Models by Slug" title="Direct link to Finding Models by Slug" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Find by slug (any collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::findBySlug(&#x27;macbook-pro-14&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Find by slug (or throw)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::findBySlugOrFail(&#x27;macbook-pro-14&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Find by slug and collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::findBySlugAndCollection(&#x27;macbook-pro-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Find by slug and collection (or throw)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::findBySlugAndCollectionOrFail(&#x27;macbook-pro-14&#x27;, &#x27;products&#x27;);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="collections">Collections<a href="#collections" class="hash-link" aria-label="Direct link to Collections" title="Direct link to Collections" translate="no">​</a></h2>
<p>Collections allow you to organize slugs by context:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Assign to specific collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Assign to different collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;featured-products&#x27;);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="collection-resolution">Collection Resolution<a href="#collection-resolution" class="hash-link" aria-label="Direct link to Collection Resolution" title="Direct link to Collection Resolution" translate="no">​</a></h3>
<p>The collection is resolved in this order:</p>
<ol>
<li class="">Explicit collection parameter</li>
<li class=""><code>getSlugCollectionDefault()</code> method</li>
<li class="">Model&#x27;s <code>type</code> attribute</li>
<li class=""><code>null</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-default-collection">Custom Default Collection<a href="#custom-default-collection" class="hash-link" aria-label="Direct link to Custom Default Collection" title="Direct link to Custom Default Collection" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getSlugCollectionDefault(): ?string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;products&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="url-versioning">URL Versioning<a href="#url-versioning" class="hash-link" aria-label="Direct link to URL Versioning" title="Direct link to URL Versioning" translate="no">​</a></h2>
<p>The trait automatically manages versioned URLs:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" translate="no">​</a></h3>
<ol>
<li class=""><strong>First URL</strong>: Creates version <code>1</code> when first assigned</li>
<li class=""><strong>URL Change</strong>: Soft-deletes previous active URL, creates new version</li>
<li class=""><strong>No Change</strong>: Updates collection if changed, no new version</li>
<li class=""><strong>Conflict Check</strong>: Ensures global uniqueness for active URLs</li>
<li class=""><strong>Event Firing</strong>: Dispatches <code>UrlChanged</code> event on create/change</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="reading-urls">Reading URLs<a href="#reading-urls" class="hash-link" aria-label="Direct link to Reading URLs" title="Direct link to Reading URLs" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Current active full URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = $product-&gt;getActiveFullUrl();  // &quot;/shop/laptops/macbook-pro-14&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Full URL history (active + trashed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$history = $product-&gt;urlHistory();  // Collection of Url models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Only active URLs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$active = $product-&gt;urlHistory(withTrashed: false);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="url-resolution">URL Resolution<a href="#url-resolution" class="hash-link" aria-label="Direct link to URL Resolution" title="Direct link to URL Resolution" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Resolve active model by full URL (static)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$model = Product::resolveActiveByFullUrl(&#x27;/shop/laptops/macbook-pro-14&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Resolve redirect target for old URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$target = Product::resolveRedirectTarget(&#x27;/shop/old-path&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns current active URL or null</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="cascading-url-updates">Cascading URL Updates<a href="#cascading-url-updates" class="hash-link" aria-label="Direct link to Cascading URL Updates" title="Direct link to Cascading URL Updates" translate="no">​</a></h2>
<p>When a parent model&#x27;s slug changes, child URLs can automatically update:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementing-cascading">Implementing Cascading<a href="#implementing-cascading" class="hash-link" aria-label="Direct link to Implementing Cascading" title="Direct link to Implementing Cascading" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Category extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function products()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasMany(Product::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;/shop/&#x27; . ($this-&gt;slug ?? &#x27;uncategorized&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Return children that need URL refresh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getUrlDescendants(): iterable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;products;  // Must implement UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function category()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(Category::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $categorySlug = $this-&gt;category-&gt;slug ?? &#x27;uncategorized&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;/shop/{$categorySlug}/{$this-&gt;slug}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Change category slug → all products get new URLs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$category-&gt;dispatchSlug(&#x27;computers&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Product URLs automatically update from /shop/laptops/... to /shop/computers/...</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="disabling-cascade">Disabling Cascade<a href="#disabling-cascade" class="hash-link" aria-label="Direct link to Disabling Cascade" title="Direct link to Disabling Cascade" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$category-&gt;withoutUrlCascade(function () use ($category) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Slug change without touching descendants</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $category-&gt;dispatchSlug(&#x27;new-category-slug&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="soft-delete-and-restore">Soft Delete and Restore<a href="#soft-delete-and-restore" class="hash-link" aria-label="Direct link to Soft Delete and Restore" title="Direct link to Soft Delete and Restore" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="soft-delete">Soft Delete<a href="#soft-delete" class="hash-link" aria-label="Direct link to Soft Delete" title="Direct link to Soft Delete" translate="no">​</a></h3>
<p>When a model is soft-deleted:</p>
<ul>
<li class="">Slug row is soft-deleted</li>
<li class="">All active URL rows are soft-deleted</li>
<li class="">No model claims the path anymore</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;delete();  // Soft delete</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="restore">Restore<a href="#restore" class="hash-link" aria-label="Direct link to Restore" title="Direct link to Restore" translate="no">​</a></h3>
<p>When restoring:</p>
<ul>
<li class="">Slug conflict is checked (same type &amp; collection)</li>
<li class="">Slug row is restored</li>
<li class="">URL is resynced</li>
<li class="">Full URL conflict is checked (throws <code>UrlConflictException</code> if conflict)</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;restore();  // May throw SlugConflictException or UrlConflictException</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="force-delete">Force Delete<a href="#force-delete" class="hash-link" aria-label="Direct link to Force Delete" title="Direct link to Force Delete" translate="no">​</a></h3>
<p>Permanently removes slug and all URL history:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;forceDelete();</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bulk-operations">Bulk Operations<a href="#bulk-operations" class="hash-link" aria-label="Direct link to Bulk Operations" title="Direct link to Bulk Operations" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rebuilding-urls">Rebuilding URLs<a href="#rebuilding-urls" class="hash-link" aria-label="Direct link to Rebuilding URLs" title="Direct link to Rebuilding URLs" translate="no">​</a></h3>
<p>Rebuild URLs for all records (useful after changing <code>getFullUrl()</code> logic):</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Rebuild all products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product::rebuildAllUrls();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Rebuild with query filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product::rebuildAllUrls(function ($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $query-&gt;where(&#x27;status&#x27;, &#x27;published&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, chunk: 1000);</span><br></span></code></pre></div></div>
<p><strong>Note:</strong> This does not trigger <code>saved()</code> hooks or cascades—it directly resyncs URLs.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conflict-detection">Conflict Detection<a href="#conflict-detection" class="hash-link" aria-label="Direct link to Conflict Detection" title="Direct link to Conflict Detection" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slug-conflicts">Slug Conflicts<a href="#slug-conflicts" class="hash-link" aria-label="Direct link to Slug Conflicts" title="Direct link to Slug Conflicts" translate="no">​</a></h3>
<p>The trait checks for slug conflicts before assigning:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Throws SlugConflictException if another Product uses same slug in same collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;existing-slug&#x27;, &#x27;products&#x27;);</span><br></span></code></pre></div></div>
<p><strong>Conflict Rules:</strong></p>
<ul>
<li class="">Same model type</li>
<li class="">Same slug</li>
<li class="">Same collection (or both null)</li>
<li class="">Active (not soft-deleted)</li>
<li class="">Different model ID</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="url-conflicts">URL Conflicts<a href="#url-conflicts" class="hash-link" aria-label="Direct link to URL Conflicts" title="Direct link to URL Conflicts" translate="no">​</a></h3>
<p>The trait checks for full URL conflicts before creating:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Throws UrlConflictException if another active model uses same full URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;conflicting-slug&#x27;);</span><br></span></code></pre></div></div>
<p><strong>Conflict Rules:</strong></p>
<ul>
<li class="">Same full URL</li>
<li class="">Active (not soft-deleted)</li>
<li class="">Different model (type or ID)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="removing-slugs">Removing Slugs<a href="#removing-slugs" class="hash-link" aria-label="Direct link to Removing Slugs" title="Direct link to Removing Slugs" translate="no">​</a></h2>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Remove slug (any collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;forgetSlug();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Remove slug (specific collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;forgetSlug(&#x27;products&#x27;);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-world-examples">Real-World Examples<a href="#real-world-examples" class="hash-link" aria-label="Direct link to Real-World Examples" title="Direct link to Real-World Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-1-e-commerce-product">Example 1: E-Commerce Product<a href="#example-1-e-commerce-product" class="hash-link" aria-label="Direct link to Example 1: E-Commerce Product" title="Direct link to Example 1: E-Commerce Product" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Category extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function products()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasMany(Product::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;/shop/&#x27; . ($this-&gt;slug ?? &#x27;uncategorized&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getUrlDescendants(): iterable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;products;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function category()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(Category::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $categorySlug = $this-&gt;category-&gt;slug ?? &#x27;uncategorized&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;/shop/{$categorySlug}/{$this-&gt;slug}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create category</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$category = Category::create([&#x27;name&#x27; =&gt; &#x27;Laptops&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$category-&gt;dispatchSlug(&#x27;laptops&#x27;, &#x27;categories&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::create([&#x27;name&#x27; =&gt; &#x27;MacBook Pro 14&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;macbook-pro-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Product URL: /shop/laptops/macbook-pro-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Change category slug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$category-&gt;dispatchSlug(&#x27;computers&#x27;, &#x27;categories&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Product URLs automatically update to: /shop/computers/macbook-pro-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Old URL redirects with 301</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-2-blog-post-with-category">Example 2: Blog Post with Category<a href="#example-2-blog-post-with-category" class="hash-link" aria-label="Direct link to Example 2: Blog Post with Category" title="Direct link to Example 2: Blog Post with Category" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Category extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function posts()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasMany(Post::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;/blog/&#x27; . ($this-&gt;slug ?? &#x27;uncategorized&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getUrlDescendants(): iterable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;posts;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Post extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function category()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(Category::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $categorySlug = $this-&gt;category-&gt;slug ?? &#x27;uncategorized&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $postSlug = $this-&gt;slug ?? &#x27;post-&#x27; . $this-&gt;id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;/blog/{$categorySlug}/{$postSlug}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$post = Post::create([&#x27;title&#x27; =&gt; &#x27;Getting Started with Laravel&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$post-&gt;dispatchSlug(&#x27;getting-started-with-laravel&#x27;, &#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// URL: /blog/laravel/getting-started-with-laravel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Update slug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$post-&gt;dispatchSlug(&#x27;laravel-beginners-guide&#x27;, &#x27;posts&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// New URL: /blog/laravel/laravel-beginners-guide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Old URL redirects with 301</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-3-handling-conflicts">Example 3: Handling Conflicts<a href="#example-3-handling-conflicts" class="hash-link" aria-label="Direct link to Example 3: Handling Conflicts" title="Direct link to Example 3: Handling Conflicts" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $product-&gt;dispatchSlug(&#x27;existing-slug&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (\JobMetric\Url\Exceptions\SlugConflictException $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return back()-&gt;withErrors([&#x27;slug&#x27; =&gt; &#x27;This slug is already taken.&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $product-&gt;dispatchSlug(&#x27;conflicting-slug&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (\JobMetric\Url\Exceptions\UrlConflictException $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return back()-&gt;withErrors([&#x27;slug&#x27; =&gt; &#x27;This URL is already in use.&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-4-using-collections">Example 4: Using Collections<a href="#example-4-using-collections" class="hash-link" aria-label="Direct link to Example 4: Using Collections" title="Direct link to Example 4: Using Collections" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Products in different collections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;featured-products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Find by collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product = Product::findBySlugAndCollection(&#x27;mbp-14&#x27;, &#x27;products&#x27;);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-5-url-history-and-redirects">Example 5: URL History and Redirects<a href="#example-5-url-history-and-redirects" class="hash-link" aria-label="Direct link to Example 5: URL History and Redirects" title="Direct link to Example 5: URL History and Redirects" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get URL history</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$history = $product-&gt;urlHistory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($history as $url) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $url-&gt;full_url . &#x27; (version &#x27; . $url-&gt;version . &#x27;)&#x27; . PHP_EOL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Resolve redirect target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$target = Product::resolveRedirectTarget(&#x27;/shop/old-path&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($target) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return redirect($target, 301);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-6-rebuilding-urls">Example 6: Rebuilding URLs<a href="#example-6-rebuilding-urls" class="hash-link" aria-label="Direct link to Example 6: Rebuilding URLs" title="Direct link to Example 6: Rebuilding URLs" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// After changing getFullUrl() logic, rebuild all URLs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product::rebuildAllUrls(function ($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $query-&gt;where(&#x27;status&#x27;, &#x27;published&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, chunk: 500);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="method-reference">Method Reference<a href="#method-reference" class="hash-link" aria-label="Direct link to Method Reference" title="Direct link to Method Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slug-methods">Slug Methods<a href="#slug-methods" class="hash-link" aria-label="Direct link to Slug Methods" title="Direct link to Slug Methods" translate="no">​</a></h3>
<table><thead><tr><th>Method</th><th>Description</th><th>Returns</th></tr></thead><tbody><tr><td><code>dispatchSlug(?string $slug, ?string $collection = null)</code></td><td>Assign or update slug</td><td><code>array{ok: bool, data?: SlugResource}</code></td></tr><tr><td><code>forgetSlug(?string $collection = null)</code></td><td>Remove slug</td><td><code>array{ok: bool}</code></td></tr><tr><td><code>slug()</code></td><td>Get slug resource (default collection)</td><td><code>array{ok: bool, data?: SlugResource}</code></td></tr><tr><td><code>slugByCollection(?string $collection, bool $mode = false)</code></td><td>Get slug by collection</td><td><code>array|string|null</code></td></tr><tr><td><code>getSlug()</code></td><td>Get slug string</td><td><code>string|null</code></td></tr><tr><td><code>$model-&gt;slug</code></td><td>Accessor for slug</td><td><code>string|null</code></td></tr><tr><td><code>$model-&gt;slug_resource</code></td><td>Accessor for SlugResource</td><td><code>SlugResource|null</code></td></tr><tr><td><code>$model-&gt;slug_collection</code></td><td>Accessor for collection</td><td><code>string|null</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="url-methods">URL Methods<a href="#url-methods" class="hash-link" aria-label="Direct link to URL Methods" title="Direct link to URL Methods" translate="no">​</a></h3>
<table><thead><tr><th>Method</th><th>Description</th><th>Returns</th></tr></thead><tbody><tr><td><code>getActiveFullUrl()</code></td><td>Get current active full URL</td><td><code>string|null</code></td></tr><tr><td><code>urlHistory(bool $withTrashed = true)</code></td><td>Get URL history</td><td><code>Collection&lt;Url&gt;</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="static-methods">Static Methods<a href="#static-methods" class="hash-link" aria-label="Direct link to Static Methods" title="Direct link to Static Methods" translate="no">​</a></h3>
<table><thead><tr><th>Method</th><th>Description</th><th>Returns</th></tr></thead><tbody><tr><td><code>findBySlug(string $slug)</code></td><td>Find by slug (any collection)</td><td><code>Model|null</code></td></tr><tr><td><code>findBySlugOrFail(string $slug)</code></td><td>Find by slug (or throw)</td><td><code>Model</code></td></tr><tr><td><code>findBySlugAndCollection(string $slug, ?string $collection)</code></td><td>Find by slug and collection</td><td><code>Model|null</code></td></tr><tr><td><code>findBySlugAndCollectionOrFail(string $slug, ?string $collection)</code></td><td>Find by slug and collection (or throw)</td><td><code>Model</code></td></tr><tr><td><code>rebuildAllUrls(?callable $queryHook, int $chunk = 500)</code></td><td>Rebuild URLs for all records</td><td><code>void</code></td></tr><tr><td><code>resolveActiveByFullUrl(string $fullUrl)</code></td><td>Resolve model by full URL</td><td><code>Model|null</code></td></tr><tr><td><code>resolveRedirectTarget(string $fullUrl)</code></td><td>Resolve redirect target</td><td><code>string|null</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cascade-control">Cascade Control<a href="#cascade-control" class="hash-link" aria-label="Direct link to Cascade Control" title="Direct link to Cascade Control" translate="no">​</a></h3>
<table><thead><tr><th>Method</th><th>Description</th><th>Returns</th></tr></thead><tbody><tr><td><code>withoutUrlCascade(callable $fn)</code></td><td>Disable cascade in callback</td><td><code>mixed</code></td></tr><tr><td><code>getUrlDescendants(): iterable</code></td><td>Return children for cascade</td><td><code>iterable&lt;Model&gt;</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-always-implement-urlcontract">1. Always Implement UrlContract<a href="#1-always-implement-urlcontract" class="hash-link" aria-label="Direct link to 1. Always Implement UrlContract" title="Direct link to 1. Always Implement UrlContract" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: Missing UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;  // Will throw ModelUrlContractNotFoundException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-make-getfullurl-deterministic">2. Make getFullUrl() Deterministic<a href="#2-make-getfullurl-deterministic" class="hash-link" aria-label="Direct link to 2. Make getFullUrl() Deterministic" title="Direct link to 2. Make getFullUrl() Deterministic" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Deterministic, no side effects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &#x27;/shop/&#x27; . ($this-&gt;category-&gt;slug ?? &#x27;uncategorized&#x27;) . &#x27;/&#x27; . ($this-&gt;slug ?? &#x27;product-&#x27; . $this-&gt;id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: Non-deterministic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &#x27;/shop/&#x27; . $this-&gt;category-&gt;slug . &#x27;/&#x27; . $this-&gt;slug . &#x27;?ref=&#x27; . time();  // Changes every call</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-handle-conflicts-gracefully">3. Handle Conflicts Gracefully<a href="#3-handle-conflicts-gracefully" class="hash-link" aria-label="Direct link to 3. Handle Conflicts Gracefully" title="Direct link to 3. Handle Conflicts Gracefully" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Handle conflicts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $product-&gt;dispatchSlug($slug, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (SlugConflictException $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return back()-&gt;withErrors([&#x27;slug&#x27; =&gt; &#x27;This slug is already taken.&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-use-collections-for-organization">4. Use Collections for Organization<a href="#4-use-collections-for-organization" class="hash-link" aria-label="Direct link to 4. Use Collections for Organization" title="Direct link to 4. Use Collections for Organization" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Use collections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;, &#x27;featured-products&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: No organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;mbp-14&#x27;);  // Harder to manage</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-implement-geturldescendants-for-hierarchies">5. Implement getUrlDescendants() for Hierarchies<a href="#5-implement-geturldescendants-for-hierarchies" class="hash-link" aria-label="Direct link to 5. Implement getUrlDescendants() for Hierarchies" title="Direct link to 5. Implement getUrlDescendants() for Hierarchies" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Cascade support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function getUrlDescendants(): iterable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return $this-&gt;products;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: No cascade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Children URLs won&#x27;t update when parent changes</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-mistakes">Common Mistakes<a href="#common-mistakes" class="hash-link" aria-label="Direct link to Common Mistakes" title="Direct link to Common Mistakes" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mistake-1-not-implementing-urlcontract">Mistake 1: Not Implementing UrlContract<a href="#mistake-1-not-implementing-urlcontract" class="hash-link" aria-label="Direct link to Mistake 1: Not Implementing UrlContract" title="Direct link to Mistake 1: Not Implementing UrlContract" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: Missing interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Product extends Model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;  // Throws exception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mistake-2-non-deterministic-getfullurl">Mistake 2: Non-Deterministic getFullUrl()<a href="#mistake-2-non-deterministic-getfullurl" class="hash-link" aria-label="Direct link to Mistake 2: Non-Deterministic getFullUrl()" title="Direct link to Mistake 2: Non-Deterministic getFullUrl()" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: Returns different values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function getFullUrl(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &#x27;/shop/&#x27; . $this-&gt;slug . &#x27;?t=&#x27; . time();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mistake-3-not-handling-conflicts">Mistake 3: Not Handling Conflicts<a href="#mistake-3-not-handling-conflicts" class="hash-link" aria-label="Direct link to Mistake 3: Not Handling Conflicts" title="Direct link to Mistake 3: Not Handling Conflicts" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: No error handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$product-&gt;dispatchSlug(&#x27;existing-slug&#x27;);  // May throw exception</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mistake-4-forgetting-cascade">Mistake 4: Forgetting Cascade<a href="#mistake-4-forgetting-cascade" class="hash-link" aria-label="Direct link to Mistake 4: Forgetting Cascade" title="Direct link to Mistake 4: Forgetting Cascade" translate="no">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Bad: Children URLs don&#x27;t update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Category extends Model implements UrlContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use HasUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Missing getUrlDescendants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation" translate="no">​</a></h2>
<ul>
<li class=""><a href="/packages/laravel-url/deep-diving/url-contract">UrlContract</a> - Interface for URL-capable models</li>
<li class=""><a href="/packages/laravel-url/deep-diving/models/slug">Slug Model</a> - Slug model reference</li>
<li class=""><a href="/packages/laravel-url/deep-diving/models/url">Url Model</a> - URL model reference</li>
<li class=""><a href="/packages/laravel-url/deep-diving/events">Events</a> - URL-related events</li>
<li class=""><a href="/packages/laravel-url/deep-diving/slug-exist-rule">SlugExistRule</a> - Validation rule for slugs</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/jobmetric/document/blob/master/packages/laravel-url/deep-diving/has-url.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/packages/laravel-url/showcase"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Showcase</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/packages/laravel-url/deep-diving/url-contract"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">UrlContract</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use-hasurl" class="table-of-contents__link toc-highlight">When to Use HasUrl</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#namespace" class="table-of-contents__link toc-highlight">Namespace</a></li><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#assigning-slugs" class="table-of-contents__link toc-highlight">Assigning Slugs</a><ul><li><a href="#using-dispatchslug" class="table-of-contents__link toc-highlight">Using <code>dispatchSlug()</code></a></li><li><a href="#using-virtual-attributes" class="table-of-contents__link toc-highlight">Using Virtual Attributes</a></li></ul></li><li><a href="#reading-slugs" class="table-of-contents__link toc-highlight">Reading Slugs</a><ul><li><a href="#accessors" class="table-of-contents__link toc-highlight">Accessors</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a></li><li><a href="#finding-models-by-slug" class="table-of-contents__link toc-highlight">Finding Models by Slug</a></li></ul></li><li><a href="#collections" class="table-of-contents__link toc-highlight">Collections</a><ul><li><a href="#collection-resolution" class="table-of-contents__link toc-highlight">Collection Resolution</a></li><li><a href="#custom-default-collection" class="table-of-contents__link toc-highlight">Custom Default Collection</a></li></ul></li><li><a href="#url-versioning" class="table-of-contents__link toc-highlight">URL Versioning</a><ul><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a></li><li><a href="#reading-urls" class="table-of-contents__link toc-highlight">Reading URLs</a></li><li><a href="#url-resolution" class="table-of-contents__link toc-highlight">URL Resolution</a></li></ul></li><li><a href="#cascading-url-updates" class="table-of-contents__link toc-highlight">Cascading URL Updates</a><ul><li><a href="#implementing-cascading" class="table-of-contents__link toc-highlight">Implementing Cascading</a></li><li><a href="#disabling-cascade" class="table-of-contents__link toc-highlight">Disabling Cascade</a></li></ul></li><li><a href="#soft-delete-and-restore" class="table-of-contents__link toc-highlight">Soft Delete and Restore</a><ul><li><a href="#soft-delete" class="table-of-contents__link toc-highlight">Soft Delete</a></li><li><a href="#restore" class="table-of-contents__link toc-highlight">Restore</a></li><li><a href="#force-delete" class="table-of-contents__link toc-highlight">Force Delete</a></li></ul></li><li><a href="#bulk-operations" class="table-of-contents__link toc-highlight">Bulk Operations</a><ul><li><a href="#rebuilding-urls" class="table-of-contents__link toc-highlight">Rebuilding URLs</a></li></ul></li><li><a href="#conflict-detection" class="table-of-contents__link toc-highlight">Conflict Detection</a><ul><li><a href="#slug-conflicts" class="table-of-contents__link toc-highlight">Slug Conflicts</a></li><li><a href="#url-conflicts" class="table-of-contents__link toc-highlight">URL Conflicts</a></li></ul></li><li><a href="#removing-slugs" class="table-of-contents__link toc-highlight">Removing Slugs</a></li><li><a href="#real-world-examples" class="table-of-contents__link toc-highlight">Real-World Examples</a><ul><li><a href="#example-1-e-commerce-product" class="table-of-contents__link toc-highlight">Example 1: E-Commerce Product</a></li><li><a href="#example-2-blog-post-with-category" class="table-of-contents__link toc-highlight">Example 2: Blog Post with Category</a></li><li><a href="#example-3-handling-conflicts" class="table-of-contents__link toc-highlight">Example 3: Handling Conflicts</a></li><li><a href="#example-4-using-collections" class="table-of-contents__link toc-highlight">Example 4: Using Collections</a></li><li><a href="#example-5-url-history-and-redirects" class="table-of-contents__link toc-highlight">Example 5: URL History and Redirects</a></li><li><a href="#example-6-rebuilding-urls" class="table-of-contents__link toc-highlight">Example 6: Rebuilding URLs</a></li></ul></li><li><a href="#method-reference" class="table-of-contents__link toc-highlight">Method Reference</a><ul><li><a href="#slug-methods" class="table-of-contents__link toc-highlight">Slug Methods</a></li><li><a href="#url-methods" class="table-of-contents__link toc-highlight">URL Methods</a></li><li><a href="#static-methods" class="table-of-contents__link toc-highlight">Static Methods</a></li><li><a href="#cascade-control" class="table-of-contents__link toc-highlight">Cascade Control</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-always-implement-urlcontract" class="table-of-contents__link toc-highlight">1. Always Implement UrlContract</a></li><li><a href="#2-make-getfullurl-deterministic" class="table-of-contents__link toc-highlight">2. Make getFullUrl() Deterministic</a></li><li><a href="#3-handle-conflicts-gracefully" class="table-of-contents__link toc-highlight">3. Handle Conflicts Gracefully</a></li><li><a href="#4-use-collections-for-organization" class="table-of-contents__link toc-highlight">4. Use Collections for Organization</a></li><li><a href="#5-implement-geturldescendants-for-hierarchies" class="table-of-contents__link toc-highlight">5. Implement getUrlDescendants() for Hierarchies</a></li></ul></li><li><a href="#common-mistakes" class="table-of-contents__link toc-highlight">Common Mistakes</a><ul><li><a href="#mistake-1-not-implementing-urlcontract" class="table-of-contents__link toc-highlight">Mistake 1: Not Implementing UrlContract</a></li><li><a href="#mistake-2-non-deterministic-getfullurl" class="table-of-contents__link toc-highlight">Mistake 2: Non-Deterministic getFullUrl()</a></li><li><a href="#mistake-3-not-handling-conflicts" class="table-of-contents__link toc-highlight">Mistake 3: Not Handling Conflicts</a></li><li><a href="#mistake-4-forgetting-cascade" class="table-of-contents__link toc-highlight">Mistake 4: Forgetting Cascade</a></li></ul></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2026 JobMetric.</div></div></div></footer></div>
</body>
</html>